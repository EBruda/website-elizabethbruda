(this["webpackJsonpgt-scheduler"]=this["webpackJsonpgt-scheduler"]||[]).push([[0],{207:function(e,t,n){},208:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},274:function(e,t,n){},276:function(e,t,n){},277:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},300:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(45),s=n.n(a),i=n(315),o=n(168),u=n(19),l=n.n(u),d=n(11),j=n(26),b=n(67),f=n(10),h=n(6),m=n(156),p=n(157),v=n(158),O=n.n(v),x=n(159),g=480,y=["M","T","W","R","F"],w=[["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF"],["#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF"],["#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]],C={"Hybrid Course":"Hybrid","Remote Synchronous Course":"Remote Synchronous","Remote Asynchronous Course":"Remote Asynchronous","Residential Course":"Residential"},N={"Georgia Tech-Atlanta *":"Atlanta","GT Lorraine-Undergrad Programs":"Lorraine Undergrad","GT Lorraine-Graduate Programs":"Lorraine Graduate","Georgia Tech - Shenzhen":"Shenzhen",Video:"Video",Online:"Online","MBA Evening Program":"MBA Evening"},k="https://gt-scheduler.azurewebsites.net",T=n(73),S=n(21),D=n(22),E=n(84),A=n(85),M=n(89),I=n(169),F=n(33),L=n(87),R=n.n(L),B=["type"],_=function(e){Object(A.a)(n,e);var t=Object(M.a)(n);function n(e){var r,c=e.message,a=e.source,s=e.fields,i=void 0===s?{}:s;Object(S.a)(this,n),(r=t.call(this)).fields=void 0,r.topMessage=void 0,r.source=void 0,r.fields=i,r.topMessage=c,a instanceof Error?(r.source=a,r.message="".concat(c,": ").concat(a.message),null!=a.stack&&(r.stack=a.stack)):(r.source=null,r.message=c,null!==r.source&&(r.fields.__non_error_source="true",r.fields.__source=R()(a)));var o=r.getRootError();return o===Object(E.a)(r)||o instanceof n?r.name="ErrorWithFields":r.name="ErrorWithFields(".concat(o.name,")"),r}return Object(D.a)(n,[{key:"logToConsole",value:function(){console.group(this.topMessage),console.error(this.getRootError());var e=this.getAllFields();Object.keys(e).length>0&&console.info(e),console.groupEnd()}},{key:"getAllFields",value:function(){return this.source instanceof n?Object(d.a)(Object(d.a)({},this.source.getAllFields()),this.fields):this.fields}},{key:"getRootError",value:function(){return null===this.source?this:this.source instanceof n?this.source.getRootError():this.source}}]),n}(Object(I.a)(Error));function G(e){e.logToConsole();var t=e.getAllFields();if(Object.keys(t).includes("type")){var n=t,r=n.type,c=Object(T.a)(n,B);t=Object(d.a)({__do_not_use_type_in_sentry_it_is_special:r},c)}F.a(e.getRootError(),{contexts:{fields:t,error:{message:e.message}},fingerprint:[e.message]})}var W=function(e,t){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1===navigator.userAgent.indexOf("MSIE 10"))){"undefined"===typeof e&&(e="default"),"undefined"===typeof t&&(t="Calendar");var n=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",r=[],c=["BEGIN:VCALENDAR","PRODID:".concat(t),"VERSION:2.0"].join(n),a="".concat(n,"END:VCALENDAR"),s=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return r},calendar:function(){return c+n+r.join(n)+a},addEvent:function(t,c,a,i,o,u){if("undefined"===typeof t||"undefined"===typeof c||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof o)return!1;if(u&&!u.rrule){if("YEARLY"!==u.freq&&"MONTHLY"!==u.freq&&"WEEKLY"!==u.freq&&"DAILY"!==u.freq)throw new Error("Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'");if(u.until&&Number.isNaN(Date.parse(u.until)))throw new Error("Recurrence rrule 'until' must be a valid date string");if(u.interval&&Number.isNaN(parseInt(u.interval,10)))throw new Error("Recurrence rrule 'interval' must be an integer");if(u.count&&Number.isNaN(parseInt(u.count,10)))throw new Error("Recurrence rrule 'count' must be an integer");if("undefined"!==typeof u.byday){if("[object Array]"!==Object.prototype.toString.call(u.byday))throw new Error("Recurrence rrule 'byday' must be an array");if(u.byday.length>7)throw new Error("Recurrence rrule 'byday' array must not be longer than the 7 days in a week");for(var l in u.byday=u.byday.filter((function(e,t){return u.byday.indexOf(e)===t})),u.byday)if(s.indexOf(u.byday[l])<0)throw new Error("Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'")}}var d=new Date(i),j=new Date(o),b=new Date,f="0000".concat(d.getFullYear().toString()).slice(-4),h="00".concat((d.getMonth()+1).toString()).slice(-2),m="00".concat(d.getDate().toString()).slice(-2),p="00".concat(d.getHours().toString()).slice(-2),v="00".concat(d.getMinutes().toString()).slice(-2),O="00".concat(d.getSeconds().toString()).slice(-2),x="0000".concat(j.getFullYear().toString()).slice(-4),g="00".concat((j.getMonth()+1).toString()).slice(-2),y="00".concat(j.getDate().toString()).slice(-2),w="00".concat(j.getHours().toString()).slice(-2),C="00".concat(j.getMinutes().toString()).slice(-2),N="00".concat(j.getSeconds().toString()).slice(-2),k="0000".concat(b.getFullYear().toString()).slice(-4),T="00".concat((b.getMonth()+1).toString()).slice(-2),S="00".concat(b.getDate().toString()).slice(-2),D="00".concat(b.getHours().toString()).slice(-2),E="00".concat(b.getMinutes().toString()).slice(-2),A="00".concat(b.getSeconds().toString()).slice(-2),M="",I="";p+v+O+w+C+N!==0&&(M="T".concat(p).concat(v).concat(O),I="T".concat(w).concat(C).concat(N));var F,L=f+h+m+M,R=x+g+y+I,B=k+T+S+"T".concat(D).concat(E).concat(A);if(u)if(u.rrule)F=u.rrule;else{if(F="RRULE:FREQ=".concat(u.freq),u.until){var _=new Date(Date.parse(u.until)).toISOString();F+=";UNTIL=".concat(_.substring(0,_.length-13).replace(/[-]/g,""),"000000Z")}u.interval&&(F+=";INTERVAL=".concat(u.interval)),u.count&&(F+=";COUNT=".concat(u.count)),u.byday&&u.byday.length>0&&(F+=";BYDAY=".concat(u.byday.join(",")))}var G=["BEGIN:VEVENT","UID:".concat(r.length,"@").concat(e),"CLASS:PUBLIC","DESCRIPTION:".concat(c),"DTSTAMP;VALUE=DATE-TIME:".concat(B),"DTSTART;VALUE=DATE-TIME:".concat(L),"DTEND;VALUE=DATE-TIME:".concat(R),"LOCATION:".concat(a),"SUMMARY;LANGUAGE=en-us:".concat(t),"TRANSP:TRANSPARENT","END:VEVENT"];return F&&G.splice(4,0,F),G=G.join(n),r.push(G),G},download:function(e,t){if(r.length<1)return!1;t="undefined"!==typeof t?t:".ics",e="undefined"!==typeof e?e:"calendar";var s,i=c+n+r.join(n)+a;if(-1===navigator.userAgent.indexOf("MSIE 10"))s=new Blob([i]);else{var o=new BlobBuilder;o.append(i),s=o.getBlob("text/x-vCalendar;charset=".concat(document.characterSet))}return saveAs(s,e+t),i},build:function(){return!(r.length<1)&&c+n+r.join(n)+a}}}console.log("Unsupported Browser")},P=n(0),z=function(e){var t=/(\d{1,2}):(\d{2}) (a|p)m/.exec(e);if(null===t)return 0;var n=t,r=Object(h.a)(n,4),c=r[1],a=r[2];return 60*(("p"===r[3]?12:0)+ +c%12)+ +a},q=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e/60|0,r=e%60,c=n>12?n-12:n,a="".concat(r).padStart(2,"0"),s="".concat(n<12?"a":"p","m");return t?"".concat(c,":").concat(a," ").concat(s):"".concat(c,":").concat(a)},V=function(e){var t=e/60|0;return"".concat(t>12?t-12:t).concat(t<12?"a":"p","m")},H=function(e){return null!=e?"".concat(q(e.start,!1)," - ").concat(q(e.end)):"TBA"},U=function(){var e,t=w.flat();return null!==(e=t[Math.random()*t.length|0])&&void 0!==e?e:"#333333"},Y=function(e){return null==e||.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16)>128?"light-content":"dark-content"},J=function(e,t){return e.meetings.some((function(e){return t.meetings.some((function(t){return e.period&&t.period&&y.some((function(n){return e.days.includes(n)&&t.days.includes(n)}))&&e.period.start<t.period.end&&t.period.start<e.period.end}))}))},K=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")},X=function(){return window.innerWidth<1024},Z=function(e){var t=e.split(" ");return[t.shift(),t.pop()].join(" ")};function Q(e){return Array.from(new Set(e))}var $=function(e){return["Lab","Studio"].some((function(t){return e.scheduleType.includes(t)}))},ee=function(e){return e.scheduleType.includes("Lecture")};function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and";if(0===e.length)return null;if(1===e.length)return String(e[0]);if(2===e.length)return Object(P.jsxs)(P.Fragment,{children:[String(e[0])," ",t," ",String(e[1])]});var n=Object(f.a)(e),r=n.pop();return Object(P.jsxs)(P.Fragment,{children:["".concat(n.join(", "),",").trim()," ",t," ",String(r)]})}var ne=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=function(e){return Array.isArray(t)&&e===t.length-2},a="";if(Array.isArray(t)){if("and"===t[0]){var s=Object(b.a)(t),i=s.slice(1);i.forEach((function(t,n){a+=e(t,0===n,c(n))+(c(n)?"":" and ")}))}else if("or"===t[0]){var o=Object(b.a)(t),u=o.slice(1);u.forEach((function(t,n){a+=e(t)+(c(n)?"":" or ")}))}}else a+=(n?"(":"")+t.id+(r?")":"");return a},re=function(e){return e instanceof Error&&e.message.includes("Network Error")};function ce(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(j.a)(l.a.mark((function e(t){var n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,Object(m.DelayFactory)(Object(p.getSanitizedOptions)(Object(d.a)({jitter:"full",numOfAttempts:Number.MAX_SAFE_INTEGER},n)),t).apply();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.amount_ms,e.next=3,new Promise((function(e){return setTimeout((function(){return e(void 0)}),n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=n(40),ue=n.n(oe),le=n(18),de=n(8);n(207);function je(e){var t=e.className,n=e.disabled,r=void 0!==n&&n,c=e.href,a=e.onClick,s=e.children;return r?Object(P.jsx)("div",{className:K("Button","disabled",t),children:s}):null!=c?Object(P.jsx)("a",{className:K("Button",t),href:c,rel:"noopener noreferrer",target:"_blank",children:s}):Object(P.jsx)("div",{className:K("Button",t),onClick:a,tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&null!=a&&a()},role:"button",children:s})}n(208);var be=["className","label","children","actions"],fe=["icon","styling","dataTip","dataFor","onMouseEnter","onMouseLeave"];function he(e){var t=e.className,n=e.label,c=e.children,a=e.actions,s=Object(T.a)(e,be);return Object(P.jsxs)("div",Object(d.a)(Object(d.a)({className:K("ActionRow",t)},s),{},{children:[Object(P.jsxs)("div",{className:"action-row-header",children:[Object(P.jsx)("div",{className:"label",children:n}),Object(P.jsx)("div",{className:K("actions","default"),children:a.flatMap((function(e){return null!=e?[e]:[]})).map((function(e,t){var n=e.icon,c=e.styling,a=e.dataTip,s=e.dataFor,i=e.onMouseEnter,o=e.onMouseLeave,u=Object(T.a)(e,fe);return Object(r.createElement)(je,Object(d.a)(Object(d.a)({className:"action"},u),{},{key:t}),Object(P.jsx)(le.a,{fixedWidth:!0,style:c,icon:n,"data-tip":a,"data-for":s,onMouseEnter:i,onMouseLeave:o}))}))})]}),c]}))}var me=c.a.createContext(["light",function(e){throw new _({message:"empty ThemeContext.setTheme value being used",fields:{next:e}})}]),pe=c.a.createContext([]),ve=n(42),Oe=function(){function e(t,n,r){var c=this;Object(S.a)(this,e),this.id=void 0,this.subject=void 0,this.number=void 0,this.title=void 0,this.sections=void 0,this.prereqs=void 0,this.hasLab=void 0,this.onlyLectures=void 0,this.onlyLabs=void 0,this.allInOnes=void 0,this.sectionGroups=void 0,this.term=void 0,this.term=t.term;var a=Object(h.a)(r,3),s=a[0],i=a[1],o=a[2];this.id=n;var u=this.id.split(" "),l=Object(h.a)(u,2),d=l[0],j=l[1];if(null==d||null==j)throw new _({message:"course ID could not be parsed",fields:{id:this.id,subject:d,number:j,term:this.term}});this.subject=d,this.number=j,this.title=s,this.sections=Object.entries(i).flatMap((function(e){var r=Object(h.a)(e,2),a=r[0],s=r[1];if(null==s)return[];try{return[new ye(t,c,a,s)]}catch(i){return G(new _({message:"could not construct Section bean",source:i,fields:{courseId:n,term:c.term}})),[]}})),this.prereqs=o;var b=this.sections.filter((function(e){return ee(e)&&!$(e)})),f=this.sections.filter((function(e){return $(e)&&!ee(e)}));if(this.hasLab=!!b.length&&!!f.length,this.hasLab){var m,p=Object(ve.a)(b);try{var v=function(){var e=m.value;e.associatedLabs=f.filter((function(t){return t.id.startsWith(e.id)}))};for(p.s();!(m=p.n()).done;)v()}catch(A){p.e(A)}finally{p.f()}var O,x=Object(ve.a)(f);try{var g=function(){var e=O.value;e.associatedLectures=b.filter((function(t){return e.id.startsWith(t.id)}))};for(x.s();!(O=x.n()).done;)g()}catch(A){x.e(A)}finally{x.f()}var y,w=b.filter((function(e){return!e.associatedLabs.length})),C=f.filter((function(e){return!e.associatedLectures.length})),N=Object(ve.a)(w);try{var k=function(){var e=y.value;e.associatedLabs=C.filter((function(t){return!J(e,t)}))};for(N.s();!(y=N.n()).done;)k()}catch(A){N.e(A)}finally{N.f()}var T,D=Object(ve.a)(C);try{var E=function(){var e=T.value;e.associatedLectures=w.filter((function(t){return!J(t,e)}))};for(D.s();!(T=D.n()).done;)E()}catch(A){D.e(A)}finally{D.f()}this.onlyLectures=b,this.onlyLabs=f,this.allInOnes=this.sections.filter((function(e){return ee(e)&&$(e)}))}else this.sectionGroups=this.distinct(this.sections)}return Object(D.a)(e,[{key:"distinct",value:function(e){var t={};return e.forEach((function(e){var n=e.meetings.map((function(e){return{days:e.days,period:e.period}})),r=JSON.stringify(n),c=t[r];c?c.sections.push(e):t[r]={hash:r,meetings:n,sections:[e]}})),t}},{key:"fetchGpa",value:function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,r,c,a,s,i=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://c4citk6s9k.execute-api.us-east-1.amazonaws.com/test/data",t="".concat(this.subject," ").concat(this.number.replace(/\D/g,"")),n=encodeURIComponent(t),r="".concat("https://c4citk6s9k.execute-api.us-east-1.amazonaws.com/test/data","/course?courseID=").concat(n),e.prev=4,e.next=7,ue.a.get(r);case 7:c=e.sent.data,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),re(e.t0)||G(new _({message:"error fetching course details from Course Critique API",source:e.t0,fields:{baseId:this.id,cleanedId:t,url:r,term:this.term}})),e.abrupt("return",{});case 14:if(e.prev=14,a={},null!==(s=c.header[0].avg_gpa)){e.next=19;break}return e.abrupt("return",{});case 19:if("number"===typeof s){e.next=21;break}throw new _({message:'data at ".header[0].avg_gpa" was not a number',fields:{actual:s,term:this.term}});case 21:return a.averageGpa=s,c.raw.forEach((function(e,t){var n=e.instructor_name;if("string"!==typeof n)throw new _({message:'data at ".raw[idx].instructor_name" was not a string',fields:{idx:t,actual:n,term:i.term}});var r=e.GPA;if("number"!==typeof r)throw new _({message:'data at ".raw[idx].GPA" was not a number',fields:{idx:t,actual:r,term:i.term}});var c=n,s=c.split(", ");if(2===s.length){var o=s,u=Object(h.a)(o,2),l=u[0],d=u[1];c="".concat(d," ").concat(l)}a[c]=r})),e.abrupt("return",a);case 26:return e.prev=26,e.t1=e.catch(14),G(new _({message:"error extracting course GPA from Course Critique API response",source:e.t1,fields:{baseId:this.id,cleanedId:t,url:r,term:this.term}})),e.abrupt("return",{});case 30:case"end":return e.stop()}}),e,this,[[4,10],[14,26]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),xe=n(160),ge=n.n(xe),ye=function(){function e(t,n,r,c){var a,s,i;Object(S.a)(this,e),this.course=void 0,this.id=void 0,this.crn=void 0,this.seating=void 0,this.credits=void 0,this.scheduleType=void 0,this.campus=void 0,this.deliveryMode=void 0,this.gradeBasis=void 0,this.meetings=void 0,this.instructors=void 0,this.associatedLabs=void 0,this.associatedLectures=void 0,this.term=void 0,this.term=t.term;var o=Object(h.a)(c,7),u=o[0],l=o[1],d=o[2],j=o[3],b=o[4],m=o[5],p=o[6];this.course=n,this.id=r,this.crn=u,this.seating=[[],0],this.credits=d,this.scheduleType=null!==(a=t.scheduleTypes[j])&&void 0!==a?a:"unknown",this.campus=null!==(s=t.campuses[b])&&void 0!==s?s:"unknown";var v=m.map((function(e){return t.attributes[e]})).flatMap((function(e){return null==e?[]:[e]}));this.deliveryMode=v.find((function(e){return e in C})),this.gradeBasis=null!==(i=t.gradeBases[p])&&void 0!==i?i:"unknown",this.meetings=l.map((function(e){var n,r,c=Object(h.a)(e,6),a=c[0],s=c[1],i=c[2],o=c[3],u=c[4],l=c[5];return{period:t.periods[a],days:"&nbsp;"===s?[]:s.split(""),where:i,location:null!==(n=t.locations[o])&&void 0!==n?n:null,instructors:u.map((function(e){return e.replace(/ \(P\)$/,"")})),dateRange:null!==(r=t.dateRanges[l])&&void 0!==r?r:{from:new Date,to:new Date}}})),this.instructors=Q(this.meetings.map((function(e){return e.instructors})).reduce((function(e,t){return[].concat(Object(f.a)(e),Object(f.a)(t))}),[])),this.associatedLabs=[],this.associatedLectures=[]}return Object(D.a)(e,[{key:"fetchSeating",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n,r,c,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.seating[1],!((r=Date.now())-n>3e5)){e.next=5;break}return c="".concat(k,"/proxy/class_section?term=").concat(t,"&crn=").concat(this.crn),e.abrupt("return",ue()({url:c,method:"get",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"text/html"}}).then((function(e){var t=ge.a.load(e.data)(".datadisplaytable .datadisplaytable").find("tr");return a.seating=[[parseInt(t.eq(1).children("td").first().text(),10),parseInt(t.eq(1).children("td").eq(1).text(),10),parseInt(t.eq(2).children("td").first().text(),10),parseInt(t.eq(2).children("td").eq(1).text(),10)],r],a.seating})).catch((function(){return[new Array(4).fill("N/A"),r]})));case 5:return e.abrupt("return",this.seating);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),we=function e(t,n){Object(S.a)(this,e),this.label=void 0,this.calculateFactor=void 0,this.label=t,this.calculateFactor=n},Ce=function(){function e(t,n){var r=this;Object(S.a)(this,e),this.term=n,this.periods=void 0,this.dateRanges=void 0,this.scheduleTypes=void 0,this.campuses=void 0,this.attributes=void 0,this.gradeBases=void 0,this.locations=void 0,this.updatedAt=void 0,this.version=void 0,this.courses=void 0,this.courseMap=void 0,this.crnMap=void 0,this.sortingOptions=void 0;var c=t.courses,a=t.caches,s=t.updatedAt,i=t.version;this.periods=a.periods.map((function(e,t){if("TBA"!==e){var n=e.split(" - ");if(2===n.length){var c=n,a=Object(h.a)(c,2),s=a[0],i=a[1];return{start:z(s),end:z(i)}}G(new _({message:"period did not follow expected format",fields:{period:e,cacheIndex:t,term:r.term}}))}})),this.dateRanges=a.dateRanges.map((function(e,t){var n=e.split(" - ");2!==n.length&&(G(new _({message:"date range did not follow expected format",fields:{dateRange:e,cacheIndex:t,term:r.term}})),n=["Jan 1, 1970","Jan 2, 1970"]);var c=n.map((function(e){return new Date(e)})),a=Object(h.a)(c,2),s=a[0],i=a[1];return s.setHours(0),i.setHours(23,59,59,999),{from:s,to:i}})),this.scheduleTypes=a.scheduleTypes,this.campuses=a.campuses,this.attributes=a.attributes,this.gradeBases=a.gradeBases,this.locations=a.locations,this.updatedAt=new Date(s),this.version=i,this.courses=Object.entries(c).flatMap((function(e){var t=Object(h.a)(e,2),n=t[0],c=t[1];try{return[new Oe(r,n,c)]}catch(a){return G(new _({message:"could not initialize Course bean",fields:{courseId:n,source:c,term:r.term}})),[]}})),this.courseMap={},this.crnMap={},this.courses.forEach((function(e){r.courseMap[e.id]=e,e.sections.forEach((function(e){r.crnMap[e.crn]=e}))})),this.sortingOptions=[new we("Most Compact",(function(e){var t=e.startMap,n=e.endMap;return+Object.keys(t).map((function(e){var r=n[e],c=t[e];return null==r||null==c?0:r-c})).reduce((function(e,t){return e+t}),0)})),new we("Earliest Ending",(function(e){var t=e.endMap,n=Object.values(t);return+(n.reduce((function(e,t){return e+(null!==t&&void 0!==t?t:0)}),0)/n.length)})),new we("Latest Beginning",(function(e){var t=e.startMap,n=Object.values(t);return-(n.reduce((function(e,t){return e+(null!==t&&void 0!==t?t:0)}),0)/n.length)}))]}return Object(D.a)(e,[{key:"findCourse",value:function(e){return this.courseMap[e]}},{key:"findSection",value:function(e){return this.crnMap[e]}},{key:"getCombinations",value:function(e,t,n){var r=this,c=[];return function a(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(s!==e.length){var o=e[s];if(void 0!==o){var u=r.findCourse(o);if(void 0!==u){var l=function(e){return!n.includes(e.crn)},d=function(e){return t.includes(e.crn)},j=function(e){return[].concat(Object(f.a)(t),Object(f.a)(i)).some((function(t){var n=r.findSection(t);return void 0!==n&&J(n,e)}))};if(u.hasLab){var b,h,m,p=(null!==(b=u.onlyLectures)&&void 0!==b?b:[]).find(d),v=(null!==(h=u.onlyLabs)&&void 0!==h?h:[]).find(d),O=(null!==(m=u.allInOnes)&&void 0!==m?m:[]).find(d);if(p&&v||O)a(s+1,i);else if(p)p.associatedLabs.filter(l).forEach((function(e){j(e)||a(s+1,[].concat(Object(f.a)(i),[e.crn]))}));else if(v)v.associatedLectures.filter(l).forEach((function(e){j(e)||a(s+1,[].concat(Object(f.a)(i),[e.crn]))}));else{var x,g;(null!==(x=u.onlyLectures)&&void 0!==x?x:[]).filter(l).forEach((function(e){j(e)||e.associatedLabs.filter(l).forEach((function(t){j(t)||a(s+1,[].concat(Object(f.a)(i),[e.crn,t.crn]))}))})),(null!==(g=u.allInOnes)&&void 0!==g?g:[]).filter(l).forEach((function(e){j(e)||a(s+1,[].concat(Object(f.a)(i),[e.crn]))}))}}else if(u.sections.some(d))a(s+1,i);else{var y;Object.values(null!==(y=u.sectionGroups)&&void 0!==y?y:{}).forEach((function(e){if(null!=e){var t=e.sections.find(l);t&&!j(t)&&a(s+1,[].concat(Object(f.a)(i),[t.crn]))}}))}}}}else c.push(i)}(),c.map((function(e){var n={},c={};return r.iterateTimeBlocks([].concat(Object(f.a)(t),Object(f.a)(e)),(function(e,t){if(void 0!==t){var r=c[e],a=n[e];(null==a||a>t.start)&&(n[e]=t.start),(null==r||r<t.end)&&(c[e]=t.end)}})),{crns:e,startMap:n,endMap:c}}))}},{key:"sortCombinations",value:function(e,t){var n=this.sortingOptions[t];if(void 0===n)throw new _({message:"sorting option index was out of bounds",fields:{sortingOptionIndex:t,actualSortingOptionsLength:this.sortingOptions.length,term:this.term}});return e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{factor:n.calculateFactor(e)})})).sort((function(e,t){return e.factor-t.factor}))}},{key:"iterateTimeBlocks",value:function(e,t){var n=this;e.forEach((function(e){var r=n.findSection(e);void 0!==r&&r.meetings.forEach((function(e){return e.period&&e.days.forEach((function(n){t(n,e.period)}))}))}))}}]),e}(),Ne=new Ce({courses:{},caches:{periods:[],dateRanges:[],scheduleTypes:[],campuses:[],attributes:[],gradeBases:[],locations:[]},updatedAt:JSON.parse(JSON.stringify(new Date)),version:1},"197008"),ke={versions:[],currentIndex:0},Te={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0},Se=c.a.createContext([Object(d.a)({term:"",oscar:Ne},Te),{setTerm:function(e){throw new _({message:"empty ScheduleContext.setTerm value being used",fields:{next:e}})},patchSchedule:function(e){throw new _({message:"empty ScheduleContext.patchSchedule value being used",fields:{patch:e}})},updateSchedule:function(){throw new _({message:"empty ScheduleContext.updateSchedule value being used"})}}]),De=c.a.createContext([[],function(e){throw new _({message:"empty OverlayCrnsContext.setOverlayCrns value being used",fields:{next:e}})}]),Ee=n(41);n(260);function Ae(e){return[e.start,e.end].join("-")}function Me(e){var t=e.className,n=e.crn,c=e.overlay,a=void 0!==c&&c,s=e.preview,i=e.capture,o=e.isAutosized,u=e.sizeInfo,l=Object(r.useContext)(Se),d=Object(h.a)(l,1)[0],j=d.oscar,b=d.colorMap,f=j.findSection(n);if(null==f)return null;var m=b[f.course.id],p=Y(m);return Object(P.jsxs)("div",{className:K("TimeBlocks",i&&"capture",a&&"overlay",t),children:[f.meetings.map((function(e,t){var r=e.period;if(null!=r){var c=Ae(r);return e.days.map((function(a){var i=u[a];if(null!=i){var o=i[c];if(null!=o)return Object(P.jsx)("div",{className:K("meeting",p,"default",a),style:{top:"".concat((r.start-g)/780*100,"%"),height:"".concat((r.end-r.start)/780*100,"%"),width:"".concat(20/o.rowSize,"%"),left:"".concat(20*y.indexOf(a)+o.rowIndex*(20/o.rowSize),"%"),backgroundColor:m},"data-tip":!0,"data-for":n,children:!s&&Object(P.jsxs)("div",{className:"meeting-wrapper",children:[Object(P.jsxs)("div",{className:"ids",children:[Object(P.jsx)("span",{className:"course-id",children:f.course.id}),Object(P.jsxs)("span",{className:"section-id",children:["\xa0",f.id]})]}),Object(P.jsx)("span",{className:"period",children:H(r)}),Object(P.jsx)("span",{className:"where",children:e.where}),Object(P.jsx)("span",{className:"instructors",children:e.instructors.join(", ")})]})},[t,a].join("-"))}}))}})),!o&&Object(P.jsx)(Ee.a,{id:n,className:"tooltip",type:"dark",place:"top",effect:"solid",children:Object(P.jsx)("table",{children:Object(P.jsxs)("tbody",{children:[Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("b",{children:"Course Name"})}),Object(P.jsx)("td",{children:f.course.title})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("b",{children:"Delivery Type"})}),Object(P.jsx)("td",{children:f.deliveryMode})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("b",{children:"Course Number"})}),Object(P.jsx)("td",{children:f.crn})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("b",{children:"Credit Hours"})}),Object(P.jsx)("td",{children:f.credits})]})]})})})]})}n(261);function Ie(e){var t=e.className,n=e.overlayCrns,c=e.preview,a=void 0!==c&&c,s=e.capture,i=void 0!==s&&s,o=e.isAutosized,u=void 0!==o&&o,l=Object(r.useContext)(Se),d=Object(h.a)(l,1)[0],j=d.pinnedCrns,b=d.oscar,m={},p=function e(t,n,r,c,a){n.has(r)||(n.add(r),t.filter((function(e){return e.period.start<c.end&&e.period.end>c.start})).forEach((function(r){r.rowSize=a,e(t,n,r.crn,r.period,a)})))},v=Array.from(new Set([].concat(Object(f.a)(j),Object(f.a)(n||[])))),O=function(e){var t=b.findSection(e);return null==t?0:Math.max.apply(Math,Object(f.a)(t.meetings.flatMap((function(e){var t=e.period;return null==t?[]:[t.end-t.start]}))))};return v.sort((function(e,t){return O(e)-O(t)})),v.forEach((function(e){var t=b.findSection(e);null!=t&&t.meetings.filter((function(e){return e.period})).forEach((function(t){var n=t.period;null!=n&&t.days.forEach((function(t){var r=Object.values(m).flatMap((function(e){var n;return null!=e?Object.values(null!==(n=e[t])&&void 0!==n?n:{}):[]})).flatMap((function(e){return null==e?[]:[e]})),c=r.filter((function(e){return e.period.start<n.end&&e.period.end>n.start})).reduce((function(e,t){return Math.max(e,t.rowSize+1)}),1);p(r,new Set,e,n,c);var a=m[e]||{};m[e]=a;var s=a[t]||{};a[t]=s,s[Ae(n)]={period:n,crn:e,rowIndex:c-1,rowSize:c}}))}))})),Object(P.jsxs)("div",{className:K("Calendar",i&&"capture",a&&"preview",t),children:[!a&&Object(P.jsx)("div",{className:"times",children:new Array(13).fill(0).map((function(e,t){var n=g+60*t;return Object(P.jsx)("div",{className:"time",children:Object(P.jsx)("span",{className:"label",children:V(n)})},n)}))}),!a&&Object(P.jsx)("div",{className:"days",children:y.map((function(e){return Object(P.jsx)("div",{className:"day",children:Object(P.jsx)("span",{className:"label",children:e})},e)}))}),Object(P.jsxs)("div",{className:"meetings",children:[j.map((function(e){var t;return Object(P.jsx)(Me,{crn:e,preview:a,capture:i,isAutosized:u,sizeInfo:null!==(t=m[e])&&void 0!==t?t:{}},e)})),n&&n.filter((function(e){return!j.includes(e)})).map((function(e){var t;return Object(P.jsx)(Me,{crn:e,overlay:!a,preview:a,capture:i,isAutosized:!0,sizeInfo:null!==(t=m[e])&&void 0!==t?t:{}},e)}))]})]})}var Fe=n(116);n(112),n(270);function Le(){var e=Object(r.useContext)(Se),t=Object(h.a)(e,2),n=t[0],c=n.oscar,a=n.desiredCourses,s=n.pinnedCrns,i=n.excludedCrns,o=n.sortingOptionIndex,u=t[1].patchSchedule,l=Object(r.useContext)(De),d=Object(h.a)(l,2)[1],j=Object(r.useCallback)((function(){window.confirm("Are you sure to reset sections you selected?")&&u({pinnedCrns:[]})}),[u]),b=Object(r.useMemo)((function(){return c.getCombinations(a,s,i)}),[c,a,s,i]),m=Object(r.useMemo)((function(){return c.sortCombinations(b,o)}),[c,b,o]);return Object(P.jsxs)("div",{className:"CombinationContainer",children:[Object(P.jsx)(tt,{onChange:function(e){return u({sortingOptionIndex:e})},value:o,options:c.sortingOptions.map((function(e,t){return{value:t,label:e.label}}))}),Object(P.jsx)(je,{className:"reset",onClick:j,disabled:0===s.length,children:"Reset Sections"}),Object(P.jsx)("div",{className:"scroller",children:Object(P.jsx)(Fe.a,{children:function(e){var t=e.width,n=e.height;return Object(P.jsx)(Fe.b,{width:t,height:n,style:{outline:"none"},rowCount:m.length,rowHeight:108,rowRenderer:function(e){var t=e.index,n=e.key,r=e.style,c=m[t].crns;return Object(P.jsx)("div",{className:"list-item",style:r,children:Object(P.jsxs)("div",{className:"combination",onMouseEnter:function(){return d(c)},onMouseLeave:function(){return d([])},onClick:function(){return u({pinnedCrns:[].concat(Object(f.a)(s),Object(f.a)(c))})},children:[Object(P.jsx)("div",{className:"number",children:t+1}),Object(P.jsx)(Ie,{className:"calendar-preview",overlayCrns:c,isAutosized:!0,preview:!0})]})},n)}})}})})]})}var Re=n(53),Be=Symbol("__#Cancellable-cancelled-symbol"),_e=function(){function e(){var t=this;Object(S.a)(this,e),this.isCancelled=void 0,this.cancel=void 0,this.promise=void 0,this.isCancelled=!1,this.cancel=function(){},this.promise=new Promise((function(e){t.cancel=function(){t.isCancelled=!0,e(Be)}}))}return Object(D.a)(e,[{key:"perform",value:function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([this.promise,t]);case 2:if((n=e.sent)!==Be){e.next=5;break}return e.abrupt("return",{cancelled:!0});case 5:return e.abrupt("return",{cancelled:!1,value:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();n(271);function Ge(e){var t=e.className,n=e.courseId,c=e.onAddCourse,a=Object(r.useState)(!1),s=Object(h.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(!1),b=Object(h.a)(u,2),f=b[0],m=b[1],p=Object(r.useState)(!1),v=Object(h.a)(p,2),O=v[0],x=v[1],g=Object(r.useState)(null),y=Object(h.a)(g,2),w=y[0],C=y[1],N=Boolean(c),k=Object(r.useContext)(Se),T=Object(h.a)(k,2),S=T[0],D=S.oscar,E=S.term,A=S.desiredCourses,M=S.pinnedCrns,I=S.excludedCrns,F=S.colorMap,L=T[1].patchSchedule;Object(r.useEffect)((function(){var e=D.findCourse(n);if(null!=e&&!N){var t=new _e;return function(){return r.apply(this,arguments)}().catch((function(t){G(new _({message:"error fetching course GPA",source:t,fields:{courseId:n,term:e.term}}))})),function(){t.cancel()}}function r(){return(r=Object(j.a)(l.a.mark((function n(){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e){n.next=2;break}return n.abrupt("return");case 2:return r=e.fetchGpa(),n.next=5,t.perform(r);case 5:(c=n.sent).cancelled||C(c.value);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[N,D,n]);var R=Object(r.useCallback)((function(e){var t=Object(d.a)({},F);delete t[e.id],L({desiredCourses:A.filter((function(t){return t!==e.id})),pinnedCrns:M.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),excludedCrns:I.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),colorMap:t})}),[A,M,I,F,L]),B=Object(r.useCallback)((function(e){var t=e.map((function(e){return e.crn}));L({excludedCrns:I.filter((function(e){return!t.includes(e)}))})}),[I,L]),W=D.findCourse(n);if(null==W)return null;var z,q=F[W.id],V=null!=q&&Y(q),H=D.version>1,U=null;H&&(U=null!==(z=W.prereqs)&&void 0!==z?z:[]);var J={};W.sections.forEach((function(e){var t,n=Object(h.a)(e.instructors,1)[0],r=void 0===n?"Not Assigned":n,c=null!==(t=J[r])&&void 0!==t?t:[];c.push(e),J[r]=c}));var X=Object.keys(J),Z=X.filter((function(e){var t=J[e];return null!=t&&t.every((function(e){return I.includes(e.crn)}))})),Q=X.filter((function(e){return!Z.includes(e)})),$=function(e,t){m(e),o(t)},ee={icon:de.s,styling:{transform:"rotate(90deg)"},onClick:function(){$(!0,!f||!i)}},te={icon:de.n,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_"+"course_detail?cat_term_in=".concat(E,"&subj_code_in=")+"".concat(W.subject,"&crse_numb_in=").concat(W.number)},ne=W.sections.filter((function(e){return M.includes(e.crn)})),re=ne.reduce((function(e,t){return e+t.credits}),0);return Object(P.jsxs)("div",{className:K("Course",V,"default",t),style:{backgroundColor:q},children:[Object(P.jsxs)(he,{label:[W.id,ne.map((function(e){return e.id})).join(", ")].join(" "),actions:N?[{icon:de.r,onClick:c},H?ee:te]:[{icon:i?de.c:de.b,onClick:function(){return $(!1,!i)}},H?ee:te,{icon:de.p,onClick:function(){return x(!O)}},{icon:de.v,onClick:function(){return R(W)}}],children:[Object(P.jsxs)("div",{className:"course-row",children:[Object(P.jsx)("span",{className:"course-title",children:W.title}),Object(P.jsx)("span",{className:"section-crns",children:ne.map((function(e){return e.crn})).join(", ")})]}),!N&&Object(P.jsxs)("div",{className:"course-row",children:[Object(P.jsxs)("span",{className:"gpa",children:["Course GPA:"," ",null===w?"Loading...":w.averageGpa?w.averageGpa.toFixed(2):"N/A"]}),re>0&&Object(P.jsxs)("span",{className:"credits",children:[re," Credits"]})]}),O&&Object(P.jsx)(ht,{className:"palette",onSelectColor:function(e){return L({colorMap:Object(d.a)(Object(d.a)({},F),{},Object(Re.a)({},n,e))})},color:null!==q&&void 0!==q?q:null,onMouseLeave:function(){return x(!1)}})]}),i&&!f&&Object(P.jsxs)("div",{className:K("hover-container","nested"),children:[Q.map((function(e){var t,n=0;return null!==w&&(n=w[e]),Object(P.jsx)(at,{color:q,name:e,sections:null!==(t=J[e])&&void 0!==t?t:[],gpa:null===w?"Loading...":n?n.toFixed(2):"N/A"},e)})),Z.length>0&&Object(P.jsx)("div",{className:"excluded-instructor-container",children:Z.map((function(e){return Object(P.jsx)("span",{className:"excluded-instructor",onClick:function(){var t=J[e];null!=t&&B(t)},children:e},e)}))})]}),i&&f&&null!==U&&Object(P.jsx)(pt,{course:W,prereqs:U})]},W.id)}n(272);function We(e){switch(e){case"deliveryMode":case"campus":return!0;default:return!1}}function Pe(e){var t=e.className,n=Object(r.useContext)(Se),c=Object(h.a)(n,2),a=c[0],s=a.oscar,i=a.desiredCourses,o=a.excludedCrns,u=a.colorMap,l=c[1].patchSchedule,j=Object(r.useState)(""),b=Object(h.a)(j,2),m=b[0],p=b[1],v=Object(r.useState)({deliveryMode:[],campus:[]}),O=Object(h.a)(v,2),x=O[0],g=O[1],y=Object(r.useState)(0),w=Object(h.a)(y,2),k=w[0],T=w[1],S=Object(r.useRef)(null),D=Object(r.useCallback)((function(e){var t=e.target.value.trim(),n=/^([A-Z]+)(\d.*)$/i.exec(t);if(null!=n){var r=n,c=Object(h.a)(r,3),a=c[1],s=c[2];t="".concat(a," ").concat(s)}p(t)}),[]),E=Object(r.useMemo)((function(){var e=/^([A-Z]+) ?((\d.*)?)$/i.exec(m.toUpperCase());if(!e)return[];var t=e,n=Object(h.a)(t,3),r=n[1],c=n[2];return T(0),s.courses.filter((function(e){var t=e.subject===r&&e.number.startsWith(c),n=function(e,t){return Object.entries(t).every((function(t){var n=Object(h.a)(t,2),r=n[0],c=n[1];return!We(r)||0===c.length||e.sections.some((function(e){var t=e[r];return null!=t&&c.includes(t)}))}))}(e,x);return t&&n})).filter((function(e){return!i.includes(e.id)}))}),[s,m,x,i]),A=Object(r.useCallback)((function(e){var t;if(!i.includes(e.id)){var n=e.sections.filter((function(e){var t="Remote Asynchronous Course"===e.deliveryMode||e.meetings.length&&e.meetings.every((function(e){return e.days.length&&e.period})),n=function(e,t){return Object.entries(t).every((function(t){var n=Object(h.a)(t,2),r=n[0],c=n[1];if(0===c.length)return!0;if(!We(r))return!0;var a=e[r];return null!=a&&c.includes(a)}))}(e,x);return!t||!n})).map((function(e){return e.crn}));l({desiredCourses:[].concat(Object(f.a)(i),[e.id]),excludedCrns:[].concat(Object(f.a)(o),Object(f.a)(n)),colorMap:Object(d.a)(Object(d.a)({},u),{},Object(Re.a)({},e.id,U()))}),p(""),null===(t=S.current)||void 0===t||t.focus()}}),[x,i,o,u,S,l]),M=Object(r.useCallback)((function(e){switch(e.key){case"Enter":var t=E[k];null!=t&&A(t);break;case"ArrowDown":T(Math.min(k+1,E.length-1));break;case"ArrowUp":T(Math.max(k-1,0));break;default:return}e.preventDefault()}),[E,A,k]),I=Object(r.useCallback)((function(e,t){var n=x[e];g(Object(d.a)(Object(d.a)({},x),{},Object(Re.a)({},e,n.includes(t)?n.filter((function(e){return e!==t})):[].concat(Object(f.a)(n),[t]))))}),[x]),F=Object(r.useCallback)((function(e){g(Object(d.a)(Object(d.a)({},x),{},Object(Re.a)({},e,[])))}),[x]),L=E[k];return Object(P.jsxs)("div",{className:K("CourseAdd",t),children:[Object(P.jsxs)("div",{className:"add",children:[Object(P.jsxs)("div",{className:"primary",children:[Object(P.jsx)(le.a,{className:K("icon",E.length>0&&"active"),fixedWidth:!0,icon:de.r}),Object(P.jsxs)("div",{className:"keyword-wrapper",children:[L&&Object(P.jsx)("div",{className:K("keyword","autocomplete"),children:L.id}),Object(P.jsx)("input",{type:"text",ref:S,value:m,onChange:D,className:"keyword",placeholder:"XX 0000",onKeyDown:M})]})]}),[["Delivery Mode","deliveryMode",C],["Campus","campus",N]].map((function(e){var t=Object(h.a)(e,3),n=t[0],r=t[1],c=t[2];return Object(P.jsx)(He,{name:n,labels:c,selectedTags:x[r],onReset:function(){return F(r)},onToggle:function(e){return I(r,e)}},r)}))]}),E.length>0?E.map((function(e){return Object(P.jsx)(Ge,{className:K(e===L&&"active"),courseId:e.id,onAddCourse:function(){return A(e)}},e.id)})):Object(P.jsx)("div",{className:"disclaimer",children:"Disclaimer: GT Scheduler should be used as general reference only, and users are solely responsible for ensuring any information including registration restrictions."})]})}var ze=n(163),qe=n.n(ze);n(273);function Ve(){var e=Object(r.useContext)(Se),t=Object(h.a)(e,1)[0],n=t.oscar,c=t.desiredCourses;return Object(P.jsxs)("div",{className:"CourseContainer",children:[Object(P.jsxs)("div",{className:"scroller",children:[Object(P.jsx)("div",{className:"course-list",children:c.map((function(e){return Object(P.jsx)(Ge,{courseId:e},e)}))}),Object(P.jsx)(Pe,{className:"course-add"})]}),Object(P.jsxs)(je,{className:"updated-at",href:"https://github.com/gt-scheduler/crawler",children:["Course data fetched ",qe()(n.updatedAt)]})]})}n(274);function He(e){var t=e.name,n=e.labels,c=e.selectedTags,a=e.onReset,s=e.onToggle,i=Object(r.useState)(!1),o=Object(h.a)(i,2),u=o[0],l=o[1];return Object(P.jsxs)("div",{className:"CourseFilter",children:[Object(P.jsxs)("div",{className:K("header",c.length>0&&"active"),onClick:function(){return l(!u)},children:[!u&&c.length>0?Object(P.jsx)("div",{className:"name",children:te(c.flatMap((function(e){var t=n[e];return null!=t?[t]:[]})),Object(P.jsx)("span",{className:"or",children:"or"}))}):Object(P.jsx)("div",{className:"name",children:t}),Object(P.jsx)(le.a,{fixedWidth:!0,icon:u?de.c:de.b})]}),u&&Object(P.jsxs)("div",{className:"tag-container",children:[Object(P.jsx)("div",{className:K("tag",0===c.length&&"active"),onClick:a,children:"All"}),Object.keys(n).map((function(e){return Object(P.jsx)("div",{className:K("tag",c.includes(e)&&"active"),property:e,onClick:function(){return s(e)},children:n[e]},e)}))]})]})}var Ue=n(164),Ye=n.n(Ue),Je=n(165),Ke=n(52),Xe=n.n(Ke);function Ze(e){if(6!==e.length)return!1;var t=[e.substring(0,4),e.substring(4,6)],n=t[1],r=[Number(t[0]),Number(n)],c=r[0],a=r[1];return!(Number.isNaN(c)||c<1970||a>2100)&&!(Number.isNaN(a)||a<0||a>12)}function Qe(e){if(!Ze(e))return"Unknown";var t=e.substring(0,4),n=function(){switch(Number.parseInt(e.substring(4),10)){case 1:return"Winter";case 2:case 3:return"Spring";case 5:case 6:return"Summer";case 8:case 9:return"Fall";default:return"Unknown"}}();return"".concat(n," ").concat(t)}function $e(){var e=Object(r.useState)(X()),t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=function(){var e=X();n!==e&&c(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[n]),n}n(276);function et(e){var t=e.style,n=e.className,r=e.size,c=void 0===r?"normal":r,a="number"===typeof c?c:{small:16,normal:40}[c];return Object(P.jsx)("svg",{className:K("spinner",n),style:Object(d.a)(Object(d.a)({},t),{},{"--size":"".concat(a,"px")}),viewBox:"0 0 50 50",children:Object(P.jsx)("circle",{cx:"25",cy:"25",r:"20"})})}n(277);function tt(e){var t=e.className,n=e.value,c=e.onChange,a=e.options,s=Object(r.useState)(!1),i=Object(h.a)(s,2),o=i[0],u=i[1],l=a.find((function(e){return e.value===n})),d=l?l.label:"-";return Object(P.jsxs)("div",{className:K("Button","Select",t),onClick:function(){return u(!o)},children:[Object(P.jsx)("div",{className:"text",children:d}),Object(P.jsx)(le.a,{fixedWidth:!0,icon:de.g}),o&&Object(P.jsx)("div",{className:"intercept",onClick:function(){return u(!1)}}),o&&Object(P.jsx)("div",{className:"option-container",children:a.map((function(e){var t=e.value,n=e.label;return Object(P.jsx)(je,{className:"option",onClick:function(){return c(t)},children:n},t)}))})]})}function nt(e){var t=e.className,n=e.label,r=void 0===n?"Loading":n;return Object(P.jsxs)("div",{className:K("Button","Select",t,"disabled"),children:[Object(P.jsx)(et,{size:"small",style:{marginRight:12}}),Object(P.jsx)("div",{className:"text",children:r}),Object(P.jsx)(le.a,{fixedWidth:!0,icon:de.g})]})}n(278);function rt(e){var t=e.totalCredits,n=void 0===t?null:t,c=e.currentTab,a=e.onChangeTab,s=e.onToggleMenu,i=e.tabs,o=e.onCopyCrns,u=void 0===o?function(){}:o,l=e.enableCopyCrns,d=void 0!==l&&l,j=e.onExportCalendar,b=void 0===j?function(){}:j,f=e.enableExportCalendar,m=void 0!==f&&f,p=e.onDownloadCalendar,v=void 0===p?function(){}:p,O=e.enableDownloadCalendar,x=void 0!==O&&O,g=e.termsState,y=Object(r.useContext)(me),w=Object(h.a)(y,2),C=w[0],N=w[1],k=Object(r.useCallback)((function(){var e="light"===C?"dark":"light";Xe.a.set("theme",e,{expires:1460}),N(e)}),[C,N]),T=Object(r.useRef)(null),S=$e();return Object(P.jsxs)("div",{className:"Header",children:[S&&Object(P.jsx)(je,{className:"nav-menu-button",onClick:s,children:Object(P.jsx)(le.a,{className:"icon",fixedWidth:!0,icon:de.e})}),Object(P.jsxs)(je,{className:"logo",children:[Object(P.jsx)("span",{className:"gt",children:"GT "}),Object(P.jsx)("span",{className:"scheduler",children:"Scheduler"})]}),"loaded"===g.type?Object(P.jsx)(tt,{onChange:g.onChangeTerm,value:g.currentTerm,options:g.terms.map((function(e){return{value:e,label:Qe(e)}})),className:"semester"}):Object(P.jsx)(nt,{}),Object(P.jsxs)("span",{className:"credits",children:[null===n?Object(P.jsx)(et,{size:"small",style:{marginRight:8}}):n," ","Credits"]}),!S&&Object(P.jsx)("div",{className:"tabs",children:i.map((function(e,t){return Object(P.jsx)(Nt,{active:t===c,onClick:function(){return a(t)},label:e},t)}))}),Object(P.jsxs)("div",{className:"menu",children:[Object(P.jsxs)(je,{onClick:v,disabled:!x,children:[Object(P.jsx)(le.a,{className:"icon",fixedWidth:!0,icon:de.j}),Object(P.jsx)("div",{className:"text",children:"Download"})]}),Object(P.jsxs)(je,{onClick:b,disabled:!m,children:[Object(P.jsx)(le.a,{className:"icon",fixedWidth:!0,icon:de.f}),Object(P.jsx)("div",{className:"text",children:"Export"})]}),Object(P.jsx)("div",{className:"menu","data-tip":!0,"data-for":"copy-crn","delay-hide":"1000",ref:T,children:Object(P.jsxs)(je,{disabled:!d,children:[Object(P.jsx)(le.a,{className:"icon",fixedWidth:!0,icon:de.q}),Object(P.jsx)("div",{className:"text",children:"CRNs"})]})}),d&&Object(P.jsx)(Ee.a,{id:"copy-crn",type:"dark",place:"bottom",effect:"solid",event:"click",delayHide:1e3,afterShow:function(){u(),setTimeout((function(){var e;return Ee.a.hide(null!==(e=T.current)&&void 0!==e?e:void 0)}),1e3)},children:"Copied to clipboard!"}),Object(P.jsxs)(je,{onClick:k,children:[Object(P.jsx)(le.a,{className:"icon",fixedWidth:!0,icon:de.a}),Object(P.jsx)("div",{className:"text",children:"Theme"})]}),Object(P.jsxs)(je,{href:"https://github.com/gt-scheduler/website",children:[Object(P.jsx)(le.a,{className:"icon",fixedWidth:!0,icon:Je.a}),Object(P.jsx)("div",{className:"text",children:"GitHub"})]})]})]})}n(279);function ct(e){var t=e.currentTab,n=e.onChangeTab,c=e.onToggleMenu,a=e.tabs,s=Object(r.useContext)(Se),i=Object(h.a)(s,2),o=i[0],u=o.term,l=o.oscar,d=o.pinnedCrns,j=i[1].setTerm,b=Object(r.useContext)(pe),f=Object(r.useContext)(me),m=Object(h.a)(f,1)[0],p=Object(r.useRef)(null),v=Object(r.useMemo)((function(){return d.reduce((function(e,t){var n=l.findSection(t);return e+(null!=n?n.credits:0)}),0)}),[d,l]),g=Object(r.useCallback)((function(){try{!function(e,t){var n=W();if(null==n)return window.alert("This browser does not support calendar export"),void G(new _({message:"ics() returned null or undefined"}));t.forEach((function(t){var r=e.findSection(t);null!=r&&r.meetings.forEach((function(e){if(e.period&&e.days.length){for(var t=e.dateRange,c=t.from,a=t.to,s=r.course.id,i=r.course.title,o=e.where,u=new Date(c.getTime());!e.days.includes(null!==(l=["-","M","T","W","R","F","-"][u.getDay()])&&void 0!==l?l:"-");){var l;u.setDate(u.getDate()+1)}u.setHours(e.period.start/60,e.period.start%60);var d=new Date(u.getTime());d.setHours(e.period.end/60,e.period.end%60);var j={freq:"WEEKLY",until:a,byday:e.days.map((function(e){var t;return null!==(t={M:"MO",T:"TU",W:"WE",R:"TH",F:"FR"}[e])&&void 0!==t?t:null})).filter((function(e){return!!e}))};n.addEvent(s,i,o,u,d,j)}}))})),n.download("gt-scheduler")}(l,d)}catch(e){G(new _({message:"exporting courses to calendar failed",fields:{pinnedCrns:d,term:l.term}}))}}),[l,d]),y=Object(r.useCallback)((function(){var e=p.current;if(null!=e)try{!function(e,t){var n=window.getComputedStyle(e).getPropertyValue("left");O.a.toBlob(e,{width:2*e.offsetWidth,height:2*e.offsetHeight,style:{transform:"scale(".concat(2,")"),"transform-origin":"".concat(n," 0px"),"background-color":"light"===t?"#FFFFFF":"#333333"}}).then((function(e){return Object(x.saveAs)(e,"schedule.png")})).catch((function(e){return G(new _({message:"could not take screenshot of shadow calendar for schedule export",source:e}))}))}(e,m)}catch(t){G(new _({message:"downloading shadow calendar as PNG failed",fields:{pinnedCrns:d,theme:m,term:l.term}}))}}),[p,m,d,l.term]),w=Object(r.useCallback)((function(){try{Ye()(d.join(", "))}catch(e){G(new _({message:"copying CRNs to clipboard failed",fields:{pinnedCrns:d,term:l.term}}))}}),[d,l.term]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(rt,{totalCredits:v,currentTab:t,onChangeTab:n,onToggleMenu:c,tabs:a,onCopyCrns:w,enableCopyCrns:d.length>0,onExportCalendar:g,enableExportCalendar:d.length>0,onDownloadCalendar:y,enableDownloadCalendar:d.length>0,termsState:{type:"loaded",terms:b,currentTerm:u,onChangeTerm:j}}),Object(P.jsx)("div",{className:"capture-container",ref:p,children:Object(P.jsx)(Ie,{className:"fake-calendar",capture:!0,overlayCrns:[]})})]})}n(280);function at(e){var t=e.className,n=e.color,c=e.name,a=e.sections,s=e.gpa,i=Object(r.useContext)(Se),o=Object(h.a)(i,2),u=o[0],l=u.pinnedCrns,d=u.excludedCrns,j=o[1].patchSchedule,b=Object(r.useState)(!0),m=Object(h.a)(b,2),p=m[0],v=m[1],O=Object(r.useCallback)((function(e){j({excludedCrns:d.filter((function(t){return t!==e.crn}))})}),[d,j]),x=Object(r.useCallback)((function(e){var t=e.map((function(e){return e.crn}));j({excludedCrns:Q([].concat(Object(f.a)(d),Object(f.a)(t))),pinnedCrns:l.filter((function(e){return!t.includes(e)}))})}),[d,l,j]),g=a.some((function(e){return l.includes(e.crn)})),y=a.filter((function(e){return!d.includes(e.crn)})),w=a.filter((function(e){return d.includes(e.crn)})),C="exclude-instructor-".concat(c.replace(" ","-"));return Object(P.jsxs)("div",{className:K("Instructor",!p&&"divider-bottom",t),children:[Object(P.jsx)(he,{label:c||"Not Assigned",actions:[{icon:p?de.c:de.b,onClick:function(){return v(!p)}},["TBA","Not Assigned"].includes(c)?null:{icon:de.m,href:"http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=".concat(encodeURIComponent(Z(c)))},{icon:de.d,dataTip:!0,dataFor:C,onClick:function(){return x(a)}}],style:g?{backgroundColor:n}:void 0,children:Object(P.jsx)("div",{className:"instructor-row",children:Object(P.jsxs)("span",{className:"gpa",children:["Instructor GPA: ",s||"N/A"]})})}),Object(P.jsx)(Ee.a,{id:C,type:"dark",place:"bottom",effect:"solid",children:"Exclude from Combinations"}),p&&Object(P.jsxs)("div",{className:K("section-container","nested"),children:[y.map((function(e){var t=l.includes(e.crn);return Object(P.jsx)(Ct,{className:"divider-bottom",section:e,color:n,pinned:t},e.id)})),w.length>0&&Object(P.jsx)("div",{className:"excluded-section-container",children:w.map((function(e){return Object(P.jsx)("span",{className:"excluded-section",onClick:function(){return O(e)},children:e.id},e.id)}))})]})]})}var st=n(93);n(281),n(282);function it(e){var t,n=e.locations,c=Object(r.useState)({latitude:33.7765,longitude:-84.3963,zoom:15}),a=Object(h.a)(c,2),s=a[0],i=a[1],o=[],u=new Map;n.forEach((function(e){if(null===e.coords)o.push(e);else if(u.has(e.coords)){var t;null===(t=u.get(e.coords))||void 0===t||t.push(e)}else u.set(e.coords,[e])}));var l=Object(r.useContext)(me),d="dark"===Object(h.a)(l,1)[0]?"mapbox://styles/gt-scheduler/cktc4yzhm018w17ql65xa802o":"mapbox://styles/gt-scheduler/cktc4y61t018918qjynvngozg";return Object(P.jsx)("div",{className:"mapbox",children:Object(P.jsxs)(st.c,{height:"100%",width:"100%",viewState:s,mapStyle:d,mapboxApiAccessToken:null!==(t="pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ")?t:"",onViewStateChange:function(e){var t=e.viewState;return i(t)},children:[Array.from(u.entries()).map((function(e,t){var n=Object(h.a)(e,2),r=n[0],c=n[1];return Object(P.jsxs)(st.a,{latitude:r.lat,longitude:r.long,children:[Object(P.jsx)(le.a,{icon:de.o,className:"pin-icon"}),Object(P.jsx)("div",{className:"pin-text",children:c.map((function(e){return Object(P.jsxs)("div",{children:[e.id," ",e.section]},e.id+e.section)}))})]},t)})),o.length>0&&Object(P.jsxs)("div",{className:"unknown-container",children:[Object(P.jsx)("b",{children:"Undetermined"}),o.map((function(e,t){return Object(P.jsxs)("div",{className:"class",children:[e.id," ",e.section]},t)}))]}),Object(P.jsx)("div",{className:"navigation",children:Object(P.jsx)(st.b,{showZoom:!0,showCompass:!0})})]})})}n(283);function ot(e){switch(e){case"M":case"T":case"W":case"R":case"F":return!0;default:return!1}}var ut=["#FCB9AA","#FFDBCC","#ECEAE4","#A2E1DB","#55CBCD"],lt=["#5e3931","#704737","#685a30","#3c6962","#286061"];function dt(e){var t=e.courseDateMap,n=e.activeDay,c=e.setActiveDay,a=["Monday","Tuesday","Wednesday","Thursday","Friday"],s=Object(r.useContext)(me),i="dark"===Object(h.a)(s,1)[0]?lt:ut,o=function(e){if(Math.floor(e/60)>=12){var t=Math.floor(e/60)%12,n=0===t?"12":t,r=String(e%60).padStart(2,"0");return"".concat(n,":").concat(r,"pm")}var c=Math.floor(e/60),a=String(e%60).padStart(2,"0");return"".concat(c,":").concat(a,"am")};return Object(P.jsx)("div",{className:"date-container",children:Object.keys(t).map((function(e,r){var s;if(!ot(e))return null;var u=t[e];return Object(P.jsxs)("div",{className:K("date",Y(i[r]),"default"),style:{backgroundColor:i[r]},children:[Object(P.jsx)(he,{label:null!==(s=a[r])&&void 0!==s?s:"",className:"day-select",actions:[{icon:e===n?de.c:de.b,onClick:function(){return c(e!==n?e:"")}}]}),n===e&&Object(P.jsx)("div",{className:"dropdown-content",children:null==u||0===u.length?Object(P.jsx)("div",{className:"course-content",style:{padding:8},children:"No classes this day!"}):u.map((function(e){var t="TBA",n=e.times;if(null!=n){var r=n.start,c=n.end;t="".concat(o(r)," - ").concat(o(c))}return Object(P.jsxs)("div",{className:"course-content",children:[Object(P.jsx)("div",{className:"course-id",children:e.id}),Object(P.jsx)("span",{className:"course-row",children:e.title}),Object(P.jsxs)("span",{className:"course-row",children:[e.daysOfWeek," ",t]})]},e.id)}))})]},e)}))})}n(284);function jt(){var e=Object(r.useContext)(Se),t=Object(h.a)(e,1)[0],n=t.oscar,c=t.pinnedCrns,a=Object(r.useState)("M"),s=Object(h.a)(a,2),i=s[0],o=s[1],u={M:[],T:[],W:[],R:[],F:[]};c.forEach((function(e){var t=n.findSection(e);if(null!=t){var r=t.meetings;if(0!==r.length){var c=r[0];c.days.forEach((function(e){var n;if(ot(e)){var r=null!==(n=u[e])&&void 0!==n?n:[];r.push({id:t.course.id,title:t.course.title,times:c.period,daysOfWeek:c.days,section:t.id,coords:c.location}),u[e]=r}}))}}}));var l={M:[],T:[],W:[],R:[],F:[]};Object.entries(u).forEach((function(e){var t=Object(h.a)(e,2),n=t[0],r=t[1];ot(n)&&(l[n]=r.sort((function(e,t){var n,r,c,a;return(null!==(n=null===(r=e.times)||void 0===r?void 0:r.start)&&void 0!==n?n:0)-(null!==(c=null===(a=t.times)||void 0===a?void 0:a.start)&&void 0!==c?c:0)})))}));var d=[];return""!==i&&(d=l[i]),Object(P.jsxs)("div",{className:"map-content",children:[Object(P.jsx)(dt,{courseDateMap:l,activeDay:i,setActiveDay:o}),Object(P.jsx)(it,{locations:d})]})}n(285);function bt(e){var t=e.open,n=e.onClose,r=e.children;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:K("drawer-overlay",t&&"open"),tabIndex:-1,onClick:n,role:"presentation"}),Object(P.jsxs)("div",{className:K("drawer-outer",t&&"open"),children:[Object(P.jsx)("div",{className:"drawer-header",children:Object(P.jsx)(je,{className:"drawer-close",onClick:n,children:Object(P.jsx)(le.a,{className:"icon",fixedWidth:!0,icon:de.u})})}),r]})]})}n(286);function ft(e){var t=e.items,n=e.currentItem,r=e.onChangeItem,c=e.className,a=e.style;return Object(P.jsx)("div",{className:K("nav-menu",c),style:a,children:t.map((function(e,t){return Object(P.jsx)(je,{className:K("nav-button",n===t&&"active"),onClick:function(){return r(t)},children:e},t)}))})}n(287);function ht(e){var t=e.className,n=e.color,r=e.onSelectColor,c=e.onMouseLeave;return Object(P.jsx)("div",{className:K("Palette",t),onMouseLeave:c,children:w.map((function(e,t){return Object(P.jsx)("div",{className:"palette-row",children:e.map((function(e){return Object(P.jsx)("div",{className:K("color",e===n&&"frame"),style:{backgroundColor:e},onClick:function(){return r(e)}},e)}))},t)}))})}var mt={fontSize:"0.9em",padding:"8px"};function pt(e){var t,n=e.course,r=e.prereqs;if(0===r.length)t=Object(P.jsx)(yt,{});else{var c=r,a=Object(b.a)(c),s=a[0],i=a.slice(1);switch(s){case"and":t=Object(P.jsx)(xt,{clause:["and"].concat(Object(f.a)(i))});break;case"or":t=1===i.length?Object(P.jsx)(xt,{clause:i[0]}):Object(P.jsx)(P.Fragment,{children:i.map((function(e,t){return Object(P.jsx)(Ot,{clause:e,index:t},t)}))});break;default:G(new _({message:"invalid operator found in top-level prereqs",fields:{courseId:n.id,operator:s,term:n.term}})),t=null}}return Object(P.jsxs)("div",{className:K("hover-container","nested"),children:[Object(P.jsx)(vt,{course:n}),Object(P.jsx)("div",{className:K("nested"),children:t})]})}function vt(e){var t=e.course,n=Object(r.useContext)(Se),c=Object(h.a)(n,1)[0].term;return Object(P.jsx)(he,{className:K("hover-container"),label:"Prerequisites",actions:[{icon:de.n,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_"+"course_detail?cat_term_in=".concat(c,"&subj_code_in=")+"".concat(t.subject,"&crse_numb_in=").concat(t.number)}]})}function Ot(e){var t=e.clause,n=e.index,c=Object(r.useState)(!0),a=Object(h.a)(c,2),s=a[0],i=a[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(he,{className:K("hover-container"),label:"Option ".concat(n+1),actions:[{icon:s?de.c:de.b,onClick:function(){return i(!s)}}]}),s&&Object(P.jsx)("div",{className:K("nested"),children:Object(P.jsx)(xt,{clause:t})})]})}function xt(e){var t=e.clause;if(!Array.isArray(t))return Object(P.jsx)(gt,{clause:t,operator:"and",isLast:!0});var n=Object(b.a)(t),r=n[0],c=n.slice(1);return Object(P.jsx)(P.Fragment,{children:c.map((function(e,t){return Object(P.jsx)(gt,{clause:e,operator:r,isLast:t===c.length-1},t)}))})}function gt(e){var t=e.clause,n=e.operator,r=e.isLast;return Object(P.jsxs)("div",{className:K("divider-bottom"),style:mt,children:[ne(t)," ",!r&&Object(P.jsx)("strong",{children:n})]})}function yt(){return Object(P.jsx)("div",{style:mt,children:"No prerequisites. You're good to go!"})}function wt(){var e=$e(),t=Object(r.useState)([]),n=Object(h.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(0),i=Object(h.a)(s,2),o=i[0],u=i[1],l=Object(r.useMemo)((function(){return[c,a]}),[c,a]);return Object(P.jsxs)(P.Fragment,{children:[e&&Object(P.jsx)("div",{className:"tab-container",children:["Courses","Combinations","Calendar"].map((function(e,t){return Object(P.jsx)(je,{className:K("tab",o===t&&"active"),onClick:function(){return u(t)},children:e},e)}))}),Object(P.jsx)(De.Provider,{value:l,children:Object(P.jsxs)("div",{className:"main",children:[(!e||0===o)&&Object(P.jsx)(Ve,{}),(!e||1===o)&&Object(P.jsx)(Le,{}),(!e||2===o)&&Object(P.jsx)("div",{className:"calendar-container",children:Object(P.jsx)(Ie,{className:"calendar",overlayCrns:c})})]})})]})}n(288);function Ct(e){var t,n,c,a,s=e.className,i=e.section,o=e.pinned,u=e.color,l=Object(r.useContext)(Se),d=Object(h.a)(l,2),j=d[0],b=j.term,m=j.pinnedCrns,p=j.excludedCrns,v=d[1].patchSchedule,O=Object(r.useContext)(De),x=Object(h.a)(O,2)[1],g=Object(r.useState)([[],0]),y=Object(h.a)(g,2),w=y[0],N=y[1],k=!1,T=Object(r.useCallback)((function(e){v({excludedCrns:[].concat(Object(f.a)(p),[e.crn]),pinnedCrns:m.filter((function(t){return t!==e.crn}))})}),[m,p,v]),S=Object(r.useCallback)((function(e){m.includes(e.crn)?v({pinnedCrns:m.filter((function(t){return t!==e.crn}))}):v({pinnedCrns:[].concat(Object(f.a)(m),[e.crn]),excludedCrns:p.filter((function(t){return t!==e.crn}))})}),[m,p,v]),D="section-exclude-".concat(i.id);return Object(P.jsxs)(he,{label:i.id,className:K("Section",s),onMouseEnter:function(){return x([i.crn])},onMouseLeave:function(){return x([])},actions:[{icon:o?de.u:de.t,onClick:function(){return S(i)}},{icon:de.h,dataTip:!0,dataFor:i.id,href:"https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=".concat(b,"&crn_in=").concat(i.crn)},{icon:de.d,dataTip:!0,dataFor:D,onClick:function(){return T(i)}}],style:o?{backgroundColor:u}:void 0,children:[Object(P.jsx)(Ee.a,{id:D,className:"tooltip",type:"dark",place:"right",effect:"solid",children:"Exclude from Combinations"}),Object(P.jsxs)("div",{className:"section-details",children:[Object(P.jsx)("div",{className:"delivery-mode",children:null!=i.deliveryMode?C[i.deliveryMode]:""}),Object(P.jsx)("div",{className:"meeting-container",children:i.meetings.map((function(e,t){return Object(P.jsxs)("div",{className:"meeting",children:[Object(P.jsx)("span",{className:"days",children:e.days.join("")}),Object(P.jsx)("span",{className:"period",children:H(e.period)})]},t)}))}),Object(P.jsx)(Ee.a,{id:i.id,className:"tooltip",type:"dark",place:"right",effect:"solid",afterShow:function(){return k=!0,void setTimeout((function(){k&&i.fetchSeating(b).then((function(e){N(e)})).catch((function(e){return G(new _({message:"error while fetching seating",source:e,fields:{crn:i.crn,term:i.term}}))}))}),333)},afterHide:function(){k=!1},children:Object(P.jsx)("table",{children:Object(P.jsxs)("tbody",{children:[Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("b",{children:"Seats Filled"})}),Object(P.jsx)("td",{children:0===w[0].length?"Loading...":"number"===typeof w[0][1]?"".concat(null!==(t=w[0][1])&&void 0!==t?t:"<unknown>"," of ").concat(null!==(n=w[0][0])&&void 0!==n?n:"<unknown>"):"N/A"})]}),Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:Object(P.jsx)("b",{children:"Waitlist Filled"})}),Object(P.jsx)("td",{children:0===w[0].length?"Loading...":"number"===typeof w[0][1]?"".concat(null!==(c=w[0][3])&&void 0!==c?c:"<unknown>"," of ").concat(null!==(a=w[0][2])&&void 0!==a?a:"<unknown>"):"N/A"})]})]})})})]})]})}n(289);function Nt(e){var t=e.label,n=e.active,r=void 0!==n&&n,c=e.onClick,a=e.className,s=e.style;return Object(P.jsx)("button",{className:K("Tab",r&&"active",a),style:s,onClick:c,type:"button",children:t})}n(290);function kt(){var e=$e();return Object(P.jsx)("div",{className:K("Attribution"),children:Object(P.jsxs)("p",{children:["Copyright (c) 2021 with"," ",Object(P.jsx)("span",{role:"img","aria-label":"love",children:"\u2764\ufe0f"})," ","by ",Object(P.jsx)("a",{href:"https://jasonpark.me",children:"Jinseo Park"}),","," ",Object(P.jsx)("a",{href:"https://bitsofgood.org",children:"Bits of Good"}),", and"," ",Object(P.jsx)("a",{href:"https://github.com/gt-scheduler/website/graphs/contributors",children:e?"others":"the GT Scheduler contributors"}),"."]})})}n(291);function Tt(){var e=Object(r.useState)(!1),t=Object(h.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(h.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(null),l=Object(h.a)(u,2),d=l[0],j=l[1],b=Object(r.useState)(""),f=Object(h.a)(b,2),m=f[0],p=f[1],v=Object(r.useState)(!1),O=Object(h.a)(v,2),x=O[0],g=O[1];return Object(P.jsxs)(P.Fragment,{children:[!n&&Object(P.jsx)("div",{className:"FeedbackButtonWrapper",children:Object(P.jsx)(je,{className:"FeedbackButton",onClick:function(){return c(!0)},children:Object(P.jsx)(le.a,{icon:de.i,size:"2x"})})}),n&&Object(P.jsx)("div",{children:Object(P.jsx)("form",{className:"FeedbackForm",children:Object(P.jsxs)("div",{className:"container",children:[Object(P.jsx)(le.a,{icon:de.u,className:"CloseIcon",onClick:function(){return c(!1)}}),Object(P.jsx)("h3",{className:"FeedbackTitle",children:"Feedback"}),!i&&Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{className:"text",children:"How would you rate your experience?"}),Object(P.jsx)("div",{className:"FormButtons",children:[1,2,3,4,5].map((function(e){return Object(P.jsx)(je,{className:K("FormButton",d===e-1&&"active"),onClick:function(){return j(e-1)},children:e},e)}))}),Object(P.jsxs)("div",{className:"ScoreLabels",children:[Object(P.jsx)("span",{className:"score",style:{marginLeft:"4px"},children:"Poor"}),Object(P.jsx)("span",{className:"score",style:{marginRight:"4px"},children:"Great"})]}),Object(P.jsx)("textarea",{className:"FeedbackTextArea",placeholder:"Please let us know if you have any more feedback!",onChange:function(e){return p(e.target.value)},value:m}),Object(P.jsx)(je,{className:"SubmitButton",onClick:function(){g(!0),function(e){return St.apply(this,arguments)}({rating:(null!==d&&void 0!==d?d:0)+1,feedback:m}).then((function(){o(!0),g(!1)})).catch((function(){o(!0),g(!1)}))},disabled:null==d||x,children:"Submit"})]}),i&&Object(P.jsxs)("div",{className:"submitted",children:[Object(P.jsx)("p",{className:"submitted-thanks text",children:Object(P.jsx)("span",{children:"Thank you for your feedback!"})}),Object(P.jsx)("div",{children:Object(P.jsx)(je,{className:"SubmitButton",onClick:function(){return c(!1)},children:"Close"})})]})]})})})]})}function St(){return(St=Object(j.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rating,r=t.feedback,c="".concat(k,"/feedback"),e.next=4,ue()({method:"post",url:c,data:{rating:n,feedback:r},headers:{"Content-Type":"application/json;charset=UTF-8"}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dt=n(167),Et=n.n(Dt),At=n(66),Mt="visited-merge-notice";function It(){return Object(P.jsxs)("div",{children:[Object(P.jsx)("img",{style:{width:"175px",margin:"0 auto",display:"block"},alt:"GT Scheduler Logo",src:"/mascot.png"}),Object(P.jsx)("h1",{children:"GT Scheduler"}),Object(P.jsxs)("p",{children:["Hey there, yellow jackets!"," ",Object(P.jsx)("a",{href:"https://github.com/gt-scheduler",children:"GT Scheduler"})," is a new collaboration between ",Object(P.jsx)("a",{href:"https://bitsofgood.org/",children:"Bits of Good"})," ","and ",Object(P.jsx)("a",{href:"https://jasonpark.me/",children:"Jason (Jinseo) Park"})," aimed at making class registration easier for everybody! Now, you can access course prerequisites, instructor GPAs, live seating information, and more all in one location."]}),Object(P.jsxs)("p",{children:["If you enjoy our work and are interested in contributing, feel free to"," ",Object(P.jsx)("a",{href:"https://github.com/gt-scheduler/website/pulls",children:"open a pull request"})," ","with your improvements. Thank you and enjoy!"]})]})}var Ft=function(e){Object(A.a)(n,e);var t=Object(M.a)(n);function n(e){var r;return Object(S.a)(this,n),(r=t.call(this,e)).state={error:null,info:null},r}return Object(D.a)(n,[{key:"componentDidCatch",value:function(e,t){G(new _({message:"ErrorBoundary caught error from further in render tree",source:e,fields:{reactErrorInfo:t}})),this.setState({info:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.fallback,r=this.state,c=r.error,a=r.info;return null!==c?null!=n?Object(P.jsx)(P.Fragment,{children:n(c,a)}):null:Object(P.jsx)(P.Fragment,{children:t})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e,info:null}}}]),n}(c.a.Component);function Lt(e){var t=e.name,n=e.children,r=e.style,c=e.className;return Object(P.jsxs)("div",{className:K(c,"error-details-field"),style:r,children:[Object(P.jsx)("strong",{children:t}),": ",n]})}function Rt(e){var t=e.error,n=e.errorInfo;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(_t,{error:t}),null!==n&&Object(P.jsx)(Lt,{name:"Component stacktrace",children:Object(P.jsx)("pre",{children:Object(P.jsx)("code",{children:n.componentStack.replace(/^[\n\r]+/,"")})})})]})}function Bt(e){var t=e.error,n=e.overview,r=e.name;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(_t,{error:t}),Object(P.jsxs)(Lt,{name:"Operation name",children:["(loading) ",r]}),Object(P.jsx)(Lt,{name:"Overview",children:n})]})}function _t(e){var t,n=e.error;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Lt,{name:"Name",children:n.name}),Object(P.jsx)(Lt,{name:"Message",children:n.message}),Object(P.jsx)(Lt,{name:"Version",children:"ae319c36c0cccb270f588bd7fefe51a8e09cae7a"}),n instanceof _&&Object(P.jsx)(Lt,{name:"Fields",children:Object(P.jsx)("pre",{children:Object(P.jsx)("code",{children:Object.entries(n.getAllFields()).map((function(e){var t=Object(h.a)(e,2),n=t[0],r=t[1];return"    ".concat(n,": ").concat(R()(r))})).join("\n")})})}),Object(P.jsx)(Lt,{name:"Stacktrace",children:Object(P.jsx)("pre",{children:Object(P.jsx)("code",{children:null!==(t=n.stack)&&void 0!==t?t:"~"})})})]})}n(300);function Gt(e){var t=e.children,n=e.label,c=void 0===n?"Details":n,a=e.className,s=e.style,i=Object(r.useState)(!1),o=Object(h.a)(i,2),u=o[0],l=o[1];return Object(P.jsxs)("div",{className:K("expandable-card",a),style:s,children:[Object(P.jsxs)("button",{className:"expandable-card-button",onClick:function(){return l(!u)},type:"button",children:[Object(P.jsx)(le.a,{fixedWidth:!0,icon:de.g,style:{transform:u?"rotate(-90deg)":"none",marginRight:8}}),c]}),u&&t]})}n(301);function Wt(e){var t=e.errorDetails,n=e.children;return Object(P.jsxs)("div",{className:"error-display-outer",children:[n,Object(P.jsxs)("div",{children:["If the issue keeps happening, please consider filing"," ",Object(P.jsx)("a",{href:"https://github.com/gt-scheduler/website/issues/new?assignees=&labels=bug&template=bug-report----.md&title=",target:"_blank",rel:"noreferrer noopener",children:"a new issue on the gt-scheduler GitHub"}),", and include the information below under \u201cError Details\u201d in addition to what you were doing when the error occurred."]}),Object(P.jsx)("div",{children:"The error has already been logged, but filing an issue lets you provide more information about what happened and makes it a lot easier for us to fix the bug. Thanks \u2764"}),Object(P.jsx)(Gt,{label:"Error Details",children:t})]})}n(302);function Pt(){return Object(P.jsxs)("div",{className:"error-header",children:[Object(P.jsx)(le.a,{icon:de.l}),Object(P.jsx)("h4",{children:"An error occurred :("})]})}var zt=["Scheduler","Map"],qt=c.a.createContext({currentTabIndex:0,setTabIndex:function(){throw new _({message:"empty AppNavigationContext.setTabIndex value being used"})},isDrawerOpen:!1,openDrawer:function(){throw new _({message:"empty AppNavigationContext.openDrawer value being used"})},closeDrawer:function(){throw new _({message:"empty AppNavigationContext.closeDrawer value being used"})}});function Vt(e){var t=e.children,n=$e(),c=Object(r.useState)(0),a=Object(h.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(!1),u=Object(h.a)(o,2),l=u[0],d=u[1],j=Object(r.useCallback)((function(){return d(!0)}),[]),b=Object(r.useCallback)((function(){return d(!1)}),[]);Object(r.useEffect)((function(){l&&!n&&d(!1)}),[l,n]);var f=Object(r.useMemo)((function(){return{currentTabIndex:s,setTabIndex:i,isDrawerOpen:l,openDrawer:j,closeDrawer:b}}),[s,i,l,j,b]);return Object(P.jsx)(qt.Provider,{value:f,children:t})}function Ht(){var e=$e(),t=Object(r.useContext)(qt),n=t.currentTabIndex,c=t.setTabIndex,a=t.isDrawerOpen,s=t.closeDrawer;return e?Object(P.jsx)(bt,{open:a,onClose:s,children:Object(P.jsx)(ft,{items:zt,currentItem:n,onChangeItem:c})}):null}var Ut=n(32);var Yt="https://api.github.com/repos/".concat("gt-scheduler/crawler","/contents?ref=").concat("gh-pages");n(303);function Jt(e){var t,n=e.state,r=e.name;if("loading"===n.type)t=Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(et,{size:"normal",style:{opacity:.6}}),Object(P.jsx)("h4",{children:"Loading"}),Object(P.jsx)("div",{children:r})]});else{if("custom"===n.type)return Object(P.jsx)(P.Fragment,{children:n.contents});t=n.stillLoading?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(et,{size:"normal",style:{opacity:.6}}),Object(P.jsx)("h4",{children:"Loading"}),Object(P.jsxs)(Wt,{errorDetails:Object(P.jsx)(Bt,{error:n.error,overview:n.overview,name:r}),children:[Object(P.jsxs)("div",{children:["An error ocurred while loading ",r,": ",n.overview]}),Object(P.jsx)("div",{children:"The application is retrying in the background, so the issue may resolve itself. If it doesn't, try refreshing the page."})]})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Pt,{}),Object(P.jsxs)(Wt,{errorDetails:Object(P.jsx)(Bt,{error:n.error,overview:n.overview,name:r}),children:[Object(P.jsxs)("div",{children:["An unrecoverable error ocurred while loading ",r,":"," ",n.overview]}),Object(P.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})}return Object(P.jsx)("div",{className:"loading-display",children:t})}function Kt(){var e=Object(r.useContext)(qt),t=e.currentTabIndex,n=e.setTabIndex,c=e.openDrawer;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ht,{}),Object(P.jsx)(ct,{currentTab:t,onChangeTab:n,onToggleMenu:c,tabs:zt}),Object(P.jsxs)(Ft,{fallback:function(e,n){var r;return Object(P.jsxs)($t,{children:[Object(P.jsx)(Pt,{}),Object(P.jsxs)(Wt,{errorDetails:Object(P.jsx)(Rt,{error:e,errorInfo:n}),children:[Object(P.jsxs)("div",{children:["There was en error somewhere somewhere in the"," ",null!==(r=zt[t])&&void 0!==r?r:"?"," tab and it can't continue."]}),Object(P.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})},children:[0===t&&Object(P.jsx)(wt,{}),1===t&&Object(P.jsx)(jt,{})]}),Object(P.jsx)(kt,{})]})}var Xt=c.a.memo(Kt);function Zt(e){var t=e.children,n=Object(r.useContext)(qt),c=n.currentTabIndex,a=n.setTabIndex,s=n.openDrawer;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ht,{}),Object(P.jsx)(rt,{currentTab:c,onChangeTab:a,onToggleMenu:s,tabs:zt,termsState:{type:"loading"}}),t,Object(P.jsx)(kt,{})]})}function Qt(e){var t=e.children,n=e.terms,c=e.currentTerm,a=e.onChangeTerm,s=Object(r.useContext)(qt),i=s.currentTabIndex,o=s.setTabIndex,u=s.openDrawer;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Ht,{}),Object(P.jsx)(rt,{currentTab:i,onChangeTab:o,onToggleMenu:u,tabs:zt,termsState:{type:"loaded",terms:n,currentTerm:c,onChangeTerm:a}}),t,Object(P.jsx)(kt,{})]})}function $t(e){var t=e.children;return Object(P.jsx)("div",{className:K("main","skeleton"),children:Object(P.jsx)("div",{className:"skeleton-content",children:Object(P.jsx)("div",{className:"skeleton-content-inner",children:t})})})}n(304);function en(){return Object(P.jsxs)("div",{className:"warning-header",children:[Object(P.jsx)(le.a,{icon:de.k}),Object(P.jsx)("h4",{children:"Warning"})]})}n(305);function tn(e){var t=e.onAccept;return Object(P.jsxs)("div",{className:"data-not-persistent-notification",children:[Object(P.jsx)(en,{}),Object(P.jsx)("p",{children:"Your browser doesn't support storing data using local storage, which gt-scheduler relies on to persist schedule data between sessions."}),Object(P.jsx)("p",{children:"Reasons this might be the case:"}),Object(P.jsxs)("ul",{children:[Object(P.jsx)("li",{children:"You're using an outdated browser that doesn't support local storage"}),Object(P.jsx)("li",{children:"You're using Mobile Safari with private mode enabled"}),Object(P.jsx)("li",{children:"You're using Safari with cookies disabled"})]}),Object(P.jsx)("p",{children:Object(P.jsx)("strong",{children:"Would you like to continue using gt-scheduler? Your schedules will not be saved once you close this tab."})}),Object(P.jsx)("button",{className:"data-not-persistent-notification--button",onClick:t,type:"button",children:"Accept"})]})}var nn={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0};var rn=function(e){return null!=e&&Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))};function cn(e,t){try{if(null==e||"object"!==typeof e||Array.isArray(e))return{type:"error",fallback:nn,errors:[new _({message:"term data is the wrong type",fields:{rawTermData:t,termDataType:typeof e,termData:e}})]};var n=Object(d.a)({},nn),r=e,c=[],a=r.desiredCourses,s=r.pinnedCrns,i=r.excludedCrns,o=r.colorMap,u=r.sortingOptionIndex;return rn(a)?n.desiredCourses=a:c.push(new _({message:"termData.desiredCourses was not a string array",fields:{rawTermData:t,termData:e,desiredCourses:a,fallback:n.desiredCourses}})),rn(s)?n.pinnedCrns=s:c.push(new _({message:"termData.pinnedCrns was not a string array",fields:{rawTermData:t,termData:e,pinnedCrns:s,fallback:n.pinnedCrns}})),rn(i)?n.excludedCrns=i:c.push(new _({message:"termData.excludedCrns was not a string array",fields:{rawTermData:t,termData:e,excludedCrns:i,fallback:n.excludedCrns}})),"object"===typeof(l=o)&&null!=l&&Object.keys(l).every((function(e){return"string"===typeof e}))&&Object.values(l).every((function(e){return"string"===typeof e}))?n.colorMap=o:c.push(new _({message:"termData.colorMap was not a string/string map",fields:{rawTermData:t,termData:e,colorMap:o,fallback:n.colorMap}})),"number"===typeof u?n.sortingOptionIndex=u:c.push(new _({message:"termData.sortingOptionIndex was not a number",fields:{rawTermData:t,termData:e,sortingOptionIndex:u,fallback:n.sortingOptionIndex}})),c.length>0?{type:"error",fallback:n,errors:c}:{type:"valid",termData:n}}catch(j){return j instanceof Error?{type:"error",fallback:nn,errors:[new _({message:"an unexpected error occurred when parsing term data",source:j,fields:{rawTermData:t}})]}:{type:"error",fallback:nn,errors:[new _({message:"an unexpected error occurred when parsing term data",fields:{rawTermData:t,originalError:j}})]}}var l}var an={terms:{},currentTerm:"",version:1};function sn(e){var t,n=null!==(t=e.term)&&void 0!==t?t:"",r=Math.floor(1e5*Math.random()),c={};return Object.entries(e).forEach((function(e){var t=Object(h.a)(e,2),n=t[0],a=t[1];if(Ze(n)){var s=function(e){if(""===e||"undefined"===e)return{type:"error",error:new _({message:'raw term data was empty or "undefined"',fields:{rawTermData:e}})};try{return{type:"parsed",parsed:JSON.parse(e)}}catch(t){return{type:"error",error:new _({message:"raw term data was not valid JSON data",source:t,fields:{rawTermData:e}})}}}(a);if("error"===s.type)return void G(new _({message:"parsing error for guessed term data when migrating",source:s.error,fields:{cookieKey:n,cookieValue:a,userNumber:r}}));var i=cn(s.parsed,a);"error"===i.type?(i.errors.forEach((function(e){G(new _({message:"validation error for guessed term data when migrating",source:e,fields:{cookieKey:n,cookieValue:a,userNumber:r}}))})),c[n]={versions:[{name:"Primary",schedule:i.fallback}],currentIndex:0}):c[n]={versions:[{name:"Primary",schedule:i.termData}],currentIndex:0}}})),{terms:c,currentTerm:n,version:1}}function on(e){var t=e.rawScheduleData,n=e.setScheduleData,c=Object(r.useState)(null),a=Object(h.a)(c,2),s=a[0],i=a[1];return Object(r.useEffect)((function(){if(null===t||1!==t.version)try{var e=function(e){var t;if(null===e)try{t=sn(Xe.a.get())}catch(n){G(new _({source:n,message:"an error occurred when sourcing schedule data from cookies"})),t=an}else t=e;return t}(t);n(e)}catch(c){var r=new _({source:c,message:"an error occurred when loading schedule data"});G(r),i({type:"error",error:r,stillLoading:!1,overview:"could not convert stored schedule data to latest version"})}}),[t,n]),null!==s?{type:"error",error:s}:null===t||1!==t.version?{type:"pending"}:{type:"done",result:t}}function un(e,t){return""!==e&&"undefined"!==e&&t.includes(e)}function ln(e){var t=e.children,n=function(){var e,t=Object(At.a)("schedule-data",null),n=Object(h.a)(t,3),c=n[0],a=n[1],s=n[2].isPersistent,i=on({rawScheduleData:c,setScheduleData:a}),o=Object(r.useState)(!1),u=Object(h.a)(o,2),l=u[0],j=u[1],b=Object(r.useCallback)((function(e){return a((function(t){if("done"!==i.type)throw new _({message:"updateScheduleData called when schedule data is not valid",fields:{migrationResultType:i.type}});return Object(Ut.b)(t,e)}))}),[a,i.type]);return s||l?"pending"===i.type?{type:"loading"}:"error"===i.type?i.error:{type:"loaded",result:{scheduleData:i.result,updateScheduleData:b}}:{type:"custom",contents:(e={onAccept:function(){j(!0)}},Object(P.jsx)(tn,Object(d.a)({},e)))}}(),c="loaded"===n.type?n.result.updateScheduleData:null,a=Object(r.useCallback)((function(e){if(null===c)throw new _({message:"setTerm called when schedule data was not loaded yet",fields:{nextTerm:e}});c((function(t){t.currentTerm=e}))}),[c]);return"loaded"!==n.type?Object(P.jsx)(Zt,{children:Object(P.jsx)($t,{children:Object(P.jsx)(Jt,{state:n,name:"local schedule data"})})}):Object(P.jsx)(P.Fragment,{children:t(Object(d.a)(Object(d.a)({},n.result),{},{setTerm:a}))})}function dn(e){var t=e.children,n=function(){var e=Object(r.useState)({type:"loading"}),t=Object(h.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=new _e;function t(){return(t=Object(j.a)(l.a.mark((function t(){var n,r,a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=1;case 1:if(e.isCancelled){t.next=25;break}return t.prev=2,r=ue.a.get(Yt),t.next=6,e.perform(r);case 6:if(!(a=t.sent).cancelled){t.next=9;break}return t.abrupt("return");case 9:if(0!==(s=a.value.data.map((function(e){return e.name})).filter((function(e){return/\d{6}\.json/.test(e)})).map((function(e){return e.replace(/\.json$/,"")})).sort().reverse()).length){t.next=12;break}throw new _({message:"fetched list of terms is empty; cannot continue"});case 12:return c({type:"loaded",result:s}),t.abrupt("return");case 16:t.prev=16,t.t0=t.catch(2),re(t.t0)||G(new _({message:"error fetching list of terms",source:t.t0,fields:{url:Yt}})),c({type:"error",error:t.t0 instanceof Error?t.t0:new _({message:"an error occurred while fetching terms",source:t.t0}),stillLoading:!0,overview:String(t.t0)});case 20:return t.next=22,ce(n);case 22:n+=1,t.next=1;break;case 25:case"end":return t.stop()}}),t,null,[[2,16]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch((function(){})),function(){e.cancel()}}),[c]),n}();return"loaded"!==n.type?Object(P.jsx)(Zt,{children:Object(P.jsx)($t,{children:Object(P.jsx)(Jt,{state:n,name:"list of current terms"})})}):Object(P.jsx)(P.Fragment,{children:t({terms:n.result})})}function jn(e){var t=e.terms,n=e.scheduleData,c=e.updateScheduleData,a=e.children,s=function(e,t,n){Object(r.useEffect)((function(){var r=e[0],c=un(t.currentTerm,e)?t.currentTerm:r,a=t.terms[c],s=void 0===a?ke:a;c===t.currentTerm&&s===a||n((function(e){e.currentTerm=c,e.terms[c]=Object(Ut.a)(s)}))}),[t.currentTerm,t.terms,e,n]);var c=t.currentTerm,a=t.terms[c],s=Object(r.useCallback)((function(t){n((function(n){var r=n.terms[c];void 0!==r?n.terms[c]=Object(Ut.b)(r,(function(e){return Object(Ut.a)(t(e))})):G(new _({message:"updateTermScheduleData called on term that does not exist",fields:{currentTerm:c,currentTermScheduleData:a,terms:e,allTermsInData:Object.keys(n.terms)}}))}))}),[c,e,a,n]);return un(c,e)&&void 0!==a?{type:"loaded",result:{currentTerm:c,termScheduleData:a,updateTermScheduleData:s}}:{type:"loading"}}(t,n,c);return"loaded"!==s.type?Object(P.jsx)(Zt,{children:Object(P.jsx)($t,{children:Object(P.jsx)(Jt,{state:s,name:"schedule data for the current term"})})}):Object(P.jsx)(P.Fragment,{children:a(Object(d.a)({},s.result))})}function bn(e){var t=e.terms,n=e.term,c=e.setTerm,a=e.children,s=function(e){var t=Object(r.useState)({type:"loading"}),n=Object(h.a)(t,2),c=n[0],a=n[1],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=new _e,n=function(e){return"https://gt-scheduler.github.io/crawler/".concat(e,".json")}(e);function r(){return(r=Object(j.a)(l.a.mark((function e(){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0;case 1:if(t.isCancelled){e.next=15;break}return e.next=4,c({initialLoad:n});case 4:if(!t.isCancelled){e.next=6;break}return e.abrupt("return");case 6:return r=se({amount_ms:9e5}),e.next=9,t.perform(r);case 9:if(!e.sent.cancelled){e.next=12;break}return e.abrupt("return");case 12:n=!1,e.next=1;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return i.apply(this,arguments)}function i(){return(i=Object(j.a)(l.a.mark((function r(c){var i,o,u,d,j,b,f;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(i=c.initialLoad)&&a({type:"loading"}),o=1;case 3:if(t.isCancelled){r.next=29;break}return r.prev=4,d=ue.a.get(n),r.next=8,t.perform(d);case 8:if(!(j=r.sent).cancelled){r.next=11;break}return r.abrupt("return");case 11:if(b=j.value.data,null===s.current||new Date(b.updatedAt).getTime()!==(null===(u=s.current)||void 0===u?void 0:u.updatedAt.getTime())){r.next=14;break}return r.abrupt("return");case 14:return f=new Ce(b,e),a({type:"loaded",result:f}),s.current=f,r.abrupt("return");case 20:r.prev=20,r.t0=r.catch(4),re(r.t0)||G(new _({message:"error fetching crawler data",source:r.t0,fields:{term:e,url:n}})),i&&a({type:"error",error:r.t0 instanceof Error?r.t0:new _({message:"an error occurred while fetching crawler data",source:r.t0}),stillLoading:!0,overview:String(r.t0)});case 24:return r.next=26,ce(o);case 26:o+=1,r.next=3;break;case 29:case"end":return r.stop()}}),r,null,[[4,20]])})))).apply(this,arguments)}return function(){return r.apply(this,arguments)}().catch((function(t){G(new _({message:"error loading and refreshing oscar data",source:t,fields:{term:e,url:n}}))})),function(){t.cancel()}}),[e,a]),"loaded"===c.type&&c.result.term!==e?{type:"loading"}:c}(n);return"loaded"!==s.type?Object(P.jsx)(Qt,{terms:t,currentTerm:n,onChangeTerm:c,children:Object(P.jsx)($t,{children:Object(P.jsx)(Jt,{state:s,name:"Oscar course data for the current term"})})}):Object(P.jsx)(P.Fragment,{children:a({oscar:s.result})})}function fn(e){var t=e.terms,n=e.currentTerm,c=e.setTerm,a=e.termScheduleData,s=e.updateTermScheduleData,i=e.children,o=function(e,t){function n(e,t){var n;return t<0||t>e.length-1?null:null!==(n=e[t])&&void 0!==n?n:null}var c=n(e.versions,e.currentIndex);Object(r.useEffect)((function(){null===c&&t((function(e){null===n(e.versions,e.currentIndex)&&(0===e.versions.length?(e.versions.push({name:"Primary",schedule:Object(Ut.a)(Te)}),e.currentIndex=0):e.currentIndex=0)}))}),[c,t]);var a=Object(r.useCallback)((function(e){t((function(t){var r=n(t.versions,t.currentIndex);null!==r?t.versions[t.currentIndex]=Object(Ut.b)(r,(function(t){return Object(Ut.a)(e(t))})):G(new _({message:"updateScheduleVersion called with invalid current schedule version; ignoring",fields:{currentIndex:t.currentIndex,currentScheduleVersion:null}}))}))}),[t]);return null===c?{type:"loading"}:{type:"loaded",result:{currentIndex:e.currentIndex,scheduleVersion:c,updateScheduleVersion:a}}}(a,s);return"loaded"!==o.type?Object(P.jsx)(Qt,{terms:t,currentTerm:n,onChangeTerm:c,children:Object(P.jsx)($t,{children:Object(P.jsx)(Jt,{state:o,name:"current schedule version"})})}):Object(P.jsx)(P.Fragment,{children:i(Object(d.a)({},o.result))})}function hn(e){var t=e.children;return Object(P.jsx)(ln,{children:function(e){var n=e.scheduleData,r=e.updateScheduleData,c=e.setTerm;return Object(P.jsx)(dn,{children:function(e){var a=e.terms;return Object(P.jsx)(jn,{terms:a,scheduleData:n,updateScheduleData:r,children:function(e){var n=e.currentTerm,r=e.termScheduleData,s=e.updateTermScheduleData;return Object(P.jsx)(bn,{terms:a,term:n,setTerm:c,children:function(e){var i=e.oscar;return Object(P.jsx)(fn,{terms:a,currentTerm:n,setTerm:c,termScheduleData:r,updateTermScheduleData:s,children:function(e){var r=e.scheduleVersion,s=e.updateScheduleVersion;return Object(P.jsx)(mn,{terms:a,term:n,setTerm:c,oscar:i,scheduleVersion:r,updateScheduleVersion:s,children:t})}})}})}})}})}})}function mn(e){var t=e.terms,n=e.term,c=e.setTerm,a=e.oscar,s=e.scheduleVersion,i=e.updateScheduleVersion,o=e.children,u=Object(r.useCallback)((function(e){i((function(t){t.schedule=Object(Ut.b)(t.schedule,(function(t){return Object(Ut.a)(e(t))}))}))}),[i]),l=Object(r.useCallback)((function(e){u((function(t){var n;return Object(d.a)(Object(d.a)({},null!==(n=Object(Ut.c)(t))&&void 0!==n?n:Te),e)}))}),[u]),j=Object(r.useMemo)((function(){return[Object(d.a)({term:n,oscar:a},Object(Ut.a)(s.schedule)),{setTerm:c,patchSchedule:l,updateSchedule:u}]}),[n,a,s,c,l,u]);return Object(P.jsx)(pe.Provider,{value:t,children:Object(P.jsx)(Se.Provider,{value:j,children:o})})}var pn="theme";n(306);function vn(){!function(){var e=Object(At.a)(Mt,(function(){return"true"===Xe.a.get(Mt)})),t=Object(h.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){n||(c(!0),Et()({button:"Got It!",content:Object(P.jsx)(It,{})}).catch((function(e){G(new _({message:"error with swal call",source:e,fields:{localStorageKey:Mt}}))})))}),[n,c])}();var e,t=function(){var e=Object(At.a)(pn,(function(){var e=Xe.a.get(pn);return void 0!==e?e:"dark"})),t=Object(h.a)(e,2),n=t[0],c=t[1],a=function(e){switch(e){case"light":case"dark":return!0;default:return!1}}(n)?n:"dark";return Object(r.useEffect)((function(){n!==a&&c(a)}),[n,a,c]),Object(r.useMemo)((function(){return[a,c]}),[a,c])}();return e=t[0],Object(r.useLayoutEffect)((function(){var t;return"string"===typeof e?document.body.classList.add(e):(t=document.body.classList).add.apply(t,Object(f.a)(e)),function(){var t;"string"===typeof e?document.body.classList.remove(e):(t=document.body.classList).remove.apply(t,Object(f.a)(e))}}),[e]),Object(P.jsx)(me.Provider,{value:t,children:Object(P.jsx)(On,{children:Object(P.jsxs)(Ft,{fallback:function(e,t){return Object(P.jsx)(Zt,{children:Object(P.jsxs)($t,{children:[Object(P.jsx)(Pt,{}),Object(P.jsxs)(Wt,{errorDetails:Object(P.jsx)(Rt,{error:e,errorInfo:t}),children:[Object(P.jsx)("div",{children:"There was en error somewhere in the core application logic and it can't continue."}),Object(P.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})})},children:[Object(P.jsx)(Vt,{children:Object(P.jsx)(hn,{children:Object(P.jsx)(Xt,{})})}),Object(P.jsx)(Tt,{})]})})})}function On(e){var t=e.children,n=$e();return Object(P.jsx)("div",{className:K("App",n&&"mobile"),children:t})}n(307),n(308);console.log("Initializing Sentry"),i.a({dsn:"https://8955ef982197469e97c7644a8c090db1@o552970.ingest.sentry.io/5679614",integrations:[new o.a.BrowserTracing],tracesSampleRate:1,ignoreErrors:["ResizeObserver loop limit exceeded"],release:"ae319c36c0cccb270f588bd7fefe51a8e09cae7a"}),s.a.render(Object(P.jsx)(vn,{}),document.getElementById("root"))}},[[309,1,2]]]);
//# sourceMappingURL=main.a569b000.chunk.js.map