(this["webpackJsonpgt-scheduler"]=this["webpackJsonpgt-scheduler"]||[]).push([[0],{217:function(e,t,n){},218:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(35),s=n.n(a),i=n(321),o=n(176),l=n(21),u=n.n(l),d=n(7),j=n(39),b=n(27),f=n(73),h=n(11),m=n(5),v=n(164),O=n(165),p=n(166),x=n.n(p),g=n(167),y=480,w=["M","T","W","R","F"],C=[["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF"],["#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF"],["#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]],N={"Hybrid Course":"Hybrid","Remote Synchronous Course":"Remote Synchronous","Remote Asynchronous Course":"Remote Asynchronous","Residential Course":"Residential"},k={"Georgia Tech-Atlanta *":"Atlanta","GT Lorraine-Undergrad Programs":"Lorraine Undergrad","GT Lorraine-Graduate Programs":"Lorraine Graduate","Georgia Tech - Shenzhen":"Shenzhen",Video:"Video",Online:"Online","MBA Evening Program":"MBA Evening"},S="https://gt-scheduler.azurewebsites.net",D=1024,T=n(56),E=n(20),A=n(22),M=n(90),F=n(91),I=n(98),L=n(177),V=n(33),R=n(93),B=n.n(R),_=["type"],P=function(e){Object(F.a)(n,e);var t=Object(I.a)(n);function n(e){var r,c=e.message,a=e.source,s=e.fields,i=void 0===s?{}:s;Object(E.a)(this,n),(r=t.call(this)).fields=void 0,r.topMessage=void 0,r.source=void 0,r.fields=i,r.topMessage=c,a instanceof Error?(r.source=a,r.message="".concat(c,": ").concat(a.message),null!=a.stack&&(r.stack=a.stack)):(r.source=null,r.message=c,null!==r.source&&(r.fields.__non_error_source="true",r.fields.__source=B()(a)));var o=r.getRootError();return o===Object(M.a)(r)||o instanceof n?r.name="ErrorWithFields":r.name="ErrorWithFields(".concat(o.name,")"),r}return Object(A.a)(n,[{key:"logToConsole",value:function(){console.group(this.topMessage),console.error(this.getRootError());var e=this.getAllFields();Object.keys(e).length>0&&console.info(e),console.groupEnd()}},{key:"getAllFields",value:function(){return this.source instanceof n?Object(d.a)(Object(d.a)({},this.source.getAllFields()),this.fields):this.fields}},{key:"getRootError",value:function(){return null===this.source?this:this.source instanceof n?this.source.getRootError():this.source}}]),n}(Object(L.a)(Error));function W(e){e.logToConsole();var t=e.getAllFields();if(Object.keys(t).includes("type")){var n=t,r=n.type,c=Object(T.a)(n,_);t=Object(d.a)({__do_not_use_type_in_sentry_it_is_special:r},c)}V.a(e.getRootError(),{contexts:{fields:t,error:{message:e.message}},fingerprint:[e.message]})}var G=function(e,t){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1===navigator.userAgent.indexOf("MSIE 10"))){"undefined"===typeof e&&(e="default"),"undefined"===typeof t&&(t="Calendar");var n=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",r=[],c=["BEGIN:VCALENDAR","PRODID:".concat(t),"VERSION:2.0"].join(n),a="".concat(n,"END:VCALENDAR"),s=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return r},calendar:function(){return c+n+r.join(n)+a},addEvent:function(t,c,a,i,o,l){if("undefined"===typeof t||"undefined"===typeof c||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof o)return!1;if(l&&!l.rrule){if("YEARLY"!==l.freq&&"MONTHLY"!==l.freq&&"WEEKLY"!==l.freq&&"DAILY"!==l.freq)throw new Error("Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'");if(l.until&&Number.isNaN(Date.parse(l.until)))throw new Error("Recurrence rrule 'until' must be a valid date string");if(l.interval&&Number.isNaN(parseInt(l.interval,10)))throw new Error("Recurrence rrule 'interval' must be an integer");if(l.count&&Number.isNaN(parseInt(l.count,10)))throw new Error("Recurrence rrule 'count' must be an integer");if("undefined"!==typeof l.byday){if("[object Array]"!==Object.prototype.toString.call(l.byday))throw new Error("Recurrence rrule 'byday' must be an array");if(l.byday.length>7)throw new Error("Recurrence rrule 'byday' array must not be longer than the 7 days in a week");for(var u in l.byday=l.byday.filter((function(e,t){return l.byday.indexOf(e)===t})),l.byday)if(s.indexOf(l.byday[u])<0)throw new Error("Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'")}}var d=new Date(i),j=new Date(o),b=new Date,f="0000".concat(d.getFullYear().toString()).slice(-4),h="00".concat((d.getMonth()+1).toString()).slice(-2),m="00".concat(d.getDate().toString()).slice(-2),v="00".concat(d.getHours().toString()).slice(-2),O="00".concat(d.getMinutes().toString()).slice(-2),p="00".concat(d.getSeconds().toString()).slice(-2),x="0000".concat(j.getFullYear().toString()).slice(-4),g="00".concat((j.getMonth()+1).toString()).slice(-2),y="00".concat(j.getDate().toString()).slice(-2),w="00".concat(j.getHours().toString()).slice(-2),C="00".concat(j.getMinutes().toString()).slice(-2),N="00".concat(j.getSeconds().toString()).slice(-2),k="0000".concat(b.getFullYear().toString()).slice(-4),S="00".concat((b.getMonth()+1).toString()).slice(-2),D="00".concat(b.getDate().toString()).slice(-2),T="00".concat(b.getHours().toString()).slice(-2),E="00".concat(b.getMinutes().toString()).slice(-2),A="00".concat(b.getSeconds().toString()).slice(-2),M="",F="";v+O+p+w+C+N!==0&&(M="T".concat(v).concat(O).concat(p),F="T".concat(w).concat(C).concat(N));var I,L=f+h+m+M,V=x+g+y+F,R=k+S+D+"T".concat(T).concat(E).concat(A);if(l)if(l.rrule)I=l.rrule;else{if(I="RRULE:FREQ=".concat(l.freq),l.until){var B=new Date(Date.parse(l.until)).toISOString();I+=";UNTIL=".concat(B.substring(0,B.length-13).replace(/[-]/g,""),"000000Z")}l.interval&&(I+=";INTERVAL=".concat(l.interval)),l.count&&(I+=";COUNT=".concat(l.count)),l.byday&&l.byday.length>0&&(I+=";BYDAY=".concat(l.byday.join(",")))}var _=["BEGIN:VEVENT","UID:".concat(r.length,"@").concat(e),"CLASS:PUBLIC","DESCRIPTION:".concat(c),"DTSTAMP;VALUE=DATE-TIME:".concat(R),"DTSTART;VALUE=DATE-TIME:".concat(L),"DTEND;VALUE=DATE-TIME:".concat(V),"LOCATION:".concat(a),"SUMMARY;LANGUAGE=en-us:".concat(t),"TRANSP:TRANSPARENT","END:VEVENT"];return I&&_.splice(4,0,I),_=_.join(n),r.push(_),_},download:function(e,t){if(r.length<1)return!1;t="undefined"!==typeof t?t:".ics",e="undefined"!==typeof e?e:"calendar";var s,i=c+n+r.join(n)+a;if(-1===navigator.userAgent.indexOf("MSIE 10"))s=new Blob([i]);else{var o=new BlobBuilder;o.append(i),s=o.getBlob("text/x-vCalendar;charset=".concat(document.characterSet))}return saveAs(s,e+t),i},build:function(){return!(r.length<1)&&c+n+r.join(n)+a}}}console.log("Unsupported Browser")},z=n(0),q=function(e){var t=/(\d{1,2}):(\d{2}) (a|p)m/.exec(e);if(null===t)return 0;var n=t,r=Object(m.a)(n,4),c=r[1],a=r[2];return 60*(("p"===r[3]?12:0)+ +c%12)+ +a},H=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e/60|0,r=e%60,c=n>12?n-12:n,a="".concat(r).padStart(2,"0"),s="".concat(n<12?"a":"p","m");return t?"".concat(c,":").concat(a," ").concat(s):"".concat(c,":").concat(a)},U=function(e){var t=e/60|0;return"".concat(t>12?t-12:t).concat(t<12?"a":"p","m")},Y=function(e){return null!=e?"".concat(H(e.start,!1)," - ").concat(H(e.end)):"TBA"},J=function(){var e,t=C.flat();return null!==(e=t[Math.random()*t.length|0])&&void 0!==e?e:"#333333"},K=function(e){return null==e||.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16)>128?"light-content":"dark-content"},Q=function(e,t){return e.meetings.some((function(e){return t.meetings.some((function(t){return e.period&&t.period&&w.some((function(n){return e.days.includes(n)&&t.days.includes(n)}))&&e.period.start<t.period.end&&t.period.start<e.period.end}))}))},X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")},Z=function(e){var t=e.split(" ");return[t.shift(),t.pop()].join(" ")};function $(e){return Array.from(new Set(e))}var ee=function(e){return["Lab","Studio"].some((function(t){return e.scheduleType.includes(t)}))},te=function(e){return e.scheduleType.includes("Lecture")};function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and";if(0===e.length)return null;if(1===e.length)return String(e[0]);if(2===e.length)return Object(z.jsxs)(z.Fragment,{children:[String(e[0])," ",t," ",String(e[1])]});var n=Object(h.a)(e),r=n.pop();return Object(z.jsxs)(z.Fragment,{children:["".concat(n.join(", "),",").trim()," ",t," ",String(r)]})}var re=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=function(e){return Array.isArray(t)&&e===t.length-2},a="";if(Array.isArray(t)){if("and"===t[0]){var s=Object(f.a)(t),i=s.slice(1);i.forEach((function(t,n){a+=e(t,0===n,c(n))+(c(n)?"":" and ")}))}else if("or"===t[0]){var o=Object(f.a)(t),l=o.slice(1);l.forEach((function(t,n){a+=e(t)+(c(n)?"":" or ")}))}}else a+=(n?"(":"")+t.id+(r?")":"");return a},ce=function(e){return e instanceof Error&&e.message.includes("Network Error")};function ae(e){return se.apply(this,arguments)}function se(){return(se=Object(b.a)(u.a.mark((function e(t){var n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,Object(v.DelayFactory)(Object(O.getSanitizedOptions)(Object(d.a)({jitter:"full",numOfAttempts:Number.MAX_SAFE_INTEGER},n)),t).apply();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.amount_ms,e.next=3,new Promise((function(e){return setTimeout((function(){return e(void 0)}),n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=["Secondary","Tertiary","Quaternary","Quinary","Senary","Septenary","Octonary","Nonary","Denary"];function ue(e,t){return e===t?0:e>t?1:-1}var de=n(42),je=n.n(de),be=n(15),fe=n(9);n(217);function he(e){var t=e.className,n=e.disabled,r=void 0!==n&&n,c=e.href,a=e.onClick,s=e.children;return r?Object(z.jsx)("div",{className:X("Button","disabled",t),children:s}):null!=c?Object(z.jsx)("a",{className:X("Button",t),href:c,rel:"noopener noreferrer",target:"_blank",children:s}):Object(z.jsx)("div",{className:X("Button",t),onClick:a,tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&null!=a&&a(e)},role:"button",children:s})}n(218);var me=["className","label","children","actions"],ve=["icon","styling","dataTip","dataFor","onMouseEnter","onMouseLeave"];function Oe(e){var t=e.className,n=e.label,c=e.children,a=e.actions,s=Object(T.a)(e,me);return Object(z.jsxs)("div",Object(d.a)(Object(d.a)({className:X("ActionRow",t)},s),{},{children:[Object(z.jsxs)("div",{className:"action-row-header",children:[Object(z.jsx)("div",{className:"label",children:n}),Object(z.jsx)("div",{className:X("actions","default"),children:a.flatMap((function(e){return null!=e?[e]:[]})).map((function(e,t){var n=e.icon,c=e.styling,a=e.dataTip,s=e.dataFor,i=e.onMouseEnter,o=e.onMouseLeave,l=Object(T.a)(e,ve);return Object(r.createElement)(he,Object(d.a)(Object(d.a)({className:"action"},l),{},{key:t}),Object(z.jsx)(be.a,{fixedWidth:!0,style:c,icon:n,"data-tip":a,"data-for":s,onMouseEnter:i,onMouseLeave:o}))}))})]}),c]}))}var pe=c.a.createContext(["light",function(e){throw new P({message:"empty ThemeContext.setTheme value being used",fields:{next:e}})}]),xe=c.a.createContext([]),ge=function(){function e(t,n,r){var c=this;Object(E.a)(this,e),this.id=void 0,this.subject=void 0,this.number=void 0,this.title=void 0,this.sections=void 0,this.prereqs=void 0,this.hasLab=void 0,this.onlyLectures=void 0,this.onlyLabs=void 0,this.allInOnes=void 0,this.sectionGroups=void 0,this.term=void 0,this.term=t.term;var a=Object(m.a)(r,3),s=a[0],i=a[1],o=a[2];this.id=n;var l=this.id.split(" "),u=Object(m.a)(l,2),d=u[0],b=u[1];if(null==d||null==b)throw new P({message:"course ID could not be parsed",fields:{id:this.id,subject:d,number:b,term:this.term}});this.subject=d,this.number=b,this.title=s,this.sections=Object.entries(i).flatMap((function(e){var r=Object(m.a)(e,2),a=r[0],s=r[1];if(null==s)return[];try{return[new Ce(t,c,a,s)]}catch(i){return W(new P({message:"could not construct Section bean",source:i,fields:{courseId:n,term:c.term}})),[]}})),this.prereqs=o;var f=this.sections.filter((function(e){return te(e)&&!ee(e)})),h=this.sections.filter((function(e){return ee(e)&&!te(e)}));if(this.hasLab=!!f.length&&!!h.length,this.hasLab){var v,O=Object(j.a)(f);try{var p=function(){var e=v.value;e.associatedLabs=h.filter((function(t){return t.id.startsWith(e.id)}))};for(O.s();!(v=O.n()).done;)p()}catch(M){O.e(M)}finally{O.f()}var x,g=Object(j.a)(h);try{var y=function(){var e=x.value;e.associatedLectures=f.filter((function(t){return e.id.startsWith(t.id)}))};for(g.s();!(x=g.n()).done;)y()}catch(M){g.e(M)}finally{g.f()}var w,C=f.filter((function(e){return!e.associatedLabs.length})),N=h.filter((function(e){return!e.associatedLectures.length})),k=Object(j.a)(C);try{var S=function(){var e=w.value;e.associatedLabs=N.filter((function(t){return!Q(e,t)}))};for(k.s();!(w=k.n()).done;)S()}catch(M){k.e(M)}finally{k.f()}var D,T=Object(j.a)(N);try{var A=function(){var e=D.value;e.associatedLectures=C.filter((function(t){return!Q(t,e)}))};for(T.s();!(D=T.n()).done;)A()}catch(M){T.e(M)}finally{T.f()}this.onlyLectures=f,this.onlyLabs=h,this.allInOnes=this.sections.filter((function(e){return te(e)&&ee(e)}))}else this.sectionGroups=this.distinct(this.sections)}return Object(A.a)(e,[{key:"distinct",value:function(e){var t={};return e.forEach((function(e){var n=e.meetings.map((function(e){return{days:e.days,period:e.period}})),r=JSON.stringify(n),c=t[r];c?c.sections.push(e):t[r]={hash:r,meetings:n,sections:[e]}})),t}},{key:"fetchGpa",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,r,c,a,s,i=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://c4citk6s9k.execute-api.us-east-1.amazonaws.com/test/data",t="".concat(this.subject," ").concat(this.number.replace(/\D/g,"")),n=encodeURIComponent(t),r="".concat("https://c4citk6s9k.execute-api.us-east-1.amazonaws.com/test/data","/course?courseID=").concat(n),e.prev=4,e.next=7,je.a.get(r);case 7:c=e.sent.data,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),ce(e.t0)||W(new P({message:"error fetching course details from Course Critique API",source:e.t0,fields:{baseId:this.id,cleanedId:t,url:r,term:this.term}})),e.abrupt("return",{});case 14:if(e.prev=14,a={},null!==(s=c.header[0].avg_gpa)){e.next=19;break}return e.abrupt("return",{});case 19:if("number"===typeof s){e.next=21;break}throw new P({message:'data at ".header[0].avg_gpa" was not a number',fields:{actual:s,term:this.term}});case 21:return a.averageGpa=s,c.raw.forEach((function(e,t){var n=e.instructor_name;if("string"!==typeof n)throw new P({message:'data at ".raw[idx].instructor_name" was not a string',fields:{idx:t,actual:n,term:i.term}});var r=e.GPA;if("number"!==typeof r)throw new P({message:'data at ".raw[idx].GPA" was not a number',fields:{idx:t,actual:r,term:i.term}});var c=n,s=c.split(", ");if(2===s.length){var o=s,l=Object(m.a)(o,2),u=l[0],d=l[1];c="".concat(d," ").concat(u)}a[c]=r})),e.abrupt("return",a);case 26:return e.prev=26,e.t1=e.catch(14),W(new P({message:"error extracting course GPA from Course Critique API response",source:e.t1,fields:{baseId:this.id,cleanedId:t,url:r,term:this.term}})),e.abrupt("return",{});case 30:case"end":return e.stop()}}),e,this,[[4,10],[14,26]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ye=n(168),we=n.n(ye),Ce=function(){function e(t,n,r,c){var a,s,i;Object(E.a)(this,e),this.course=void 0,this.id=void 0,this.crn=void 0,this.seating=void 0,this.credits=void 0,this.scheduleType=void 0,this.campus=void 0,this.deliveryMode=void 0,this.gradeBasis=void 0,this.meetings=void 0,this.instructors=void 0,this.associatedLabs=void 0,this.associatedLectures=void 0,this.term=void 0,this.term=t.term;var o=Object(m.a)(c,7),l=o[0],u=o[1],d=o[2],j=o[3],b=o[4],f=o[5],v=o[6];this.course=n,this.id=r,this.crn=l,this.seating=[[],0],this.credits=d,this.scheduleType=null!==(a=t.scheduleTypes[j])&&void 0!==a?a:"unknown",this.campus=null!==(s=t.campuses[b])&&void 0!==s?s:"unknown";var O=f.map((function(e){return t.attributes[e]})).flatMap((function(e){return null==e?[]:[e]}));this.deliveryMode=O.find((function(e){return e in N})),this.gradeBasis=null!==(i=t.gradeBases[v])&&void 0!==i?i:"unknown",this.meetings=u.map((function(e){var n,r,c=Object(m.a)(e,6),a=c[0],s=c[1],i=c[2],o=c[3],l=c[4],u=c[5];return{period:t.periods[a],days:"&nbsp;"===s?[]:s.split(""),where:i,location:null!==(n=t.locations[o])&&void 0!==n?n:null,instructors:l.map((function(e){return e.replace(/ \(P\)$/,"")})),dateRange:null!==(r=t.dateRanges[u])&&void 0!==r?r:{from:new Date,to:new Date}}})),this.instructors=$(this.meetings.map((function(e){return e.instructors})).reduce((function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t))}),[])),this.associatedLabs=[],this.associatedLectures=[]}return Object(A.a)(e,[{key:"fetchSeating",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,c,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.seating[1],!((r=Date.now())-n>3e5)){e.next=5;break}return c="".concat(S,"/proxy/class_section?term=").concat(t,"&crn=").concat(this.crn),e.abrupt("return",je()({url:c,method:"get",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"text/html"}}).then((function(e){var t=we.a.load(e.data)(".datadisplaytable .datadisplaytable").find("tr");return a.seating=[[parseInt(t.eq(1).children("td").first().text(),10),parseInt(t.eq(1).children("td").eq(1).text(),10),parseInt(t.eq(2).children("td").first().text(),10),parseInt(t.eq(2).children("td").eq(1).text(),10)],r],a.seating})).catch((function(){return[new Array(4).fill("N/A"),r]})));case 5:return e.abrupt("return",this.seating);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ne=function e(t,n){Object(E.a)(this,e),this.label=void 0,this.calculateFactor=void 0,this.label=t,this.calculateFactor=n},ke=function(){function e(t,n){var r=this;Object(E.a)(this,e),this.term=n,this.periods=void 0,this.dateRanges=void 0,this.scheduleTypes=void 0,this.campuses=void 0,this.attributes=void 0,this.gradeBases=void 0,this.locations=void 0,this.updatedAt=void 0,this.version=void 0,this.courses=void 0,this.courseMap=void 0,this.crnMap=void 0,this.sortingOptions=void 0;var c=t.courses,a=t.caches,s=t.updatedAt,i=t.version;this.periods=a.periods.map((function(e,t){if("TBA"!==e){var n=e.split(" - ");if(2===n.length){var c=n,a=Object(m.a)(c,2),s=a[0],i=a[1];return{start:q(s),end:q(i)}}W(new P({message:"period did not follow expected format",fields:{period:e,cacheIndex:t,term:r.term}}))}})),this.dateRanges=a.dateRanges.map((function(e,t){var n=e.split(" - ");2!==n.length&&(W(new P({message:"date range did not follow expected format",fields:{dateRange:e,cacheIndex:t,term:r.term}})),n=["Jan 1, 1970","Jan 2, 1970"]);var c=n.map((function(e){return new Date(e)})),a=Object(m.a)(c,2),s=a[0],i=a[1];return s.setHours(0),i.setHours(23,59,59,999),{from:s,to:i}})),this.scheduleTypes=a.scheduleTypes,this.campuses=a.campuses,this.attributes=a.attributes,this.gradeBases=a.gradeBases,this.locations=a.locations,this.updatedAt=new Date(s),this.version=i,this.courses=Object.entries(c).flatMap((function(e){var t=Object(m.a)(e,2),n=t[0],c=t[1];try{return[new ge(r,n,c)]}catch(a){return W(new P({message:"could not initialize Course bean",fields:{courseId:n,source:c,term:r.term}})),[]}})),this.courseMap={},this.crnMap={},this.courses.forEach((function(e){r.courseMap[e.id]=e,e.sections.forEach((function(e){r.crnMap[e.crn]=e}))})),this.sortingOptions=[new Ne("Most Compact",(function(e){var t=e.startMap,n=e.endMap;return+Object.keys(t).map((function(e){var r=n[e],c=t[e];return null==r||null==c?0:r-c})).reduce((function(e,t){return e+t}),0)})),new Ne("Earliest Ending",(function(e){var t=e.endMap,n=Object.values(t);return+(n.reduce((function(e,t){return e+(null!==t&&void 0!==t?t:0)}),0)/n.length)})),new Ne("Latest Beginning",(function(e){var t=e.startMap,n=Object.values(t);return-(n.reduce((function(e,t){return e+(null!==t&&void 0!==t?t:0)}),0)/n.length)}))]}return Object(A.a)(e,[{key:"findCourse",value:function(e){return this.courseMap[e]}},{key:"findSection",value:function(e){return this.crnMap[e]}},{key:"getCombinations",value:function(e,t,n){var r=this,c=[];return function a(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(s!==e.length){var o=e[s];if(void 0!==o){var l=r.findCourse(o);if(void 0!==l){var u=function(e){return!n.includes(e.crn)},d=function(e){return t.includes(e.crn)},j=function(e){return[].concat(Object(h.a)(t),Object(h.a)(i)).some((function(t){var n=r.findSection(t);return void 0!==n&&Q(n,e)}))};if(l.hasLab){var b,f,m,v=(null!==(b=l.onlyLectures)&&void 0!==b?b:[]).find(d),O=(null!==(f=l.onlyLabs)&&void 0!==f?f:[]).find(d),p=(null!==(m=l.allInOnes)&&void 0!==m?m:[]).find(d);if(v&&O||p)a(s+1,i);else if(v)v.associatedLabs.filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}));else if(O)O.associatedLectures.filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}));else{var x,g;(null!==(x=l.onlyLectures)&&void 0!==x?x:[]).filter(u).forEach((function(e){j(e)||e.associatedLabs.filter(u).forEach((function(t){j(t)||a(s+1,[].concat(Object(h.a)(i),[e.crn,t.crn]))}))})),(null!==(g=l.allInOnes)&&void 0!==g?g:[]).filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}))}}else if(l.sections.some(d))a(s+1,i);else{var y;Object.values(null!==(y=l.sectionGroups)&&void 0!==y?y:{}).forEach((function(e){if(null!=e){var t=e.sections.find(u);t&&!j(t)&&a(s+1,[].concat(Object(h.a)(i),[t.crn]))}}))}}}}else c.push(i)}(),c.map((function(e){var n={},c={};return r.iterateTimeBlocks([].concat(Object(h.a)(t),Object(h.a)(e)),(function(e,t){if(void 0!==t){var r=c[e],a=n[e];(null==a||a>t.start)&&(n[e]=t.start),(null==r||r<t.end)&&(c[e]=t.end)}})),{crns:e,startMap:n,endMap:c}}))}},{key:"sortCombinations",value:function(e,t){var n=this.sortingOptions[t];if(void 0===n)throw new P({message:"sorting option index was out of bounds",fields:{sortingOptionIndex:t,actualSortingOptionsLength:this.sortingOptions.length,term:this.term}});return e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{factor:n.calculateFactor(e)})})).sort((function(e,t){return e.factor-t.factor}))}},{key:"iterateTimeBlocks",value:function(e,t){var n=this;e.forEach((function(e){var r=n.findSection(e);void 0!==r&&r.meetings.forEach((function(e){return e.period&&e.days.forEach((function(n){t(n,e.period)}))}))}))}}]),e}(),Se=new ke({courses:{},caches:{periods:[],dateRanges:[],scheduleTypes:[],campuses:[],attributes:[],gradeBases:[],locations:[]},updatedAt:JSON.parse(JSON.stringify(new Date)),version:1},"197008"),De={versions:{}},Te={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0},Ee=function(){return"sv_".concat(function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}(20))},Ae=c.a.createContext([Object(d.a)({term:"",currentVersion:"",allVersionNames:[],oscar:Se},Te),{setTerm:function(e){throw new P({message:"empty ScheduleContext.setTerm value being used",fields:{next:e}})},patchSchedule:function(e){throw new P({message:"empty ScheduleContext.patchSchedule value being used",fields:{patch:e}})},updateSchedule:function(){throw new P({message:"empty ScheduleContext.updateSchedule value being used"})},setCurrentVersion:function(e){throw new P({message:"empty ScheduleContext.setCurrentVersion value being used",fields:{next:e}})},addNewVersion:function(e,t){throw new P({message:"empty ScheduleContext.addNewVersion value being used",fields:{name:e,select:t}})},deleteVersion:function(e){throw new P({message:"empty ScheduleContext.deleteVersion value being used",fields:{id:e}})},renameVersion:function(e,t){throw new P({message:"empty ScheduleContext.renameVersion value being used",fields:{id:e,newName:t}})}}]),Me=c.a.createContext([[],function(e){throw new P({message:"empty OverlayCrnsContext.setOverlayCrns value being used",fields:{next:e}})}]),Fe=n(45);n(270);function Ie(e){return[e.start,e.end].join("-")}function Le(e){var t=e.className,n=e.crn,c=e.overlay,a=void 0!==c&&c,s=e.preview,i=e.capture,o=e.isAutosized,l=e.sizeInfo,u=Object(r.useContext)(Ae),d=Object(m.a)(u,1)[0],j=d.oscar,b=d.colorMap,f=j.findSection(n);if(null==f)return null;var h=b[f.course.id],v=K(h);return Object(z.jsxs)("div",{className:X("TimeBlocks",i&&"capture",a&&"overlay",t),children:[f.meetings.map((function(e,t){var r=e.period;if(null!=r){var c=Ie(r);return e.days.map((function(a){var i=l[a];if(null!=i){var o=i[c];if(null!=o)return Object(z.jsx)("div",{className:X("meeting",v,"default",a),style:{top:"".concat((r.start-y)/780*100,"%"),height:"".concat((r.end-r.start)/780*100,"%"),width:"".concat(20/o.rowSize,"%"),left:"".concat(20*w.indexOf(a)+o.rowIndex*(20/o.rowSize),"%"),backgroundColor:h},"data-tip":!0,"data-for":n,children:!s&&Object(z.jsxs)("div",{className:"meeting-wrapper",children:[Object(z.jsxs)("div",{className:"ids",children:[Object(z.jsx)("span",{className:"course-id",children:f.course.id}),Object(z.jsxs)("span",{className:"section-id",children:["\xa0",f.id]})]}),Object(z.jsx)("span",{className:"period",children:Y(r)}),Object(z.jsx)("span",{className:"where",children:e.where}),Object(z.jsx)("span",{className:"instructors",children:e.instructors.join(", ")})]})},[t,a].join("-"))}}))}})),!o&&Object(z.jsx)(Fe.a,{id:n,className:"tooltip",type:"dark",place:"top",effect:"solid",children:Object(z.jsx)("table",{children:Object(z.jsxs)("tbody",{children:[Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:Object(z.jsx)("b",{children:"Course Name"})}),Object(z.jsx)("td",{children:f.course.title})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:Object(z.jsx)("b",{children:"Delivery Type"})}),Object(z.jsx)("td",{children:f.deliveryMode})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:Object(z.jsx)("b",{children:"Course Number"})}),Object(z.jsx)("td",{children:f.crn})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:Object(z.jsx)("b",{children:"Credit Hours"})}),Object(z.jsx)("td",{children:f.credits})]})]})})})]})}n(271);function Ve(e){var t=e.className,n=e.overlayCrns,c=e.preview,a=void 0!==c&&c,s=e.capture,i=void 0!==s&&s,o=e.isAutosized,l=void 0!==o&&o,u=Object(r.useContext)(Ae),d=Object(m.a)(u,1)[0],j=d.pinnedCrns,b=d.oscar,f={},v=function e(t,n,r,c,a){n.has(r)||(n.add(r),t.filter((function(e){return e.period.start<c.end&&e.period.end>c.start})).forEach((function(r){r.rowSize=a,e(t,n,r.crn,r.period,a)})))},O=Array.from(new Set([].concat(Object(h.a)(j),Object(h.a)(n||[])))),p=function(e){var t=b.findSection(e);return null==t?0:Math.max.apply(Math,Object(h.a)(t.meetings.flatMap((function(e){var t=e.period;return null==t?[]:[t.end-t.start]}))))};return O.sort((function(e,t){return p(e)-p(t)})),O.forEach((function(e){var t=b.findSection(e);null!=t&&t.meetings.filter((function(e){return e.period})).forEach((function(t){var n=t.period;null!=n&&t.days.forEach((function(t){var r=Object.values(f).flatMap((function(e){var n;return null!=e?Object.values(null!==(n=e[t])&&void 0!==n?n:{}):[]})).flatMap((function(e){return null==e?[]:[e]})),c=r.filter((function(e){return e.period.start<n.end&&e.period.end>n.start})).reduce((function(e,t){return Math.max(e,t.rowSize+1)}),1);v(r,new Set,e,n,c);var a=f[e]||{};f[e]=a;var s=a[t]||{};a[t]=s,s[Ie(n)]={period:n,crn:e,rowIndex:c-1,rowSize:c}}))}))})),Object(z.jsxs)("div",{className:X("Calendar",i&&"capture",a&&"preview",t),children:[!a&&Object(z.jsx)("div",{className:"times",children:new Array(13).fill(0).map((function(e,t){var n=y+60*t;return Object(z.jsx)("div",{className:"time",children:Object(z.jsx)("span",{className:"label",children:U(n)})},n)}))}),!a&&Object(z.jsx)("div",{className:"days",children:w.map((function(e){return Object(z.jsx)("div",{className:"day",children:Object(z.jsx)("span",{className:"label",children:e})},e)}))}),Object(z.jsxs)("div",{className:"meetings",children:[j.map((function(e){var t;return Object(z.jsx)(Le,{crn:e,preview:a,capture:i,isAutosized:l,sizeInfo:null!==(t=f[e])&&void 0!==t?t:{}},e)})),n&&n.filter((function(e){return!j.includes(e)})).map((function(e){var t;return Object(z.jsx)(Le,{crn:e,overlay:!a,preview:a,capture:i,isAutosized:!0,sizeInfo:null!==(t=f[e])&&void 0!==t?t:{}},e)}))]})]})}var Re=n(125);n(121),n(280);function Be(){var e=Object(r.useContext)(Ae),t=Object(m.a)(e,2),n=t[0],c=n.oscar,a=n.desiredCourses,s=n.pinnedCrns,i=n.excludedCrns,o=n.sortingOptionIndex,l=t[1].patchSchedule,u=Object(r.useContext)(Me),d=Object(m.a)(u,2)[1],j=Object(r.useCallback)((function(){window.confirm("Are you sure to reset sections you selected?")&&l({pinnedCrns:[]})}),[l]),b=Object(r.useMemo)((function(){return c.getCombinations(a,s,i)}),[c,a,s,i]),f=Object(r.useMemo)((function(){return c.sortCombinations(b,o)}),[c,b,o]);return Object(z.jsxs)("div",{className:"CombinationContainer",children:[Object(z.jsx)(Ze,{onChange:function(e){return l({sortingOptionIndex:e})},current:o,options:c.sortingOptions.map((function(e,t){return{id:t,label:e.label}}))}),Object(z.jsx)(he,{className:"reset",onClick:j,disabled:0===s.length,children:"Reset Sections"}),Object(z.jsx)("div",{className:"scroller",children:Object(z.jsx)(Re.a,{children:function(e){var t=e.width,n=e.height;return Object(z.jsx)(Re.b,{width:t,height:n,style:{outline:"none"},rowCount:f.length,rowHeight:108,rowRenderer:function(e){var t=e.index,n=e.key,r=e.style,c=f[t].crns;return Object(z.jsx)("div",{className:"list-item",style:r,children:Object(z.jsxs)("div",{className:"combination",onMouseEnter:function(){return d(c)},onMouseLeave:function(){return d([])},onClick:function(){return l({pinnedCrns:[].concat(Object(h.a)(s),Object(h.a)(c))})},children:[Object(z.jsx)("div",{className:"number",children:t+1}),Object(z.jsx)(Ve,{className:"calendar-preview",overlayCrns:c,isAutosized:!0,preview:!0})]})},n)}})}})})]})}var _e=n(44),Pe=Symbol("__#Cancellable-cancelled-symbol"),We=function(){function e(){var t=this;Object(E.a)(this,e),this.isCancelled=void 0,this.cancel=void 0,this.promise=void 0,this.isCancelled=!1,this.cancel=function(){},this.promise=new Promise((function(e){t.cancel=function(){t.isCancelled=!0,e(Pe)}}))}return Object(A.a)(e,[{key:"perform",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([this.promise,t]);case 2:if((n=e.sent)!==Pe){e.next=5;break}return e.abrupt("return",{cancelled:!0});case 5:return e.abrupt("return",{cancelled:!1,value:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();n(281);function Ge(e){var t=e.className,n=e.courseId,c=e.onAddCourse,a=Object(r.useState)(!1),s=Object(m.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(m.a)(l,2),f=j[0],h=j[1],v=Object(r.useState)(!1),O=Object(m.a)(v,2),p=O[0],x=O[1],g=Object(r.useState)(null),y=Object(m.a)(g,2),w=y[0],C=y[1],N=Boolean(c),k=Object(r.useContext)(Ae),S=Object(m.a)(k,2),D=S[0],T=D.oscar,E=D.term,A=D.desiredCourses,M=D.pinnedCrns,F=D.excludedCrns,I=D.colorMap,L=S[1].patchSchedule;Object(r.useEffect)((function(){var e=T.findCourse(n);if(null!=e&&!N){var t=new We;return function(){return r.apply(this,arguments)}().catch((function(t){W(new P({message:"error fetching course GPA",source:t,fields:{courseId:n,term:e.term}}))})),function(){t.cancel()}}function r(){return(r=Object(b.a)(u.a.mark((function n(){var r,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e){n.next=2;break}return n.abrupt("return");case 2:return r=e.fetchGpa(),n.next=5,t.perform(r);case 5:(c=n.sent).cancelled||C(c.value);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[N,T,n]);var V=Object(r.useCallback)((function(e){var t=Object(d.a)({},I);delete t[e.id],L({desiredCourses:A.filter((function(t){return t!==e.id})),pinnedCrns:M.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),excludedCrns:F.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),colorMap:t})}),[A,M,F,I,L]),R=Object(r.useCallback)((function(e){var t=e.map((function(e){return e.crn}));L({excludedCrns:F.filter((function(e){return!t.includes(e)}))})}),[F,L]),B=T.findCourse(n);if(null==B)return null;var _,G=I[B.id],q=null!=G&&K(G),H=T.version>1,U=null;H&&(U=null!==(_=B.prereqs)&&void 0!==_?_:[]);var Y={};B.sections.forEach((function(e){var t,n=Object(m.a)(e.instructors,1)[0],r=void 0===n?"Not Assigned":n,c=null!==(t=Y[r])&&void 0!==t?t:[];c.push(e),Y[r]=c}));var J=Object.keys(Y),Q=J.filter((function(e){var t=Y[e];return null!=t&&t.every((function(e){return F.includes(e.crn)}))})),Z=J.filter((function(e){return!Q.includes(e)})),$=function(e,t){h(e),o(t)},ee={icon:fe.u,styling:{transform:"rotate(90deg)"},onClick:function(){$(!0,!f||!i)}},te={icon:fe.o,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_"+"course_detail?cat_term_in=".concat(E,"&subj_code_in=")+"".concat(B.subject,"&crse_numb_in=").concat(B.number)},ne=B.sections.filter((function(e){return M.includes(e.crn)})),re=ne.reduce((function(e,t){return e+t.credits}),0);return Object(z.jsxs)("div",{className:X("Course",q,"default",t),style:{backgroundColor:G},children:[Object(z.jsxs)(Oe,{label:[B.id,ne.map((function(e){return e.id})).join(", ")].join(" "),actions:N?[{icon:fe.t,onClick:c},H?ee:te]:[{icon:i?fe.c:fe.b,onClick:function(){return $(!1,!i)}},H?ee:te,{icon:fe.q,onClick:function(){return x(!p)}},{icon:fe.x,onClick:function(){return V(B)}}],children:[Object(z.jsxs)("div",{className:"course-row",children:[Object(z.jsx)("span",{className:"course-title",children:B.title}),Object(z.jsx)("span",{className:"section-crns",children:ne.map((function(e){return e.crn})).join(", ")})]}),!N&&Object(z.jsxs)("div",{className:"course-row",children:[Object(z.jsxs)("span",{className:"gpa",children:["Course GPA:"," ",null===w?"Loading...":w.averageGpa?w.averageGpa.toFixed(2):"N/A"]}),re>0&&Object(z.jsxs)("span",{className:"credits",children:[re," Credits"]})]}),p&&Object(z.jsx)(Tt,{className:"palette",onSelectColor:function(e){return L({colorMap:Object(d.a)(Object(d.a)({},I),{},Object(_e.a)({},n,e))})},color:null!==G&&void 0!==G?G:null,onMouseLeave:function(){return x(!1)}})]}),i&&!f&&Object(z.jsxs)("div",{className:X("hover-container","nested"),children:[Z.map((function(e){var t,n=0;return null!==w&&(n=w[e]),Object(z.jsx)(pt,{color:G,name:e,sections:null!==(t=Y[e])&&void 0!==t?t:[],gpa:null===w?"Loading...":n?n.toFixed(2):"N/A"},e)})),Q.length>0&&Object(z.jsx)("div",{className:"excluded-instructor-container",children:Q.map((function(e){return Object(z.jsx)("span",{className:"excluded-instructor",onClick:function(){var t=Y[e];null!=t&&R(t)},children:e},e)}))})]}),i&&f&&null!==U&&Object(z.jsx)(At,{course:B,prereqs:U})]},B.id)}n(282);function ze(e){switch(e){case"deliveryMode":case"campus":return!0;default:return!1}}function qe(e){var t=e.className,n=Object(r.useContext)(Ae),c=Object(m.a)(n,2),a=c[0],s=a.oscar,i=a.desiredCourses,o=a.excludedCrns,l=a.colorMap,u=c[1].patchSchedule,j=Object(r.useState)(""),b=Object(m.a)(j,2),f=b[0],v=b[1],O=Object(r.useState)({deliveryMode:[],campus:[]}),p=Object(m.a)(O,2),x=p[0],g=p[1],y=Object(r.useState)(0),w=Object(m.a)(y,2),C=w[0],S=w[1],D=Object(r.useRef)(null),T=Object(r.useCallback)((function(e){var t=e.target.value.trim(),n=/^([A-Z]+)(\d.*)$/i.exec(t);if(null!=n){var r=n,c=Object(m.a)(r,3),a=c[1],s=c[2];t="".concat(a," ").concat(s)}v(t)}),[]),E=Object(r.useMemo)((function(){var e=/^([A-Z]+) ?((\d.*)?)$/i.exec(f.toUpperCase());if(!e)return[];var t=e,n=Object(m.a)(t,3),r=n[1],c=n[2];return S(0),s.courses.filter((function(e){var t=e.subject===r&&e.number.startsWith(c),n=function(e,t){return Object.entries(t).every((function(t){var n=Object(m.a)(t,2),r=n[0],c=n[1];return!ze(r)||0===c.length||e.sections.some((function(e){var t=e[r];return null!=t&&c.includes(t)}))}))}(e,x);return t&&n})).filter((function(e){return!i.includes(e.id)}))}),[s,f,x,i]),A=Object(r.useCallback)((function(e){var t;if(!i.includes(e.id)){var n=e.sections.filter((function(e){var t="Remote Asynchronous Course"===e.deliveryMode||e.meetings.length&&e.meetings.every((function(e){return e.days.length&&e.period})),n=function(e,t){return Object.entries(t).every((function(t){var n=Object(m.a)(t,2),r=n[0],c=n[1];if(0===c.length)return!0;if(!ze(r))return!0;var a=e[r];return null!=a&&c.includes(a)}))}(e,x);return!t||!n})).map((function(e){return e.crn}));u({desiredCourses:[].concat(Object(h.a)(i),[e.id]),excludedCrns:[].concat(Object(h.a)(o),Object(h.a)(n)),colorMap:Object(d.a)(Object(d.a)({},l),{},Object(_e.a)({},e.id,J()))}),v(""),null===(t=D.current)||void 0===t||t.focus()}}),[x,i,o,l,D,u]),M=Object(r.useCallback)((function(e){switch(e.key){case"Enter":var t=E[C];null!=t&&A(t);break;case"ArrowDown":S(Math.min(C+1,E.length-1));break;case"ArrowUp":S(Math.max(C-1,0));break;default:return}e.preventDefault()}),[E,A,C]),F=Object(r.useCallback)((function(e,t){var n=x[e];g(Object(d.a)(Object(d.a)({},x),{},Object(_e.a)({},e,n.includes(t)?n.filter((function(e){return e!==t})):[].concat(Object(h.a)(n),[t]))))}),[x]),I=Object(r.useCallback)((function(e){g(Object(d.a)(Object(d.a)({},x),{},Object(_e.a)({},e,[])))}),[x]),L=E[C];return Object(z.jsxs)("div",{className:X("CourseAdd",t),children:[Object(z.jsxs)("div",{className:"add",children:[Object(z.jsxs)("div",{className:"primary",children:[Object(z.jsx)(be.a,{className:X("icon",E.length>0&&"active"),fixedWidth:!0,icon:fe.t}),Object(z.jsxs)("div",{className:"keyword-wrapper",children:[L&&Object(z.jsx)("div",{className:X("keyword","autocomplete"),children:L.id}),Object(z.jsx)("input",{type:"text",ref:D,value:f,onChange:T,className:"keyword",placeholder:"XX 0000",onKeyDown:M})]})]}),[["Delivery Mode","deliveryMode",N],["Campus","campus",k]].map((function(e){var t=Object(m.a)(e,3),n=t[0],r=t[1],c=t[2];return Object(z.jsx)(Je,{name:n,labels:c,selectedTags:x[r],onReset:function(){return I(r)},onToggle:function(e){return F(r,e)}},r)}))]}),E.length>0?E.map((function(e){return Object(z.jsx)(Ge,{className:X(e===L&&"active"),courseId:e.id,onAddCourse:function(){return A(e)}},e.id)})):Object(z.jsx)("div",{className:"disclaimer",children:"Disclaimer: GT Scheduler should be used as general reference only, and users are solely responsible for ensuring any information including registration restrictions."})]})}var He=n(171),Ue=n.n(He);n(283);function Ye(){var e=Object(r.useContext)(Ae),t=Object(m.a)(e,1)[0],n=t.oscar,c=t.desiredCourses;return Object(z.jsxs)("div",{className:"CourseContainer",children:[Object(z.jsxs)("div",{className:"scroller",children:[Object(z.jsx)("div",{className:"course-list",children:c.map((function(e){return Object(z.jsx)(Ge,{courseId:e},e)}))}),Object(z.jsx)(qe,{className:"course-add"})]}),Object(z.jsxs)(he,{className:"updated-at",href:"https://github.com/gt-scheduler/crawler",children:["Course data fetched ",Ue()(n.updatedAt)]})]})}n(284);function Je(e){var t=e.name,n=e.labels,c=e.selectedTags,a=e.onReset,s=e.onToggle,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return Object(z.jsxs)("div",{className:"CourseFilter",children:[Object(z.jsxs)("div",{className:X("header",c.length>0&&"active"),onClick:function(){return u(!l)},children:[!l&&c.length>0?Object(z.jsx)("div",{className:"name",children:ne(c.flatMap((function(e){var t=n[e];return null!=t?[t]:[]})),Object(z.jsx)("span",{className:"or",children:"or"}))}):Object(z.jsx)("div",{className:"name",children:t}),Object(z.jsx)(be.a,{fixedWidth:!0,icon:l?fe.c:fe.b})]}),l&&Object(z.jsxs)("div",{className:"tag-container",children:[Object(z.jsx)("div",{className:X("tag",0===c.length&&"active"),onClick:a,children:"All"}),Object.keys(n).map((function(e){return Object(z.jsx)("div",{className:X("tag",c.includes(e)&&"active"),property:e,onClick:function(){return s(e)},children:n[e]},e)}))]})]})}function Ke(e){if(6!==e.length)return!1;var t=[e.substring(0,4),e.substring(4,6)],n=t[1],r=[Number(t[0]),Number(n)],c=r[0],a=r[1];return!(Number.isNaN(c)||c<1970||a>2100)&&!(Number.isNaN(a)||a<0||a>12)}function Qe(e){if(!Ke(e))return"Unknown";var t=e.substring(0,4),n=function(){switch(Number.parseInt(e.substring(4),10)){case 1:return"Winter";case 2:case 3:return"Spring";case 5:case 6:return"Summer";case 8:case 9:return"Fall";default:return"Unknown"}}();return"".concat(n," ").concat(t)}n(285);function Xe(e){var t=e.style,n=e.className,c=e.size,a=void 0===c?"normal":c,s=-Object(r.useMemo)((function(){return Date.now()}),[])%800,i="number"===typeof a?a:{small:16,normal:40}[a];return Object(z.jsx)("svg",{className:X("spinner",n),style:Object(d.a)(Object(d.a)({},t),{},{"--size":"".concat(i,"px"),"--spinner-delay":"".concat(s.toFixed(3),"ms")}),viewBox:"0 0 50 50",children:Object(z.jsx)("circle",{cx:"25",cy:"25",r:"20"})})}n(286);function Ze(e){var t=e.className,n=e.style,a=e.current,s=e.onChange,i=e.options,o=e.desiredItemWidth,l=void 0===o?null:o,u=e.onClickNew,d=e.newLabel,j=void 0===d?"New":d,b=Object(r.useState)(!1),f=Object(m.a)(b,2),h=f[0],v=f[1],O=i.find((function(e){return e.id===a})),p=O?O.label:"-",x=Object(r.useState)(null),g=Object(m.a)(x,2),y=g[0],w=g[1],C=Object(r.useState)(""),N=Object(m.a)(C,2),k=N[0],S=N[1],D=Object(r.useState)(null),T=Object(m.a)(D,2),E=T[0],A=T[1],M=function(){if(null===E)return!1;if(null===y)return!1;var e=k.trim();return!!E.onCommit(e,y)&&(w(null),S(""),A(null),!0)},F=function(){w(null),S(""),A(null)},I=function(e){null!==E&&null!==y&&("Enter"===e.key&&M()&&v(!1),"Escape"===e.key&&(F(),v(!1)))},L=function(e){(null===y||e)&&v(e)};return Object(z.jsxs)("div",{className:X("Button","Select",t),onClick:function(){return L(!h)},style:n,children:[Object(z.jsx)("div",{className:"text",children:p}),Object(z.jsx)(be.a,{fixedWidth:!0,icon:fe.g}),h&&Object(z.jsx)("div",{className:"intercept",onClick:function(){return L(!1)}}),h&&Object(z.jsxs)("div",{className:"option-container",style:null!=l?{width:l}:{},children:[i.map((function(e){var t=e.id,n=e.label,r=e.actions,a=void 0===r?[]:r;return Object(z.jsxs)("div",{className:X("option",t===y&&"option-inputting"),children:[y===t?Object(z.jsx)(et,{className:"option-input",value:k,onChange:function(e){return S(e.target.value)},placeholder:n,onKeyDown:I}):Object(z.jsx)(he,{className:"option-text",onClick:function(){return s(t)},children:n},t),a.map((function(e,r){return Object(z.jsx)(c.a.Fragment,{children:"button"===e.type?Object(z.jsx)(he,{className:"option-button",onClick:function(n){n.stopPropagation(),null!==y&&F(),e.onClick(t)},children:Object(z.jsx)(be.a,{fixedWidth:!0,icon:e.icon})}):Object(z.jsx)(z.Fragment,{children:t===y?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(he,{className:"option-button",onClick:function(e){e.stopPropagation(),M()},children:Object(z.jsx)(be.a,{fixedWidth:!0,icon:fe.i})}),Object(z.jsx)(he,{className:"option-button",onClick:function(e){e.stopPropagation(),F()},children:Object(z.jsx)(be.a,{fixedWidth:!0,icon:fe.w})})]}):Object(z.jsx)(he,{className:"option-button",onClick:function(r){r.stopPropagation(),w(t),S(n),A(e)},children:Object(z.jsx)(be.a,{fixedWidth:!0,icon:e.icon})})})},r)}))]},String(t))})),void 0!==u&&Object(z.jsx)("div",{className:"option",children:Object(z.jsxs)(he,{className:"option-text",onClick:u,children:[Object(z.jsx)(be.a,{icon:fe.t,style:{marginRight:8}})," ",j]})})]})]})}function $e(e){var t=e.className,n=e.label,r=void 0===n?"Loading":n;return Object(z.jsxs)("div",{className:X("Button","Select",t,"disabled"),children:[Object(z.jsx)(Xe,{size:"small",style:{marginRight:12}}),Object(z.jsx)("div",{className:"text",children:r}),Object(z.jsx)(be.a,{fixedWidth:!0,icon:fe.g})]})}function et(e){var t=e.className,n=e.style,c=e.value,a=e.onChange,s=e.placeholder,i=e.onKeyDown,o=Object(r.useRef)(null);return Object(r.useEffect)((function(){null!==o.current&&(o.current.focus(),o.current.select())}),[]),Object(z.jsx)("input",{className:t,style:n,value:c,onChange:a,placeholder:s,onKeyDown:i,ref:o,type:"text"})}function tt(e){var t="number"===typeof e?"".concat(e,"px"):e;return function(e){var t=Object(r.useState)(!1),n=Object(m.a)(t,2),c=n[0],a=n[1];return Object(r.useLayoutEffect)((function(){try{var t=window.matchMedia(e);t.matches!==c&&a(t.matches);var n=function(){return a(t.matches)},r=null;return null!=t.addEventListener?(t.addEventListener("change",n),r="addEventListener"):null!=t.addListener?(t.addListener(n),r="addListener"):r=null,function(){try{switch(r){case"addEventListener":t.removeEventListener("change",n);break;case"addListener":t.removeListener(n)}}catch(a){W(new P({message:"could not run useMedia query cleanup in layout effect cleanup",source:a,fields:{previousQuery:e,previousMatches:c}}))}}}catch(s){return W(new P({message:"could not run useMedia query in layout effect",source:s,fields:{query:e,matches:c}})),function(){}}}),[c,e]),c}("(min-width: ".concat(t,")"))}var nt=n(172);n(287);function rt(e){var t=e.className,n=e.style,c=e.onCopyCrns,a=void 0===c?function(){}:c,s=e.enableCopyCrns,i=void 0!==s&&s,o=e.onExportCalendar,l=void 0===o?function(){}:o,u=e.enableExportCalendar,d=void 0!==u&&u,j=e.onDownloadCalendar,b=void 0===j?function(){}:j,f=e.enableDownloadCalendar,h=void 0!==f&&f,v=Object(r.useContext)(pe),O=Object(m.a)(v,2),p=O[0],x=O[1],g=Object(r.useCallback)((function(){x("light"===p?"dark":"light")}),[p,x]),y=Object(r.useRef)(null);return Object(z.jsxs)("div",{className:X("header-action-bar",t),style:n,children:[Object(z.jsxs)(he,{onClick:b,disabled:!h,children:[Object(z.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.k}),Object(z.jsx)("div",{className:"text",children:"Download"})]}),Object(z.jsxs)(he,{onClick:l,disabled:!d,children:[Object(z.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.f}),Object(z.jsx)("div",{className:"text",children:"Export"})]}),Object(z.jsx)("div",{className:"menu","data-tip":!0,"data-for":"copy-crn","delay-hide":"1000",ref:y,children:Object(z.jsxs)(he,{disabled:!i,children:[Object(z.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.r}),Object(z.jsx)("div",{className:"text",children:"CRNs"})]})}),i&&Object(z.jsx)(Fe.a,{id:"copy-crn",type:"dark",place:"bottom",effect:"solid",event:"click",delayHide:1e3,afterShow:function(){a(),setTimeout((function(){var e;return Fe.a.hide(null!==(e=null===y||void 0===y?void 0:y.current)&&void 0!==e?e:void 0)}),1e3)},children:"Copied to clipboard!"}),Object(z.jsxs)(he,{onClick:g,children:[Object(z.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.a}),Object(z.jsx)("div",{className:"text",children:"Theme"})]}),Object(z.jsxs)(he,{href:"https://github.com/gt-scheduler/website",children:[Object(z.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:nt.a}),Object(z.jsx)("div",{className:"text",children:"GitHub"})]})]})}var ct=n(322),at=n(323);function st(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}n(288);var it=["children"],ot=["children"];function lt(e){var t=e.children,n=e.buttons,c=void 0===n?[]:n,a=e.show,s=e.onHide,i=e.width,o=void 0===i?480:i,l=e.className,u=e.style,j=e.preserveChildrenWhileHiding,b=void 0===j||j,f=st(null!==t&&void 0!==t?t:Object(z.jsx)(z.Fragment,{})),h=st(a),m=t;return a||!0!==h||b&&null!=f&&(m=f),Object(z.jsx)(ct.a,{show:a,onHide:s,onBackdropClick:s,className:"modal-positioner",renderBackdrop:function(e){return Object(z.jsx)("div",Object(d.a)(Object(d.a)({},e),{},{className:"modal-backdrop"}))},transition:jt,backdropTransition:dt,children:Object(z.jsxs)("div",{className:X("modal",l),style:Object(d.a)({width:o},u),children:[Object(z.jsx)("div",{className:"modal__content",children:m}),c.length>0&&Object(z.jsx)("div",{className:"modal__footer",children:c.map((function(e,t){return Object(r.createElement)(ut,Object(d.a)(Object(d.a)({},e),{},{key:t}))}))})]})})}function ut(e){var t=e.label,n=e.onClick,r=e.cancel,c=e.className,a=e.style;return Object(z.jsx)("button",{className:X("modal__button",r&&"modal__button--cancel",!r&&"modal__button--normal",c),type:"button",onClick:n,style:a,children:t})}function dt(e){var t=e.children,n=Object(T.a)(e,it);return Object(z.jsx)(at.a,Object(d.a)(Object(d.a)({},n),{},{timeout:200,classNames:"modal-transition--fade",children:t}))}function jt(e){var t=e.children,n=Object(T.a)(e,ot);return Object(z.jsx)(at.a,Object(d.a)(Object(d.a)({},n),{},{timeout:200,classNames:"modal-transition--fade-zoom",children:t}))}n(289);function bt(e){var t=e.totalCredits,n=void 0===t?null:t,r=e.currentTab,c=e.onChangeTab,a=e.onToggleMenu,s=e.tabs,i=e.onCopyCrns,o=void 0===i?function(){}:i,l=e.enableCopyCrns,u=void 0!==l&&l,d=e.onExportCalendar,j=void 0===d?function(){}:d,b=e.enableExportCalendar,f=void 0!==b&&b,h=e.onDownloadCalendar,m=void 0===h?function(){}:h,v=e.enableDownloadCalendar,O=void 0!==v&&v,p=e.termsState,x=e.versionsState,g=!tt(D),y=tt(600);return Object(z.jsxs)("div",{className:"Header",children:[g&&Object(z.jsx)(he,{className:"nav-menu-button",onClick:a,children:Object(z.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.e})}),Object(z.jsxs)(he,{className:"logo",children:[Object(z.jsx)("span",{className:"gt",children:"GT "}),Object(z.jsx)("span",{className:"scheduler",children:"Scheduler"})]}),"loaded"===p.type?Object(z.jsx)(Ze,{onChange:p.onChangeTerm,current:p.currentTerm,options:p.terms.map((function(e){return{id:e,label:Qe(e)}})),className:"semester"}):Object(z.jsx)($e,{}),Object(z.jsx)(ft,{state:x}),Object(z.jsxs)("span",{className:"credits",children:[null===n?Object(z.jsx)(Xe,{size:"small",style:{marginRight:8}}):n," ","Credits"]}),!g&&Object(z.jsx)("div",{className:"tabs",children:s.map((function(e,t){return Object(z.jsx)(_t,{active:t===r,onClick:function(){return c(t)},label:e},t)}))}),y&&Object(z.jsx)(rt,{onCopyCrns:o,enableCopyCrns:u,onExportCalendar:j,enableExportCalendar:f,onDownloadCalendar:m,enableDownloadCalendar:O})]})}function ft(e){var t,n=e.state,c=Object(r.useState)(null),a=Object(m.a)(c,2),s=a[0],i=a[1];return function(e,t){var n="ff-".concat(e,"-").concat(t),c=Object(r.useState)((function(){try{return"true"===window.localStorage.getItem(n)}catch(e){return!1}})),a=Object(m.a)(c,2),s=a[0],i=a[1];return Object(r.useEffect)((function(){var e=function(e){try{e.storageArea===localStorage&&e.key===n&&i("true"===e.newValue)}catch(t){}};try{return window.addEventListener("storage",e,!1),function(){try{window.removeEventListener("storage",e,!1)}catch(t){}}}catch(t){return function(){}}})),s}("2021-09-14","schedule-versions")?"loading"===n.type?Object(z.jsx)($e,{}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Ze,{className:"version-switch",desiredItemWidth:260,newLabel:"New Schedule",onChange:n.setCurrentVersion,current:n.currentVersion,options:n.allVersionNames.map((function(e){var t=[];return t.push({type:"edit",icon:fe.s,onCommit:function(t){return n.renameVersion(e.id,t),!0}}),n.allVersionNames.length>=2&&t.push({type:"button",icon:fe.y,onClick:function(){i(e)}}),{id:e.id,label:e.name,actions:t}})),onClickNew:function(){n.addNewVersion(function(e){var t=new Set(e);if(0===t.size)return"Primary";var n,r=Object(j.a)(le);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(!t.has(c))return c}}catch(a){r.e(a)}finally{r.f()}return"New version"}(n.allVersionNames.map((function(e){return e.name}))),!0)}}),Object(z.jsx)(lt,{show:null!=s,onHide:function(){return i(null)},buttons:[{label:"Cancel",cancel:!0,onClick:function(){return i(null)}},{label:"Delete",onClick:function(){null!=s&&n.deleteVersion(s.id),i(null)}}],preserveChildrenWhileHiding:!0,children:Object(z.jsxs)("div",{style:{textAlign:"center"},children:[Object(z.jsx)("h2",{children:"Delete confirmation"}),Object(z.jsxs)("p",{children:["Are you sure you want to delete schedule \u201c",null!==(t=null===s||void 0===s?void 0:s.name)&&void 0!==t?t:"<unknown>","\u201d?"]})]})})]}):null}var ht=n(174),mt=n.n(ht);function vt(){var e=Object(r.useContext)(Ae),t=Object(m.a)(e,1)[0],n=t.oscar,c=t.pinnedCrns,a=Object(r.useContext)(pe),s=Object(m.a)(a,1)[0],i=Object(r.useRef)(null),o=Object(r.useCallback)((function(){try{!function(e,t){var n=G();if(null==n)return window.alert("This browser does not support calendar export"),void W(new P({message:"ics() returned null or undefined"}));t.forEach((function(t){var r=e.findSection(t);null!=r&&r.meetings.forEach((function(e){if(e.period&&e.days.length){for(var t=e.dateRange,c=t.from,a=t.to,s=r.course.id,i=r.course.title,o=e.where,l=new Date(c.getTime());!e.days.includes(null!==(u=["-","M","T","W","R","F","-"][l.getDay()])&&void 0!==u?u:"-");){var u;l.setDate(l.getDate()+1)}l.setHours(e.period.start/60,e.period.start%60);var d=new Date(l.getTime());d.setHours(e.period.end/60,e.period.end%60);var j={freq:"WEEKLY",until:a,byday:e.days.map((function(e){var t;return null!==(t={M:"MO",T:"TU",W:"WE",R:"TH",F:"FR"}[e])&&void 0!==t?t:null})).filter((function(e){return!!e}))};n.addEvent(s,i,o,l,d,j)}}))})),n.download("gt-scheduler")}(n,c)}catch(e){W(new P({message:"exporting courses to calendar failed",fields:{pinnedCrns:c,term:n.term}}))}}),[n,c]),l=Object(r.useCallback)((function(){var e=i.current;if(null!=e)try{!function(e,t){var n=window.getComputedStyle(e).getPropertyValue("left");x.a.toBlob(e,{width:2*e.offsetWidth,height:2*e.offsetHeight,style:{transform:"scale(".concat(2,")"),"transform-origin":"".concat(n," 0px"),"background-color":"light"===t?"#FFFFFF":"#333333"}}).then((function(e){return Object(g.saveAs)(e,"schedule.png")})).catch((function(e){return W(new P({message:"could not take screenshot of shadow calendar for schedule export",source:e}))}))}(e,s)}catch(t){W(new P({message:"downloading shadow calendar as PNG failed",fields:{pinnedCrns:c,theme:s,term:n.term}}))}}),[i,s,c,n.term]);return{onCopyCrns:Object(r.useCallback)((function(){try{mt()(c.join(", "))}catch(e){W(new P({message:"copying CRNs to clipboard failed",fields:{pinnedCrns:c,term:n.term}}))}}),[c,n.term]),enableCopyCrns:c.length>0,onExportCalendar:o,enableDownloadCalendar:c.length>0,onDownloadCalendar:l,enableExportCalendar:c.length>0}}n(291);function Ot(e){var t=e.currentTab,n=e.onChangeTab,c=e.onToggleMenu,a=e.tabs,s=Object(r.useContext)(Ae),i=Object(m.a)(s,2),o=i[0],l=o.term,u=o.oscar,j=o.pinnedCrns,b=o.allVersionNames,f=o.currentVersion,h=i[1],v=h.setTerm,O=h.setCurrentVersion,p=h.addNewVersion,x=h.deleteVersion,g=h.renameVersion,y=Object(r.useContext)(xe),w=Object(r.useRef)(null),C=Object(r.useMemo)((function(){return j.reduce((function(e,t){var n=u.findSection(t);return e+(null!=n?n.credits:0)}),0)}),[j,u]),N=vt();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(bt,Object(d.a)(Object(d.a)({totalCredits:C,currentTab:t,onChangeTab:n,onToggleMenu:c,tabs:a},N),{},{termsState:{type:"loaded",terms:y,currentTerm:l,onChangeTerm:v},versionsState:{type:"loaded",allVersionNames:b,currentVersion:f,setCurrentVersion:O,addNewVersion:p,deleteVersion:x,renameVersion:g}})),Object(z.jsx)("div",{className:"capture-container",ref:w,children:Object(z.jsx)(Ve,{className:"fake-calendar",capture:!0,overlayCrns:[]})})]})}n(292);function pt(e){var t=e.className,n=e.color,c=e.name,a=e.sections,s=e.gpa,i=Object(r.useContext)(Ae),o=Object(m.a)(i,2),l=o[0],u=l.pinnedCrns,d=l.excludedCrns,j=o[1].patchSchedule,b=Object(r.useState)(!0),f=Object(m.a)(b,2),v=f[0],O=f[1],p=Object(r.useCallback)((function(e){j({excludedCrns:d.filter((function(t){return t!==e.crn}))})}),[d,j]),x=Object(r.useCallback)((function(e){var t=e.map((function(e){return e.crn}));j({excludedCrns:$([].concat(Object(h.a)(d),Object(h.a)(t))),pinnedCrns:u.filter((function(e){return!t.includes(e)}))})}),[d,u,j]),g=a.some((function(e){return u.includes(e.crn)})),y=a.filter((function(e){return!d.includes(e.crn)})),w=a.filter((function(e){return d.includes(e.crn)})),C="exclude-instructor-".concat(c.replace(" ","-"));return Object(z.jsxs)("div",{className:X("Instructor",!v&&"divider-bottom",t),children:[Object(z.jsx)(Oe,{label:c||"Not Assigned",actions:[{icon:v?fe.c:fe.b,onClick:function(){return O(!v)}},["TBA","Not Assigned"].includes(c)?null:{icon:fe.n,href:"http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=".concat(encodeURIComponent(Z(c)))},{icon:fe.d,dataTip:!0,dataFor:C,onClick:function(){return x(a)}}],style:g?{backgroundColor:n}:void 0,children:Object(z.jsx)("div",{className:"instructor-row",children:Object(z.jsxs)("span",{className:"gpa",children:["Instructor GPA: ",s||"N/A"]})})}),Object(z.jsx)(Fe.a,{id:C,type:"dark",place:"bottom",effect:"solid",children:"Exclude from Combinations"}),v&&Object(z.jsxs)("div",{className:X("section-container","nested"),children:[y.map((function(e){var t=u.includes(e.crn);return Object(z.jsx)(Bt,{className:"divider-bottom",section:e,color:n,pinned:t},e.id)})),w.length>0&&Object(z.jsx)("div",{className:"excluded-section-container",children:w.map((function(e){return Object(z.jsx)("span",{className:"excluded-section",onClick:function(){return p(e)},children:e.id},e.id)}))})]})]})}var xt=n(103);n(293),n(294);function gt(e){var t,n=e.locations,c=Object(r.useState)({latitude:33.7765,longitude:-84.3963,zoom:15}),a=Object(m.a)(c,2),s=a[0],i=a[1],o=[],l=new Map;n.forEach((function(e){if(null===e.coords)o.push(e);else if(l.has(e.coords)){var t;null===(t=l.get(e.coords))||void 0===t||t.push(e)}else l.set(e.coords,[e])}));var u=Object(r.useContext)(pe),d="dark"===Object(m.a)(u,1)[0]?"mapbox://styles/gt-scheduler/cktc4yzhm018w17ql65xa802o":"mapbox://styles/gt-scheduler/cktc4y61t018918qjynvngozg";return Object(z.jsx)("div",{className:"mapbox",children:Object(z.jsxs)(xt.c,{height:"100%",width:"100%",viewState:s,mapStyle:d,mapboxApiAccessToken:null!==(t="pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ")?t:"",onViewStateChange:function(e){var t=e.viewState;return i(t)},children:[Array.from(l.entries()).map((function(e,t){var n=Object(m.a)(e,2),r=n[0],c=n[1];return Object(z.jsxs)(xt.a,{latitude:r.lat,longitude:r.long,children:[Object(z.jsx)(be.a,{icon:fe.p,className:"pin-icon"}),Object(z.jsx)("div",{className:"pin-text",children:c.map((function(e){return Object(z.jsxs)("div",{children:[e.id," ",e.section]},e.id+e.section)}))})]},t)})),o.length>0&&Object(z.jsxs)("div",{className:"unknown-container",children:[Object(z.jsx)("b",{children:"Undetermined"}),o.map((function(e,t){return Object(z.jsxs)("div",{className:"class",children:[e.id," ",e.section]},t)}))]}),Object(z.jsx)("div",{className:"navigation",children:Object(z.jsx)(xt.b,{showZoom:!0,showCompass:!0})})]})})}n(295);function yt(e){switch(e){case"M":case"T":case"W":case"R":case"F":return!0;default:return!1}}var wt=["#FCB9AA","#FFDBCC","#ECEAE4","#A2E1DB","#55CBCD"],Ct=["#5e3931","#704737","#685a30","#3c6962","#286061"];function Nt(e){var t=e.courseDateMap,n=e.activeDay,c=e.setActiveDay,a=["Monday","Tuesday","Wednesday","Thursday","Friday"],s=Object(r.useContext)(pe),i="dark"===Object(m.a)(s,1)[0]?Ct:wt,o=function(e){if(Math.floor(e/60)>=12){var t=Math.floor(e/60)%12,n=0===t?"12":t,r=String(e%60).padStart(2,"0");return"".concat(n,":").concat(r,"pm")}var c=Math.floor(e/60),a=String(e%60).padStart(2,"0");return"".concat(c,":").concat(a,"am")};return Object(z.jsx)("div",{className:"date-container",children:Object.keys(t).map((function(e,r){var s;if(!yt(e))return null;var l=t[e];return Object(z.jsxs)("div",{className:X("date",K(i[r]),"default"),style:{backgroundColor:i[r]},children:[Object(z.jsx)(Oe,{label:null!==(s=a[r])&&void 0!==s?s:"",className:"day-select",actions:[{icon:e===n?fe.c:fe.b,onClick:function(){return c(e!==n?e:"")}}]}),n===e&&Object(z.jsx)("div",{className:"dropdown-content",children:null==l||0===l.length?Object(z.jsx)("div",{className:"course-content",style:{padding:8},children:"No classes this day!"}):l.map((function(e){var t="TBA",n=e.times;if(null!=n){var r=n.start,c=n.end;t="".concat(o(r)," - ").concat(o(c))}return Object(z.jsxs)("div",{className:"course-content",children:[Object(z.jsx)("div",{className:"course-id",children:e.id}),Object(z.jsx)("span",{className:"course-row",children:e.title}),Object(z.jsxs)("span",{className:"course-row",children:[e.daysOfWeek," ",t]})]},e.id)}))})]},e)}))})}n(296);function kt(){var e=Object(r.useContext)(Ae),t=Object(m.a)(e,1)[0],n=t.oscar,c=t.pinnedCrns,a=Object(r.useState)("M"),s=Object(m.a)(a,2),i=s[0],o=s[1],l={M:[],T:[],W:[],R:[],F:[]};c.forEach((function(e){var t=n.findSection(e);if(null!=t){var r=t.meetings;if(0!==r.length){var c=r[0];c.days.forEach((function(e){var n;if(yt(e)){var r=null!==(n=l[e])&&void 0!==n?n:[];r.push({id:t.course.id,title:t.course.title,times:c.period,daysOfWeek:c.days,section:t.id,coords:c.location}),l[e]=r}}))}}}));var u={M:[],T:[],W:[],R:[],F:[]};Object.entries(l).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];yt(n)&&(u[n]=r.sort((function(e,t){var n,r,c,a;return(null!==(n=null===(r=e.times)||void 0===r?void 0:r.start)&&void 0!==n?n:0)-(null!==(c=null===(a=t.times)||void 0===a?void 0:a.start)&&void 0!==c?c:0)})))}));var d=[];return""!==i&&(d=u[i]),Object(z.jsxs)("div",{className:"map-content",children:[Object(z.jsx)(Nt,{courseDateMap:u,activeDay:i,setActiveDay:o}),Object(z.jsx)(gt,{locations:d})]})}n(297);function St(e){var t=e.open,n=e.onClose,r=e.children;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:X("drawer-overlay",t&&"open"),tabIndex:-1,onClick:n,role:"presentation"}),Object(z.jsxs)("div",{className:X("drawer-outer",t&&"open"),children:[Object(z.jsx)("div",{className:"drawer-header",children:Object(z.jsx)(he,{className:"drawer-close",onClick:n,children:Object(z.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.w})})}),r]})]})}n(298);function Dt(e){var t=e.items,n=e.currentItem,r=e.onChangeItem,c=e.className,a=e.style;return Object(z.jsx)("div",{className:X("nav-menu",c),style:a,children:t.map((function(e,t){return Object(z.jsx)(he,{className:X("nav-button",n===t&&"active"),onClick:function(){return r(t)},children:e},t)}))})}n(299);function Tt(e){var t=e.className,n=e.color,r=e.onSelectColor,c=e.onMouseLeave;return Object(z.jsx)("div",{className:X("Palette",t),onMouseLeave:c,children:C.map((function(e,t){return Object(z.jsx)("div",{className:"palette-row",children:e.map((function(e){return Object(z.jsx)("div",{className:X("color",e===n&&"frame"),style:{backgroundColor:e},onClick:function(){return r(e)}},e)}))},t)}))})}var Et={fontSize:"0.9em",padding:"8px"};function At(e){var t,n=e.course,r=e.prereqs;if(0===r.length)t=Object(z.jsx)(Vt,{});else{var c=r,a=Object(f.a)(c),s=a[0],i=a.slice(1);switch(s){case"and":t=Object(z.jsx)(It,{clause:["and"].concat(Object(h.a)(i))});break;case"or":t=1===i.length?Object(z.jsx)(It,{clause:i[0]}):Object(z.jsx)(z.Fragment,{children:i.map((function(e,t){return Object(z.jsx)(Ft,{clause:e,index:t},t)}))});break;default:W(new P({message:"invalid operator found in top-level prereqs",fields:{courseId:n.id,operator:s,term:n.term}})),t=null}}return Object(z.jsxs)("div",{className:X("hover-container","nested"),children:[Object(z.jsx)(Mt,{course:n}),Object(z.jsx)("div",{className:X("nested"),children:t})]})}function Mt(e){var t=e.course,n=Object(r.useContext)(Ae),c=Object(m.a)(n,1)[0].term;return Object(z.jsx)(Oe,{className:X("hover-container"),label:"Prerequisites",actions:[{icon:fe.o,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_"+"course_detail?cat_term_in=".concat(c,"&subj_code_in=")+"".concat(t.subject,"&crse_numb_in=").concat(t.number)}]})}function Ft(e){var t=e.clause,n=e.index,c=Object(r.useState)(!0),a=Object(m.a)(c,2),s=a[0],i=a[1];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Oe,{className:X("hover-container"),label:"Option ".concat(n+1),actions:[{icon:s?fe.c:fe.b,onClick:function(){return i(!s)}}]}),s&&Object(z.jsx)("div",{className:X("nested"),children:Object(z.jsx)(It,{clause:t})})]})}function It(e){var t=e.clause;if(!Array.isArray(t))return Object(z.jsx)(Lt,{clause:t,operator:"and",isLast:!0});var n=Object(f.a)(t),r=n[0],c=n.slice(1);return Object(z.jsx)(z.Fragment,{children:c.map((function(e,t){return Object(z.jsx)(Lt,{clause:e,operator:r,isLast:t===c.length-1},t)}))})}function Lt(e){var t=e.clause,n=e.operator,r=e.isLast;return Object(z.jsxs)("div",{className:X("divider-bottom"),style:Et,children:[re(t)," ",!r&&Object(z.jsx)("strong",{children:n})]})}function Vt(){return Object(z.jsx)("div",{style:Et,children:"No prerequisites. You're good to go!"})}function Rt(){var e=!tt(D),t=Object(r.useState)([]),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(0),i=Object(m.a)(s,2),o=i[0],l=i[1],u=Object(r.useMemo)((function(){return[c,a]}),[c,a]);return Object(z.jsxs)(z.Fragment,{children:[e&&Object(z.jsx)("div",{className:"tab-container",children:["Courses","Combinations","Calendar"].map((function(e,t){return Object(z.jsx)(he,{className:X("tab",o===t&&"active"),onClick:function(){return l(t)},children:e},e)}))}),Object(z.jsx)(Me.Provider,{value:u,children:Object(z.jsxs)("div",{className:"main",children:[(!e||0===o)&&Object(z.jsx)(Ye,{}),(!e||1===o)&&Object(z.jsx)(Be,{}),(!e||2===o)&&Object(z.jsx)("div",{className:"calendar-container",children:Object(z.jsx)(Ve,{className:"calendar",overlayCrns:c})})]})})]})}n(300);function Bt(e){var t,n,c,a,s=e.className,i=e.section,o=e.pinned,l=e.color,u=Object(r.useContext)(Ae),d=Object(m.a)(u,2),j=d[0],b=j.term,f=j.pinnedCrns,v=j.excludedCrns,O=d[1].patchSchedule,p=Object(r.useContext)(Me),x=Object(m.a)(p,2)[1],g=Object(r.useState)([[],0]),y=Object(m.a)(g,2),w=y[0],C=y[1],k=!1,S=Object(r.useCallback)((function(e){O({excludedCrns:[].concat(Object(h.a)(v),[e.crn]),pinnedCrns:f.filter((function(t){return t!==e.crn}))})}),[f,v,O]),D=Object(r.useCallback)((function(e){f.includes(e.crn)?O({pinnedCrns:f.filter((function(t){return t!==e.crn}))}):O({pinnedCrns:[].concat(Object(h.a)(f),[e.crn]),excludedCrns:v.filter((function(t){return t!==e.crn}))})}),[f,v,O]),T="section-exclude-".concat(i.id);return Object(z.jsxs)(Oe,{label:i.id,className:X("Section",s),onMouseEnter:function(){return x([i.crn])},onMouseLeave:function(){return x([])},actions:[{icon:o?fe.w:fe.v,onClick:function(){return D(i)}},{icon:fe.h,dataTip:!0,dataFor:i.id,href:"https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=".concat(b,"&crn_in=").concat(i.crn)},{icon:fe.d,dataTip:!0,dataFor:T,onClick:function(){return S(i)}}],style:o?{backgroundColor:l}:void 0,children:[Object(z.jsx)(Fe.a,{id:T,className:"tooltip",type:"dark",place:"right",effect:"solid",children:"Exclude from Combinations"}),Object(z.jsxs)("div",{className:"section-details",children:[Object(z.jsx)("div",{className:"delivery-mode",children:null!=i.deliveryMode?N[i.deliveryMode]:""}),Object(z.jsx)("div",{className:"meeting-container",children:i.meetings.map((function(e,t){return Object(z.jsxs)("div",{className:"meeting",children:[Object(z.jsx)("span",{className:"days",children:e.days.join("")}),Object(z.jsx)("span",{className:"period",children:Y(e.period)})]},t)}))}),Object(z.jsx)(Fe.a,{id:i.id,className:"tooltip",type:"dark",place:"right",effect:"solid",afterShow:function(){return k=!0,void setTimeout((function(){k&&i.fetchSeating(b).then((function(e){C(e)})).catch((function(e){return W(new P({message:"error while fetching seating",source:e,fields:{crn:i.crn,term:i.term}}))}))}),333)},afterHide:function(){k=!1},children:Object(z.jsx)("table",{children:Object(z.jsxs)("tbody",{children:[Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:Object(z.jsx)("b",{children:"Seats Filled"})}),Object(z.jsx)("td",{children:0===w[0].length?"Loading...":"number"===typeof w[0][1]?"".concat(null!==(t=w[0][1])&&void 0!==t?t:"<unknown>"," of ").concat(null!==(n=w[0][0])&&void 0!==n?n:"<unknown>"):"N/A"})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{children:Object(z.jsx)("b",{children:"Waitlist Filled"})}),Object(z.jsx)("td",{children:0===w[0].length?"Loading...":"number"===typeof w[0][1]?"".concat(null!==(c=w[0][3])&&void 0!==c?c:"<unknown>"," of ").concat(null!==(a=w[0][2])&&void 0!==a?a:"<unknown>"):"N/A"})]})]})})})]})]})}n(301);function _t(e){var t=e.label,n=e.active,r=void 0!==n&&n,c=e.onClick,a=e.className,s=e.style;return Object(z.jsx)("button",{className:X("Tab",r&&"active",a),style:s,onClick:c,type:"button",children:t})}n(302);function Pt(){var e=!tt(D);return Object(z.jsx)("div",{className:X("Attribution"),children:Object(z.jsxs)("p",{children:["Copyright (c) 2021 with"," ",Object(z.jsx)("span",{role:"img","aria-label":"love",children:"\u2764\ufe0f"})," ","by ",Object(z.jsx)("a",{href:"https://jasonpark.me",children:"Jinseo Park"}),","," ",Object(z.jsx)("a",{href:"https://bitsofgood.org",children:"Bits of Good"}),", and"," ",Object(z.jsx)("a",{href:"https://github.com/gt-scheduler/website/graphs/contributors",children:e?"others":"the GT Scheduler contributors"}),"."]})})}n(303);function Wt(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(m.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(null),u=Object(m.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(""),f=Object(m.a)(b,2),h=f[0],v=f[1],O=Object(r.useState)(!1),p=Object(m.a)(O,2),x=p[0],g=p[1];return Object(z.jsxs)(z.Fragment,{children:[!n&&Object(z.jsx)("div",{className:"FeedbackButtonWrapper",children:Object(z.jsx)(he,{className:"FeedbackButton",onClick:function(){return c(!0)},children:Object(z.jsx)(be.a,{icon:fe.j,size:"2x"})})}),n&&Object(z.jsx)("div",{children:Object(z.jsx)("form",{className:"FeedbackForm",children:Object(z.jsxs)("div",{className:"container",children:[Object(z.jsx)(be.a,{icon:fe.w,className:"CloseIcon",onClick:function(){return c(!1)}}),Object(z.jsx)("h3",{className:"FeedbackTitle",children:"Feedback"}),!i&&Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{className:"text",children:"How would you rate your experience?"}),Object(z.jsx)("div",{className:"FormButtons",children:[1,2,3,4,5].map((function(e){return Object(z.jsx)(he,{className:X("FormButton",d===e-1&&"active"),onClick:function(){return j(e-1)},children:e},e)}))}),Object(z.jsxs)("div",{className:"ScoreLabels",children:[Object(z.jsx)("span",{className:"score",style:{marginLeft:"4px"},children:"Poor"}),Object(z.jsx)("span",{className:"score",style:{marginRight:"4px"},children:"Great"})]}),Object(z.jsx)("textarea",{className:"FeedbackTextArea",placeholder:"Please let us know if you have any more feedback!",onChange:function(e){return v(e.target.value)},value:h}),Object(z.jsx)(he,{className:"SubmitButton",onClick:function(){g(!0),function(e){return Gt.apply(this,arguments)}({rating:(null!==d&&void 0!==d?d:0)+1,feedback:h}).then((function(){o(!0),g(!1)})).catch((function(){o(!0),g(!1)}))},disabled:null==d||x,children:"Submit"})]}),i&&Object(z.jsxs)("div",{className:"submitted",children:[Object(z.jsx)("p",{className:"submitted-thanks text",children:Object(z.jsx)("span",{children:"Thank you for your feedback!"})}),Object(z.jsx)("div",{children:Object(z.jsx)(he,{className:"SubmitButton",onClick:function(){return c(!1)},children:"Close"})})]})]})})})]})}function Gt(){return(Gt=Object(b.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rating,r=t.feedback,c="".concat(S,"/feedback"),e.next=4,je()({method:"post",url:c,data:{rating:n,feedback:r},headers:{"Content-Type":"application/json;charset=UTF-8"}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zt=n(71),qt=n.n(zt),Ht=n(72),Ut="visited-merge-notice";function Yt(){return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("img",{style:{width:"175px",margin:"0 auto",display:"block"},alt:"GT Scheduler Logo",src:"/mascot.png"}),Object(z.jsx)("h1",{children:"GT Scheduler"}),Object(z.jsxs)("p",{children:["Hey there, yellow jackets!"," ",Object(z.jsx)("a",{href:"https://github.com/gt-scheduler",children:"GT Scheduler"})," is a new collaboration between ",Object(z.jsx)("a",{href:"https://bitsofgood.org/",children:"Bits of Good"})," ","and ",Object(z.jsx)("a",{href:"https://jasonpark.me/",children:"Jason (Jinseo) Park"})," aimed at making class registration easier for everybody! Now, you can access course prerequisites, instructor GPAs, live seating information, and more all in one location."]}),Object(z.jsxs)("p",{children:["If you enjoy our work and are interested in contributing, feel free to"," ",Object(z.jsx)("a",{href:"https://github.com/gt-scheduler/website/pulls",children:"open a pull request"})," ","with your improvements. Thank you and enjoy!"]})]})}function Jt(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(Ht.a)(Ut,(function(){return"true"===qt.a.get(Ut)})),s=Object(m.a)(a,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){i||(c(!0),o(!0))}),[i,o]),Object(z.jsx)(lt,{show:n,onHide:function(){return c(!1)},buttons:[{label:"Got it!",onClick:function(){return c(!1)}}],children:Object(z.jsx)(Yt,{})})}var Kt=function(e){Object(F.a)(n,e);var t=Object(I.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).state={error:null,info:null},r}return Object(A.a)(n,[{key:"componentDidCatch",value:function(e,t){W(new P({message:"ErrorBoundary caught error from further in render tree",source:e,fields:{reactErrorInfo:t}})),this.setState({info:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.fallback,r=this.state,c=r.error,a=r.info;return null!==c?null!=n?Object(z.jsx)(z.Fragment,{children:n(c,a)}):null:Object(z.jsx)(z.Fragment,{children:t})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e,info:null}}}]),n}(c.a.Component);function Qt(e){var t=e.name,n=e.children,r=e.style,c=e.className;return Object(z.jsxs)("div",{className:X(c,"error-details-field"),style:r,children:[Object(z.jsx)("strong",{children:t}),": ",n]})}function Xt(e){var t=e.error,n=e.errorInfo;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)($t,{error:t}),null!==n&&Object(z.jsx)(Qt,{name:"Component stacktrace",children:Object(z.jsx)("pre",{children:Object(z.jsx)("code",{children:n.componentStack.replace(/^[\n\r]+/,"")})})})]})}function Zt(e){var t=e.error,n=e.overview,r=e.name;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)($t,{error:t}),Object(z.jsxs)(Qt,{name:"Operation name",children:["(loading) ",r]}),Object(z.jsx)(Qt,{name:"Overview",children:n})]})}function $t(e){var t,n=e.error;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Qt,{name:"Name",children:n.name}),Object(z.jsx)(Qt,{name:"Message",children:n.message}),Object(z.jsx)(Qt,{name:"Version",children:"71154a647a185bbfce1d862bf9f884ca0acccd78"}),n instanceof P&&Object(z.jsx)(Qt,{name:"Fields",children:Object(z.jsx)("pre",{children:Object(z.jsx)("code",{children:Object.entries(n.getAllFields()).map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return"    ".concat(n,": ").concat(B()(r))})).join("\n")})})}),Object(z.jsx)(Qt,{name:"Stacktrace",children:Object(z.jsx)("pre",{children:Object(z.jsx)("code",{children:null!==(t=n.stack)&&void 0!==t?t:"~"})})})]})}n(304);function en(e){var t=e.children,n=e.label,c=void 0===n?"Details":n,a=e.className,s=e.style,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return Object(z.jsxs)("div",{className:X("expandable-card",a),style:s,children:[Object(z.jsxs)("button",{className:"expandable-card-button",onClick:function(){return u(!l)},type:"button",children:[Object(z.jsx)(be.a,{fixedWidth:!0,icon:fe.g,style:{transform:l?"rotate(-90deg)":"none",marginRight:8}}),c]}),l&&t]})}n(305);function tn(e){var t=e.errorDetails,n=e.children;return Object(z.jsxs)("div",{className:"error-display-outer",children:[n,Object(z.jsxs)("div",{children:["If the issue keeps happening, please consider filing"," ",Object(z.jsx)("a",{href:"https://github.com/gt-scheduler/website/issues/new?assignees=&labels=bug&template=bug-report----.md&title=",target:"_blank",rel:"noreferrer noopener",children:"a new issue on the gt-scheduler GitHub"}),", and include the information below under \u201cError Details\u201d in addition to what you were doing when the error occurred."]}),Object(z.jsx)("div",{children:"The error has already been logged, but filing an issue lets you provide more information about what happened and makes it a lot easier for us to fix the bug. Thanks \u2764"}),Object(z.jsx)(en,{label:"Error Details",children:t})]})}n(306);function nn(){return Object(z.jsxs)("div",{className:"error-header",children:[Object(z.jsx)(be.a,{icon:fe.m}),Object(z.jsx)("h4",{children:"An error occurred :("})]})}var rn=["Scheduler","Map"],cn=c.a.createContext({currentTabIndex:0,setTabIndex:function(){throw new P({message:"empty AppNavigationContext.setTabIndex value being used"})},isDrawerOpen:!1,openDrawer:function(){throw new P({message:"empty AppNavigationContext.openDrawer value being used"})},closeDrawer:function(){throw new P({message:"empty AppNavigationContext.closeDrawer value being used"})}});function an(e){var t=e.children,n=!tt(D),c=Object(r.useState)(0),a=Object(m.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(!1),l=Object(m.a)(o,2),u=l[0],d=l[1],j=Object(r.useCallback)((function(){return d(!0)}),[]),b=Object(r.useCallback)((function(){return d(!1)}),[]);Object(r.useEffect)((function(){u&&!n&&d(!1)}),[u,n]);var f=Object(r.useMemo)((function(){return{currentTabIndex:s,setTabIndex:i,isDrawerOpen:u,openDrawer:j,closeDrawer:b}}),[s,i,u,j,b]);return Object(z.jsx)(cn.Provider,{value:f,children:t})}function sn(e){var t=e.onCopyCrns,n=void 0===t?function(){}:t,c=e.enableCopyCrns,a=void 0!==c&&c,s=e.onExportCalendar,i=void 0===s?function(){}:s,o=e.enableExportCalendar,l=void 0!==o&&o,u=e.onDownloadCalendar,d=void 0===u?function(){}:u,j=e.enableDownloadCalendar,b=void 0!==j&&j,f=!tt(D),h=tt(600),m=Object(r.useContext)(cn),v=m.currentTabIndex,O=m.setTabIndex,p=m.isDrawerOpen,x=m.closeDrawer;return f?Object(z.jsxs)(St,{open:p,onClose:x,children:[!h&&Object(z.jsx)(rt,{onCopyCrns:n,enableCopyCrns:a,onExportCalendar:i,enableExportCalendar:l,onDownloadCalendar:d,enableDownloadCalendar:b}),Object(z.jsx)(Dt,{items:rn,currentItem:v,onChangeItem:O})]}):null}var on=n(24);var ln="https://api.github.com/repos/".concat("gt-scheduler/crawler","/contents?ref=").concat("gh-pages");n(307);function un(e){var t,n=e.state,r=e.name;if("loading"===n.type)t=Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Xe,{size:"normal",style:{opacity:.6}}),Object(z.jsx)("h4",{children:"Loading"}),Object(z.jsx)("div",{children:r})]});else{if("custom"===n.type)return Object(z.jsx)(z.Fragment,{children:n.contents});t=n.stillLoading?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Xe,{size:"normal",style:{opacity:.6}}),Object(z.jsx)("h4",{children:"Loading"}),Object(z.jsxs)(tn,{errorDetails:Object(z.jsx)(Zt,{error:n.error,overview:n.overview,name:r}),children:[Object(z.jsxs)("div",{children:["An error ocurred while loading ",r,": ",n.overview]}),Object(z.jsx)("div",{children:"The application is retrying in the background, so the issue may resolve itself. If it doesn't, try refreshing the page."})]})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(nn,{}),Object(z.jsxs)(tn,{errorDetails:Object(z.jsx)(Zt,{error:n.error,overview:n.overview,name:r}),children:[Object(z.jsxs)("div",{children:["An unrecoverable error ocurred while loading ",r,":"," ",n.overview]}),Object(z.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})}return Object(z.jsx)("div",{className:"loading-display",children:t})}function dn(){var e=Object(r.useContext)(cn),t=e.currentTabIndex,n=e.setTabIndex,c=e.openDrawer,a=vt();return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(sn,Object(d.a)({},a)),Object(z.jsx)(Ot,{currentTab:t,onChangeTab:n,onToggleMenu:c,tabs:rn}),Object(z.jsxs)(Kt,{fallback:function(e,n){var r;return Object(z.jsxs)(fn,{children:[Object(z.jsx)(nn,{}),Object(z.jsxs)(tn,{errorDetails:Object(z.jsx)(Xt,{error:e,errorInfo:n}),children:[Object(z.jsxs)("div",{children:["There was en error somewhere somewhere in the"," ",null!==(r=rn[t])&&void 0!==r?r:"?"," tab and it can't continue."]}),Object(z.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})},children:[0===t&&Object(z.jsx)(Rt,{}),1===t&&Object(z.jsx)(kt,{})]}),Object(z.jsx)(Pt,{})]})}var jn=c.a.memo(dn);function bn(e){var t=e.children,n=e.termsState,c=Object(r.useContext)(cn),a=c.currentTabIndex,s=c.setTabIndex,i=c.openDrawer;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(sn,{}),Object(z.jsx)(bt,{currentTab:a,onChangeTab:s,onToggleMenu:i,tabs:rn,termsState:null==n?{type:"loading"}:Object(d.a)({type:"loaded"},n),versionsState:{type:"loading"}}),t,Object(z.jsx)(Pt,{})]})}function fn(e){var t=e.children;return Object(z.jsx)("div",{className:X("main","skeleton"),children:Object(z.jsx)("div",{className:"skeleton-content",children:Object(z.jsx)("div",{className:"skeleton-content-inner",children:t})})})}n(308);function hn(){return Object(z.jsxs)("div",{className:"warning-header",children:[Object(z.jsx)(be.a,{icon:fe.l}),Object(z.jsx)("h4",{children:"Warning"})]})}n(309);function mn(e){var t=e.onAccept;return Object(z.jsxs)("div",{className:"data-not-persistent-notification",children:[Object(z.jsx)(hn,{}),Object(z.jsx)("p",{children:"Your browser doesn't support storing data using local storage, which gt-scheduler relies on to persist schedule data between sessions."}),Object(z.jsx)("p",{children:"Reasons this might be the case:"}),Object(z.jsxs)("ul",{children:[Object(z.jsx)("li",{children:"You're using an outdated browser that doesn't support local storage"}),Object(z.jsx)("li",{children:"You're using Mobile Safari with private mode enabled"}),Object(z.jsx)("li",{children:"You're using Safari with cookies disabled"})]}),Object(z.jsx)("p",{children:Object(z.jsx)("strong",{children:"Would you like to continue using gt-scheduler? Your schedules will not be saved once you close this tab."})}),Object(z.jsx)("button",{className:"data-not-persistent-notification--button",onClick:t,type:"button",children:"Accept"})]})}function vn(e,t){return""!==e&&"undefined"!==e&&t.includes(e)}function On(e){var t={version:2,terms:{}};return Object.entries(e.terms).forEach((function(e){var n=Object(m.a)(e,2),r=n[0],c=n[1],a=new Date,s={versions:{}},i=c.versions.map((function(e,t){var n=Ee(),r=function(e){return new Date(a.getTime()+1e3*e)}(t);return[n,{name:e.name,createdAt:r.toISOString(),schedule:e.schedule}]}));s.versions=Object.fromEntries(i),t.terms[r]=s})),t}var pn={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0};var xn=function(e){return null!=e&&Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))};function gn(e,t){try{if(null==e||"object"!==typeof e||Array.isArray(e))return{type:"error",fallback:pn,errors:[new P({message:"term data is the wrong type",fields:{rawTermData:t,termDataType:typeof e,termData:e}})]};var n=Object(d.a)({},pn),r=e,c=[],a=r.desiredCourses,s=r.pinnedCrns,i=r.excludedCrns,o=r.colorMap,l=r.sortingOptionIndex;return xn(a)?n.desiredCourses=a:c.push(new P({message:"termData.desiredCourses was not a string array",fields:{rawTermData:t,termData:e,desiredCourses:a,fallback:n.desiredCourses}})),xn(s)?n.pinnedCrns=s:c.push(new P({message:"termData.pinnedCrns was not a string array",fields:{rawTermData:t,termData:e,pinnedCrns:s,fallback:n.pinnedCrns}})),xn(i)?n.excludedCrns=i:c.push(new P({message:"termData.excludedCrns was not a string array",fields:{rawTermData:t,termData:e,excludedCrns:i,fallback:n.excludedCrns}})),"object"===typeof(u=o)&&null!=u&&Object.keys(u).every((function(e){return"string"===typeof e}))&&Object.values(u).every((function(e){return"string"===typeof e}))?n.colorMap=o:c.push(new P({message:"termData.colorMap was not a string/string map",fields:{rawTermData:t,termData:e,colorMap:o,fallback:n.colorMap}})),"number"===typeof l?n.sortingOptionIndex=l:c.push(new P({message:"termData.sortingOptionIndex was not a number",fields:{rawTermData:t,termData:e,sortingOptionIndex:l,fallback:n.sortingOptionIndex}})),c.length>0?{type:"error",fallback:n,errors:c}:{type:"valid",termData:n}}catch(j){return j instanceof Error?{type:"error",fallback:pn,errors:[new P({message:"an unexpected error occurred when parsing term data",source:j,fields:{rawTermData:t}})]}:{type:"error",fallback:pn,errors:[new P({message:"an unexpected error occurred when parsing term data",fields:{rawTermData:t,originalError:j}})]}}var u}var yn={terms:{},currentTerm:"",version:1};function wn(e){var t,n=null!==(t=e.term)&&void 0!==t?t:"",r=Math.floor(1e5*Math.random()),c={};return Object.entries(e).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];if(Ke(n)){var s=function(e){if(""===e||"undefined"===e)return{type:"error",error:new P({message:'raw term data was empty or "undefined"',fields:{rawTermData:e}})};try{return{type:"parsed",parsed:JSON.parse(e)}}catch(t){return{type:"error",error:new P({message:"raw term data was not valid JSON data",source:t,fields:{rawTermData:e}})}}}(a);if("error"===s.type)return void W(new P({message:"parsing error for guessed term data when migrating",source:s.error,fields:{cookieKey:n,cookieValue:a,userNumber:r}}));var i=gn(s.parsed,a);"error"===i.type?(i.errors.forEach((function(e){W(new P({message:"validation error for guessed term data when migrating",source:e,fields:{cookieKey:n,cookieValue:a,userNumber:r}}))})),c[n]={versions:[{name:"Primary",schedule:i.fallback}],currentIndex:0}):c[n]={versions:[{name:"Primary",schedule:i.termData}],currentIndex:0}}})),{terms:c,currentTerm:n,version:1}}function Cn(e){var t=e.rawScheduleData,n=e.setRawScheduleData,c=Object(r.useState)(null),a=Object(m.a)(c,2),s=a[0],i=a[1];Object(r.useEffect)((function(){if(null===t||2!==t.version){if(null!==t&&t.version>2){var e=new P({message:"schedule data version is greater than max supported version",fields:{version:t.version,maxSupportedVersion:2}});return W(e),void i({type:"error",error:e,stillLoading:!1,overview:"could not load stored schedule data: unknown format"})}try{var r=function(t){var n;if(null===t)try{n=wn(qt.a.get())}catch(e){W(new P({source:e,message:"an error occurred when sourcing schedule data from cookies"})),n=yn}else n=t;return 1===n.version?On(n):n}(t);n(r)}catch(e){var c=new P({source:e,message:"an error occurred when loading schedule data"});W(c),i({type:"error",error:c,stillLoading:!1,overview:"could not convert stored schedule data to latest version"})}}}),[t,n]);var o=Object(r.useCallback)((function(e){n("function"!==typeof e?e:function(t){var n;return null===t||2!==t.version?(W(new P({message:"setScheduleData called when schedule data isn't fully migrated",fields:{versionOrNull:null!==(n=null===t||void 0===t?void 0:t.version)&&void 0!==n?n:null}})),t):e(t)})}),[n]);return null!==s?s:null===t||2!==t.version?{type:"loading"}:{type:"loaded",result:{scheduleData:t,setScheduleData:o}}}var Nn={currentTerm:"",versionStates:{}};function kn(){var e,t,n=function(e,t){var n=Object(r.useState)((function(){var n=null;try{return(n=window.localStorage.getItem(e))?JSON.parse(n):t}catch(r){return W(new P({message:"useLocalStorageNoSync load local storage failed",source:r,fields:{key:e}})),t}})),c=Object(m.a)(n,2),a=c[0],s=c[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(r){W(new P({message:"useLocalStorageNoSync setValue call failed",source:r,fields:{key:e}}))}}]}("ui-state",Nn),c=Object(m.a)(n,2),a=c[0],s=a.currentTerm,i=a.versionStates,o=c[1];return{currentTerm:s,setTerm:Object(r.useCallback)((function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{currentTerm:e})}))}),[o]),currentVersion:null!==(e=null===(t=i[s])||void 0===t?void 0:t.currentVersion)&&void 0!==e?e:"",setVersion:Object(r.useCallback)((function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{versionStates:Object(d.a)(Object(d.a)({},t.versionStates),{},Object(_e.a)({},t.currentTerm,{currentVersion:e}))})}))}),[o])}}function Sn(e){var t=e.children,n=kn();return Object(z.jsx)(z.Fragment,{children:t(Object(d.a)({},n))})}function Dn(e){var t=e.skeletonProps,n=e.terms,c=e.currentTermRaw,a=e.setTerm,s=e.children,i=function(e){var t=e.terms,n=e.setTerm,c=e.currentTermRaw;return Object(r.useEffect)((function(){var e=t[0],r=vn(c,t)?c:e;r!==c&&n(r)}),[c,t,n]),vn(c,t)?{type:"loaded",result:{currentTerm:c}}:{type:"loading"}}({terms:n,currentTermRaw:c,setTerm:a});return"loaded"!==i.type?Object(z.jsx)(bn,Object(d.a)(Object(d.a)({},t),{},{children:Object(z.jsx)(fn,{children:Object(z.jsx)(un,{state:i,name:"current term"})})})):Object(z.jsx)(z.Fragment,{children:s(Object(d.a)({},i.result))})}function Tn(e){var t=e.skeletonProps,n=e.children,c=function(){var e,t=Object(Ht.a)("schedule-data",null),n=Object(m.a)(t,3),c=n[0],a=n[1],s=n[2].isPersistent,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return s||l?{type:"loaded",result:{rawScheduleData:c,setRawScheduleData:a}}:{type:"custom",contents:(e={onAccept:function(){u(!0)}},Object(z.jsx)(mn,Object(d.a)({},e)))}}();return"loaded"!==c.type?Object(z.jsx)(bn,Object(d.a)(Object(d.a)({},t),{},{children:Object(z.jsx)(fn,{children:Object(z.jsx)(un,{state:c,name:"local schedule data"})})})):Object(z.jsx)(z.Fragment,{children:n(Object(d.a)({},c.result))})}function En(e){var t=e.skeletonProps,n=e.rawScheduleData,r=e.setRawScheduleData,c=e.children,a=Cn({rawScheduleData:Object(on.a)(n),setRawScheduleData:r});return"loaded"!==a.type?Object(z.jsx)(bn,Object(d.a)(Object(d.a)({},t),{},{children:Object(z.jsx)(fn,{children:Object(z.jsx)(un,{state:a,name:"schema migrations to schedule data"})})})):Object(z.jsx)(z.Fragment,{children:c(Object(d.a)({},a.result))})}function An(e){var t=e.setScheduleData,n=e.children,c=function(e){var t=e.setScheduleData;return{updateScheduleData:Object(r.useCallback)((function(e){return t((function(t){return Object(on.b)(t,e)}))}),[t])}}({setScheduleData:t}).updateScheduleData;return Object(z.jsx)(z.Fragment,{children:n({updateScheduleData:c})})}function Mn(e){var t=e.skeletonProps,n=e.children,c=function(){var e=Object(r.useState)({type:"loading"}),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=new We;function t(){return(t=Object(b.a)(u.a.mark((function t(){var n,r,a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=1;case 1:if(e.isCancelled){t.next=25;break}return t.prev=2,r=je.a.get(ln),t.next=6,e.perform(r);case 6:if(!(a=t.sent).cancelled){t.next=9;break}return t.abrupt("return");case 9:if(0!==(s=a.value.data.map((function(e){return e.name})).filter((function(e){return/\d{6}\.json/.test(e)})).map((function(e){return e.replace(/\.json$/,"")})).sort().reverse()).length){t.next=12;break}throw new P({message:"fetched list of terms is empty; cannot continue"});case 12:return c({type:"loaded",result:s}),t.abrupt("return");case 16:t.prev=16,t.t0=t.catch(2),ce(t.t0)||W(new P({message:"error fetching list of terms",source:t.t0,fields:{url:ln}})),c({type:"error",error:t.t0 instanceof Error?t.t0:new P({message:"an error occurred while fetching terms",source:t.t0}),stillLoading:!0,overview:String(t.t0)});case 20:return t.next=22,ae(n);case 22:n+=1,t.next=1;break;case 25:case"end":return t.stop()}}),t,null,[[2,16]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch((function(){})),function(){e.cancel()}}),[c]),n}();return"loaded"!==c.type?Object(z.jsx)(bn,Object(d.a)(Object(d.a)({},t),{},{children:Object(z.jsx)(fn,{children:Object(z.jsx)(un,{state:c,name:"list of current terms"})})})):Object(z.jsx)(z.Fragment,{children:n({terms:c.result})})}function Fn(e){var t=e.skeletonProps,n=e.currentTerm,c=e.scheduleData,a=e.updateScheduleData,s=e.children,i=function(e){var t=e.currentTerm,n=e.scheduleData,c=e.updateScheduleData;Object(r.useEffect)((function(){var e=n.terms[t],r=void 0===e?De:e;r!==e&&c((function(e){e.terms[t]=Object(on.a)(r)}))}),[t,n.terms,c]);var a=n.terms[t],s=Object(r.useCallback)((function(e){c((function(n){var r=n.terms[t];void 0!==r?n.terms[t]=Object(on.b)(r,(function(t){return Object(on.a)(e(t))})):W(new P({message:"updateTermScheduleData called on term that does not exist",fields:{currentTerm:t,currentTermScheduleData:a,allTermsInData:Object.keys(n.terms)}}))}))}),[t,a,c]);return void 0===a?{type:"loading"}:{type:"loaded",result:{termScheduleData:a,updateTermScheduleData:s}}}({currentTerm:n,scheduleData:c,updateScheduleData:a});return"loaded"!==i.type?Object(z.jsx)(bn,Object(d.a)(Object(d.a)({},t),{},{children:Object(z.jsx)(fn,{children:Object(z.jsx)(un,{state:i,name:"schedule data for the current term"})})})):Object(z.jsx)(z.Fragment,{children:s(Object(d.a)({},i.result))})}function In(e){var t=e.skeletonProps,n=e.term,c=e.children,a=function(e){var t=Object(r.useState)({type:"loading"}),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=new We,n=function(e){return"https://gt-scheduler.github.io/crawler/".concat(e,".json")}(e);function r(){return(r=Object(b.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0;case 1:if(t.isCancelled){e.next=15;break}return e.next=4,c({initialLoad:n});case 4:if(!t.isCancelled){e.next=6;break}return e.abrupt("return");case 6:return r=ie({amount_ms:9e5}),e.next=9,t.perform(r);case 9:if(!e.sent.cancelled){e.next=12;break}return e.abrupt("return");case 12:n=!1,e.next=1;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return i.apply(this,arguments)}function i(){return(i=Object(b.a)(u.a.mark((function r(c){var i,o,l,d,j,b,f;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(i=c.initialLoad)&&a({type:"loading"}),o=1;case 3:if(t.isCancelled){r.next=29;break}return r.prev=4,d=je.a.get(n),r.next=8,t.perform(d);case 8:if(!(j=r.sent).cancelled){r.next=11;break}return r.abrupt("return");case 11:if(b=j.value.data,null===s.current||new Date(b.updatedAt).getTime()!==(null===(l=s.current)||void 0===l?void 0:l.updatedAt.getTime())){r.next=14;break}return r.abrupt("return");case 14:return f=new ke(b,e),a({type:"loaded",result:f}),s.current=f,r.abrupt("return");case 20:r.prev=20,r.t0=r.catch(4),ce(r.t0)||W(new P({message:"error fetching crawler data",source:r.t0,fields:{term:e,url:n}})),i&&a({type:"error",error:r.t0 instanceof Error?r.t0:new P({message:"an error occurred while fetching crawler data",source:r.t0}),stillLoading:!0,overview:String(r.t0)});case 24:return r.next=26,ae(o);case 26:o+=1,r.next=3;break;case 29:case"end":return r.stop()}}),r,null,[[4,20]])})))).apply(this,arguments)}return function(){return r.apply(this,arguments)}().catch((function(t){W(new P({message:"error loading and refreshing oscar data",source:t,fields:{term:e,url:n}}))})),function(){t.cancel()}}),[e,a]),"loaded"===c.type&&c.result.term!==e?{type:"loading"}:c}(n);return"loaded"!==a.type?Object(z.jsx)(bn,Object(d.a)(Object(d.a)({},t),{},{children:Object(z.jsx)(fn,{children:Object(z.jsx)(un,{state:a,name:"Oscar course data for the current term"})})})):Object(z.jsx)(z.Fragment,{children:c({oscar:a.result})})}function Ln(e){var t=e.skeletonProps,n=e.currentVersionRaw,c=e.setVersion,a=e.termScheduleData,s=e.updateTermScheduleData,i=e.children,o=function(e){var t,n=e.termScheduleData,c=e.updateTermScheduleData,a=e.currentVersionRaw,s=e.setVersion,i=null!==(t=n.versions[a])&&void 0!==t?t:null;Object(r.useEffect)((function(){null===i&&c((function(e){if(null==e.versions[a])if(0===Object.keys(e.versions).length){var t=Ee();e.versions[t]={name:"Primary",createdAt:(new Date).toISOString(),schedule:Object(on.a)(Te)},s(t)}else{var n,r=Object.entries(e.versions).sort((function(e,t){var n=Object(m.a)(e,2)[1],r=Object(m.a)(t,2)[1];return ue(n.createdAt,r.createdAt)}));s(null===(n=r[0])||void 0===n?void 0:n[0])}}))}),[a,i,c,s]);var o=Object(r.useCallback)((function(e){c((function(t){var n,r=null!==(n=t.versions[a])&&void 0!==n?n:null;null!==r?t.versions[a]=Object(on.b)(r,(function(t){return Object(on.a)(e(t))})):W(new P({message:"updateScheduleVersion called with invalid current schedule version; ignoring",fields:{currentVersionRaw:a,currentScheduleVersion:null}}))}))}),[c,a]);return null===i?{type:"loading"}:{type:"loaded",result:{currentVersion:a,scheduleVersion:i,updateScheduleVersion:o}}}({termScheduleData:a,updateTermScheduleData:s,currentVersionRaw:n,setVersion:c});return"loaded"!==o.type?Object(z.jsx)(bn,Object(d.a)(Object(d.a)({},t),{},{children:Object(z.jsx)(fn,{children:Object(z.jsx)(un,{state:o,name:"current schedule version"})})})):Object(z.jsx)(z.Fragment,{children:i(Object(d.a)({},o.result))})}function Vn(e){var t=e.children;return Object(z.jsx)(Sn,{children:function(e){var n=e.currentTerm,r=e.setTerm,c=e.currentVersion,a=e.setVersion;return Object(z.jsx)(Mn,{children:function(e){var s=e.terms;return Object(z.jsx)(Dn,{terms:s,setTerm:r,currentTermRaw:n,children:function(e){var n=e.currentTerm,i={terms:s,onChangeTerm:r,currentTerm:n};return Object(z.jsx)(Rn,{skeletonProps:{termsState:i},children:function(e){var o=e.scheduleData,l=e.updateScheduleData;return Object(z.jsx)(Fn,{skeletonProps:{termsState:i},currentTerm:n,scheduleData:o,updateScheduleData:l,children:function(e){var o=e.termScheduleData,l=e.updateTermScheduleData;return Object(z.jsx)(In,{skeletonProps:{termsState:i},term:n,children:function(e){var u=e.oscar;return Object(z.jsx)(Ln,{skeletonProps:{termsState:i},currentVersionRaw:c,setVersion:a,termScheduleData:o,updateTermScheduleData:l,children:function(e){var c=e.currentVersion,i=e.scheduleVersion,d=e.updateScheduleVersion;return Object(z.jsx)(Bn,{terms:s,currentTerm:n,setTerm:r,currentVersion:c,setVersion:a,oscar:u,scheduleVersion:i,updateScheduleVersion:d,termScheduleData:o,updateTermScheduleData:l,children:t})}})}})}})}})}})}})}})}function Rn(e){var t=e.skeletonProps,n=e.children;return Object(z.jsx)(Tn,{skeletonProps:t,children:function(e){var r=e.rawScheduleData,c=e.setRawScheduleData;return Object(z.jsx)(En,{skeletonProps:t,rawScheduleData:r,setRawScheduleData:c,children:function(e){var t=e.scheduleData,r=e.setScheduleData;return Object(z.jsx)(An,{setScheduleData:r,children:function(e){var r=e.updateScheduleData;return Object(z.jsx)(z.Fragment,{children:n({scheduleData:t,updateScheduleData:r})})}})}})}})}function Bn(e){var t=e.terms,n=e.currentTerm,c=e.setTerm,a=e.currentVersion,s=e.setVersion,i=e.oscar,o=e.scheduleVersion,l=e.updateScheduleVersion,u=e.termScheduleData,j=e.updateTermScheduleData,b=e.children,f=Object(r.useCallback)((function(e){l((function(t){t.schedule=Object(on.b)(t.schedule,(function(t){return Object(on.a)(e(t))}))}))}),[l]),h=Object(r.useCallback)((function(e){f((function(t){var n;return Object(d.a)(Object(d.a)({},null!==(n=Object(on.c)(t))&&void 0!==n?n:Te),e)}))}),[f]),v=Object(r.useMemo)((function(){var e=Object.entries(u.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}}));return e.sort((function(e,t){var n,r,c,a;return ue(null!==(n=null===(r=u.versions[e.id])||void 0===r?void 0:r.createdAt)&&void 0!==n?n:"",null!==(c=null===(a=u.versions[t.id])||void 0===a?void 0:a.createdAt)&&void 0!==c?c:"")})),e}),[u.versions]),O=function(e){var t=e.updateTermScheduleData,n=e.setVersion,c=e.currentVersion;return{addNewVersion:Object(r.useCallback)((function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=Ee();t((function(t){t.versions[c]={name:e,schedule:Object(on.a)(Te),createdAt:(new Date).toISOString()}})),r&&n(c)}),[t,n]),deleteVersion:Object(r.useCallback)((function(e){t((function(t){if(null!=t.versions[e])if(c===e){var r,a,s=Object.entries(t.versions);if(delete t.versions[e],0===s.length||0===Object.keys(t.versions).length){var i=Ee();return t.versions[i]={name:"Primary",createdAt:(new Date).toISOString(),schedule:Object(on.a)(Te)},void n(i)}var o=s.sort((function(e,t){var n=Object(m.a)(e,2)[1],r=Object(m.a)(t,2)[1];return n.createdAt>r.createdAt?0:1})),l=o.findIndex((function(t){return Object(m.a)(t,1)[0]===e}));if(-1===l)return;var u=Math.max(l-1,0);n(null!==(r=null===(a=o[u])||void 0===a?void 0:a[0])&&void 0!==r?r:"")}else delete t.versions[e];else W(new P({message:"deleteVersion called with non-existent version id; ignoring",fields:{allVersionNames:Object.entries(t.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}})),versionCount:Object.keys(t.versions).length,id:e}}))}))}),[t,n,c]),renameVersion:Object(r.useCallback)((function(e,n){t((function(t){var r=t.versions[e];void 0!==r?r.name=n:W(new P({message:"renameVersion called with current version name that doesn't exist; ignoring",fields:{allVersionNames:Object.entries(t.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}})),id:e,versionCount:Object.keys(t.versions).length,newName:n}}))}))}),[t])}}({updateTermScheduleData:j,setVersion:s,currentVersion:a}),p=O.addNewVersion,x=O.deleteVersion,g=O.renameVersion,y=Object(r.useMemo)((function(){return[Object(d.a)({term:n,oscar:i,currentVersion:a,allVersionNames:v},Object(on.a)(o.schedule)),{setTerm:c,patchSchedule:h,updateSchedule:f,setCurrentVersion:s,addNewVersion:p,deleteVersion:x,renameVersion:g}]}),[n,i,a,v,o.schedule,c,h,f,s,p,x,g]);return Object(z.jsx)(xe.Provider,{value:t,children:Object(z.jsx)(Ae.Provider,{value:y,children:b})})}var _n="theme";n(310);function Pn(){var e,t=function(){var e=Object(Ht.a)(_n,(function(){var e=qt.a.get(_n);return void 0!==e?e:"dark"})),t=Object(m.a)(e,2),n=t[0],c=t[1],a=function(e){switch(e){case"light":case"dark":return!0;default:return!1}}(n)?n:"dark";return Object(r.useEffect)((function(){n!==a&&c(a)}),[n,a,c]),Object(r.useMemo)((function(){return[a,c]}),[a,c])}();return e=t[0],Object(r.useLayoutEffect)((function(){var t;return"string"===typeof e?document.body.classList.add(e):(t=document.body.classList).add.apply(t,Object(h.a)(e)),function(){var t;"string"===typeof e?document.body.classList.remove(e):(t=document.body.classList).remove.apply(t,Object(h.a)(e))}}),[e]),Object(z.jsx)(pe.Provider,{value:t,children:Object(z.jsx)(Wn,{children:Object(z.jsxs)(Kt,{fallback:function(e,t){return Object(z.jsx)(bn,{children:Object(z.jsxs)(fn,{children:[Object(z.jsx)(nn,{}),Object(z.jsxs)(tn,{errorDetails:Object(z.jsx)(Xt,{error:e,errorInfo:t}),children:[Object(z.jsx)("div",{children:"There was en error somewhere in the core application logic and it can't continue."}),Object(z.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})})},children:[Object(z.jsx)(an,{children:Object(z.jsx)(Vn,{children:Object(z.jsx)(jn,{})})}),Object(z.jsx)(Wt,{}),Object(z.jsx)(Jt,{})]})})})}function Wn(e){var t=e.children,n=!tt(D);return Object(z.jsx)("div",{className:X("App",n&&"mobile"),children:t})}n(311),n(312);console.log("Initializing Sentry"),i.a({dsn:"https://8955ef982197469e97c7644a8c090db1@o552970.ingest.sentry.io/5679614",integrations:[new o.a.BrowserTracing],tracesSampleRate:1,ignoreErrors:["ResizeObserver loop limit exceeded"],release:"71154a647a185bbfce1d862bf9f884ca0acccd78"}),s.a.render(Object(z.jsx)(Pn,{}),document.getElementById("root"))}},[[313,1,2]]]);
//# sourceMappingURL=main.55065f47.chunk.js.map