(this["webpackJsonpgt-scheduler"]=this["webpackJsonpgt-scheduler"]||[]).push([[0],{229:function(e,t,n){},230:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},298:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(43),s=n.n(a),i=n(345),o=n(188),l=n(21),u=n.n(l),d=n(7),j=n(48),b=n(30),f=n(81),h=n(16),m=n(5),O=n(174),v=n(175),p=n(176),g=n.n(p),x=n(177),y=480,w=["M","T","W","R","F"],C=[["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF"],["#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF"],["#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]],S={"Hybrid Course":"Hybrid","Remote Synchronous Course":"Remote Synchronous","Remote Asynchronous Course":"Remote Asynchronous","Residential Course":"Residential"},N={"Georgia Tech-Atlanta *":"Atlanta","GT Lorraine-Undergrad Programs":"Lorraine Undergrad","GT Lorraine-Graduate Programs":"Lorraine Graduate","Georgia Tech - Shenzhen":"Shenzhen",Video:"Video",Online:"Online","MBA Evening Program":"MBA Evening"},k="https://gt-scheduler.azurewebsites.net",E=1024,T=n(64),D=n(26),A=n(27),_=n(99),I=n(100),R=n(107),M=n(189),F=n(42),P=n(102),L=n.n(P),V=["type"],B=function(e){Object(I.a)(n,e);var t=Object(R.a)(n);function n(e){var r,c=e.message,a=e.source,s=e.fields,i=void 0===s?{}:s;Object(D.a)(this,n),(r=t.call(this)).fields=void 0,r.topMessage=void 0,r.source=void 0,r.fields=i,r.topMessage=c,a instanceof Error?(r.source=a,r.message="".concat(c,": ").concat(a.message),null!=a.stack&&(r.stack=a.stack)):(r.source=null,r.message=c,null!==r.source&&(r.fields.__non_error_source="true",r.fields.__source=L()(a)));var o=r.getRootError();return o===Object(_.a)(r)||o instanceof n?r.name="ErrorWithFields":r.name="ErrorWithFields(".concat(o.name,")"),r}return Object(A.a)(n,[{key:"logToConsole",value:function(){console.group(this.topMessage),console.error(this.getRootError());var e=this.getAllFields();Object.keys(e).length>0&&console.info(e),console.groupEnd()}},{key:"getAllFields",value:function(){return this.source instanceof n?Object(d.a)(Object(d.a)({},this.source.getAllFields()),this.fields):this.fields}},{key:"getRootError",value:function(){return null===this.source?this:this.source instanceof n?this.source.getRootError():this.source}}]),n}(Object(M.a)(Error));function W(e){e.logToConsole();var t=e.getAllFields();if(Object.keys(t).includes("type")){var n=t,r=n.type,c=Object(T.a)(n,V);t=Object(d.a)({__do_not_use_type_in_sentry_it_is_special:r},c)}F.a(e.getRootError(),{contexts:{fields:t,error:{message:e.message}},fingerprint:[e.message]})}var H=function(e,t){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1===navigator.userAgent.indexOf("MSIE 10"))){"undefined"===typeof e&&(e="default"),"undefined"===typeof t&&(t="Calendar");var n=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",r=[],c=["BEGIN:VCALENDAR","PRODID:".concat(t),"VERSION:2.0"].join(n),a="".concat(n,"END:VCALENDAR"),s=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return r},calendar:function(){return c+n+r.join(n)+a},addEvent:function(t,c,a,i,o,l){if("undefined"===typeof t||"undefined"===typeof c||"undefined"===typeof a||"undefined"===typeof i||"undefined"===typeof o)return!1;if(l&&!l.rrule){if("YEARLY"!==l.freq&&"MONTHLY"!==l.freq&&"WEEKLY"!==l.freq&&"DAILY"!==l.freq)throw new Error("Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'");if(l.until&&Number.isNaN(Date.parse(l.until)))throw new Error("Recurrence rrule 'until' must be a valid date string");if(l.interval&&Number.isNaN(parseInt(l.interval,10)))throw new Error("Recurrence rrule 'interval' must be an integer");if(l.count&&Number.isNaN(parseInt(l.count,10)))throw new Error("Recurrence rrule 'count' must be an integer");if("undefined"!==typeof l.byday){if("[object Array]"!==Object.prototype.toString.call(l.byday))throw new Error("Recurrence rrule 'byday' must be an array");if(l.byday.length>7)throw new Error("Recurrence rrule 'byday' array must not be longer than the 7 days in a week");for(var u in l.byday=l.byday.filter((function(e,t){return l.byday.indexOf(e)===t})),l.byday)if(s.indexOf(l.byday[u])<0)throw new Error("Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'")}}var d=new Date(i),j=new Date(o),b=new Date,f="0000".concat(d.getFullYear().toString()).slice(-4),h="00".concat((d.getMonth()+1).toString()).slice(-2),m="00".concat(d.getDate().toString()).slice(-2),O="00".concat(d.getHours().toString()).slice(-2),v="00".concat(d.getMinutes().toString()).slice(-2),p="00".concat(d.getSeconds().toString()).slice(-2),g="0000".concat(j.getFullYear().toString()).slice(-4),x="00".concat((j.getMonth()+1).toString()).slice(-2),y="00".concat(j.getDate().toString()).slice(-2),w="00".concat(j.getHours().toString()).slice(-2),C="00".concat(j.getMinutes().toString()).slice(-2),S="00".concat(j.getSeconds().toString()).slice(-2),N="0000".concat(b.getFullYear().toString()).slice(-4),k="00".concat((b.getMonth()+1).toString()).slice(-2),E="00".concat(b.getDate().toString()).slice(-2),T="00".concat(b.getHours().toString()).slice(-2),D="00".concat(b.getMinutes().toString()).slice(-2),A="00".concat(b.getSeconds().toString()).slice(-2),_="",I="";O+v+p+w+C+S!==0&&(_="T".concat(O).concat(v).concat(p),I="T".concat(w).concat(C).concat(S));var R,M=f+h+m+_,F=g+x+y+I,P=N+k+E+"T".concat(T).concat(D).concat(A);if(l)if(l.rrule)R=l.rrule;else{if(R="RRULE:FREQ=".concat(l.freq),l.until){var L=new Date(Date.parse(l.until)).toISOString();R+=";UNTIL=".concat(L.substring(0,L.length-13).replace(/[-]/g,""),"000000Z")}l.interval&&(R+=";INTERVAL=".concat(l.interval)),l.count&&(R+=";COUNT=".concat(l.count)),l.byday&&l.byday.length>0&&(R+=";BYDAY=".concat(l.byday.join(",")))}var V=["BEGIN:VEVENT","UID:".concat(r.length,"@").concat(e),"CLASS:PUBLIC","DESCRIPTION:".concat(c),"DTSTAMP;VALUE=DATE-TIME:".concat(P),"DTSTART;VALUE=DATE-TIME:".concat(M),"DTEND;VALUE=DATE-TIME:".concat(F),"LOCATION:".concat(a),"SUMMARY;LANGUAGE=en-us:".concat(t),"TRANSP:TRANSPARENT","END:VEVENT"];return R&&V.splice(4,0,R),V=V.join(n),r.push(V),V},download:function(e,t){if(r.length<1)return!1;t="undefined"!==typeof t?t:".ics",e="undefined"!==typeof e?e:"calendar";var s,i=c+n+r.join(n)+a;if(-1===navigator.userAgent.indexOf("MSIE 10"))s=new Blob([i]);else{var o=new BlobBuilder;o.append(i),s=o.getBlob("text/x-vCalendar;charset=".concat(document.characterSet))}return saveAs(s,e+t),i},build:function(){return!(r.length<1)&&c+n+r.join(n)+a}}}console.log("Unsupported Browser")},G=n(0),z=function(e){var t=/(\d{1,2}):(\d{2}) (a|p)m/.exec(e);if(null===t)return 0;var n=t,r=Object(m.a)(n,4),c=r[1],a=r[2];return 60*(("p"===r[3]?12:0)+ +c%12)+ +a},U=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e/60|0,r=e%60,c=n>12?n-12:n,a="".concat(r).padStart(2,"0"),s="".concat(n<12?"a":"p","m");return t?"".concat(c,":").concat(a," ").concat(s):"".concat(c,":").concat(a)},K=function(e){var t=e/60|0;return"".concat(t>12?t-12:t).concat(t<12?"a":"p","m")},Y=function(e){return null!=e?"".concat(U(e.start,!1)," - ").concat(U(e.end)):"TBA"},q=function(){var e,t=C.flat();return null!==(e=t[Math.random()*t.length|0])&&void 0!==e?e:"#333333"},Q=function(e){return null==e||.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16)>128?"light-content":"dark-content"},X=function(e,t){return e.meetings.some((function(e){return t.meetings.some((function(t){return e.period&&t.period&&w.some((function(n){return e.days.includes(n)&&t.days.includes(n)}))&&e.period.start<t.period.end&&t.period.start<e.period.end}))}))},J=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")},Z=function(e){var t=e.split(" ");return[t.shift(),t.pop()].join(" ")};function $(e){return Array.from(new Set(e))}var ee=function(e){return["Lab","Studio"].some((function(t){return e.scheduleType.includes(t)}))},te=function(e){return e.scheduleType.includes("Lecture")};function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and";if(0===e.length)return null;if(1===e.length)return String(e[0]);if(2===e.length)return Object(G.jsxs)(G.Fragment,{children:[String(e[0])," ",t," ",String(e[1])]});var n=Object(h.a)(e),r=n.pop();return Object(G.jsxs)(G.Fragment,{children:["".concat(n.join(", "),",").trim()," ",t," ",String(r)]})}var re=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=function(e){return Array.isArray(t)&&e===t.length-2},a="";if(Array.isArray(t)){if("and"===t[0]){var s=Object(f.a)(t),i=s.slice(1);i.forEach((function(t,n){a+=e(t,0===n,c(n))+(c(n)?"":" and ")}))}else if("or"===t[0]){var o=Object(f.a)(t),l=o.slice(1);l.forEach((function(t,n){a+=e(t)+(c(n)?"":" or ")}))}}else a+=(n?"(":"")+t.id+(r?")":"");return a},ce=function(e){return e instanceof Error&&e.message.includes("Network Error")};function ae(e){return se.apply(this,arguments)}function se(){return(se=Object(b.a)(u.a.mark((function e(t){var n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,Object(O.DelayFactory)(Object(v.getSanitizedOptions)(Object(d.a)({jitter:"full",numOfAttempts:Number.MAX_SAFE_INTEGER},n)),t).apply();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.amount_ms,e.next=3,new Promise((function(e){return setTimeout((function(){return e(void 0)}),n)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=["Secondary","Tertiary","Quaternary","Quinary","Senary","Septenary","Octonary","Nonary","Denary"];function ue(e,t){return e===t?0:e>t?1:-1}var de=n(51),je=n.n(de),be=n(19),fe=n(9);n(229);function he(e){var t=e.className,n=e.disabled,r=void 0!==n&&n,c=e.href,a=e.onClick,s=e.children;return r?Object(G.jsx)("div",{className:J("Button","disabled",t),children:s}):null!=c?Object(G.jsx)("a",{className:J("Button",t),href:c,rel:"noopener noreferrer",target:"_blank",children:s}):Object(G.jsx)("div",{className:J("Button",t),onClick:a,tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&null!=a&&a(e)},role:"button",children:s})}n(230);var me=["className","label","children","actions"],Oe=["icon","styling","dataTip","dataFor","onMouseEnter","onMouseLeave"];function ve(e){var t=e.className,n=e.label,c=e.children,a=e.actions,s=Object(T.a)(e,me);return Object(G.jsxs)("div",Object(d.a)(Object(d.a)({className:J("ActionRow",t)},s),{},{children:[Object(G.jsxs)("div",{className:"action-row-header",children:[Object(G.jsx)("div",{className:"label",children:n}),Object(G.jsx)("div",{className:J("actions","default"),children:a.flatMap((function(e){return null!=e?[e]:[]})).map((function(e,t){var n=e.icon,c=e.styling,a=e.dataTip,s=e.dataFor,i=e.onMouseEnter,o=e.onMouseLeave,l=Object(T.a)(e,Oe);return Object(r.createElement)(he,Object(d.a)(Object(d.a)({className:"action"},l),{},{key:t}),Object(G.jsx)(be.a,{fixedWidth:!0,style:c,icon:n,"data-tip":a,"data-for":s,onMouseEnter:i,onMouseLeave:o}))}))})]}),c]}))}var pe=c.a.createContext(["light",function(e){throw new B({message:"empty ThemeContext.setTheme value being used",fields:{next:e}})}]),ge=c.a.createContext([]),xe=function(){function e(t,n,r){var c=this;Object(D.a)(this,e),this.id=void 0,this.subject=void 0,this.number=void 0,this.title=void 0,this.sections=void 0,this.prereqs=void 0,this.hasLab=void 0,this.onlyLectures=void 0,this.onlyLabs=void 0,this.allInOnes=void 0,this.sectionGroups=void 0,this.term=void 0,this.term=t.term;var a=Object(m.a)(r,3),s=a[0],i=a[1],o=a[2];this.id=n;var l=this.id.split(" "),u=Object(m.a)(l,2),d=u[0],b=u[1];if(null==d||null==b)throw new B({message:"course ID could not be parsed",fields:{id:this.id,subject:d,number:b,term:this.term}});this.subject=d,this.number=b,this.title=s,this.sections=Object.entries(i).flatMap((function(e){var r=Object(m.a)(e,2),a=r[0],s=r[1];if(null==s)return[];try{return[new Ce(t,c,a,s)]}catch(i){return W(new B({message:"could not construct Section bean",source:i,fields:{courseId:n,term:c.term}})),[]}})),this.prereqs=o;var f=this.sections.filter((function(e){return te(e)&&!ee(e)})),h=this.sections.filter((function(e){return ee(e)&&!te(e)}));if(this.hasLab=!!f.length&&!!h.length,this.hasLab){var O,v=Object(j.a)(f);try{var p=function(){var e=O.value;e.associatedLabs=h.filter((function(t){return t.id.startsWith(e.id)}))};for(v.s();!(O=v.n()).done;)p()}catch(_){v.e(_)}finally{v.f()}var g,x=Object(j.a)(h);try{var y=function(){var e=g.value;e.associatedLectures=f.filter((function(t){return e.id.startsWith(t.id)}))};for(x.s();!(g=x.n()).done;)y()}catch(_){x.e(_)}finally{x.f()}var w,C=f.filter((function(e){return!e.associatedLabs.length})),S=h.filter((function(e){return!e.associatedLectures.length})),N=Object(j.a)(C);try{var k=function(){var e=w.value;e.associatedLabs=S.filter((function(t){return!X(e,t)}))};for(N.s();!(w=N.n()).done;)k()}catch(_){N.e(_)}finally{N.f()}var E,T=Object(j.a)(S);try{var A=function(){var e=E.value;e.associatedLectures=C.filter((function(t){return!X(t,e)}))};for(T.s();!(E=T.n()).done;)A()}catch(_){T.e(_)}finally{T.f()}this.onlyLectures=f,this.onlyLabs=h,this.allInOnes=this.sections.filter((function(e){return te(e)&&ee(e)}))}else this.sectionGroups=this.distinct(this.sections)}return Object(A.a)(e,[{key:"distinct",value:function(e){var t={};return e.forEach((function(e){var n=e.meetings.map((function(e){return{days:e.days,period:e.period}})),r=JSON.stringify(n),c=t[r];c?c.sections.push(e):t[r]={hash:r,meetings:n,sections:[e]}})),t}},{key:"fetchGpa",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,r,c,a,s,i=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://c4citk6s9k.execute-api.us-east-1.amazonaws.com/test/data",t="".concat(this.subject," ").concat(this.number.replace(/\D/g,"")),n=encodeURIComponent(t),r="".concat("https://c4citk6s9k.execute-api.us-east-1.amazonaws.com/test/data","/course?courseID=").concat(n),e.prev=4,e.next=7,je.a.get(r);case 7:c=e.sent.data,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),ce(e.t0)||W(new B({message:"error fetching course details from Course Critique API",source:e.t0,fields:{baseId:this.id,cleanedId:t,url:r,term:this.term}})),e.abrupt("return",{});case 14:if(e.prev=14,a={},null!==(s=c.header[0].avg_gpa)){e.next=19;break}return e.abrupt("return",{});case 19:if("number"===typeof s){e.next=21;break}throw new B({message:'data at ".header[0].avg_gpa" was not a number',fields:{actual:s,term:this.term}});case 21:return a.averageGpa=s,c.raw.forEach((function(e,t){var n=e.instructor_name;if("string"!==typeof n)throw new B({message:'data at ".raw[idx].instructor_name" was not a string',fields:{idx:t,actual:n,term:i.term}});var r=e.GPA;if("number"!==typeof r)throw new B({message:'data at ".raw[idx].GPA" was not a number',fields:{idx:t,actual:r,term:i.term}});var c=n,s=c.split(", ");if(2===s.length){var o=s,l=Object(m.a)(o,2),u=l[0],d=l[1];c="".concat(d," ").concat(u)}a[c]=r})),e.abrupt("return",a);case 26:return e.prev=26,e.t1=e.catch(14),W(new B({message:"error extracting course GPA from Course Critique API response",source:e.t1,fields:{baseId:this.id,cleanedId:t,url:r,term:this.term}})),e.abrupt("return",{});case 30:case"end":return e.stop()}}),e,this,[[4,10],[14,26]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ye=n(178),we=n.n(ye),Ce=function(){function e(t,n,r,c){var a,s,i;Object(D.a)(this,e),this.course=void 0,this.id=void 0,this.crn=void 0,this.seating=void 0,this.credits=void 0,this.scheduleType=void 0,this.campus=void 0,this.deliveryMode=void 0,this.gradeBasis=void 0,this.meetings=void 0,this.instructors=void 0,this.associatedLabs=void 0,this.associatedLectures=void 0,this.term=void 0,this.term=t.term;var o=Object(m.a)(c,7),l=o[0],u=o[1],d=o[2],j=o[3],b=o[4],f=o[5],O=o[6];this.course=n,this.id=r,this.crn=l,this.seating=[[],0],this.credits=d,this.scheduleType=null!==(a=t.scheduleTypes[j])&&void 0!==a?a:"unknown",this.campus=null!==(s=t.campuses[b])&&void 0!==s?s:"unknown";var v=f.map((function(e){return t.attributes[e]})).flatMap((function(e){return null==e?[]:[e]}));this.deliveryMode=v.find((function(e){return e in S})),this.gradeBasis=null!==(i=t.gradeBases[O])&&void 0!==i?i:"unknown",this.meetings=u.map((function(e){var n,r,c=Object(m.a)(e,6),a=c[0],s=c[1],i=c[2],o=c[3],l=c[4],u=c[5];return{period:t.periods[a],days:"&nbsp;"===s?[]:s.split(""),where:i,location:null!==(n=t.locations[o])&&void 0!==n?n:null,instructors:l.map((function(e){return e.replace(/ \(P\)$/,"")})),dateRange:null!==(r=t.dateRanges[u])&&void 0!==r?r:{from:new Date,to:new Date}}})),this.instructors=$(this.meetings.map((function(e){return e.instructors})).reduce((function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t))}),[])),this.associatedLabs=[],this.associatedLectures=[]}return Object(A.a)(e,[{key:"fetchSeating",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,c,a=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.seating[1],!((r=Date.now())-n>3e5)){e.next=5;break}return c="".concat(k,"/proxy/class_section?term=").concat(t,"&crn=").concat(this.crn),e.abrupt("return",je()({url:c,method:"get",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"text/html"}}).then((function(e){var t=we.a.load(e.data)(".datadisplaytable .datadisplaytable").find("tr");return a.seating=[[parseInt(t.eq(1).children("td").first().text(),10),parseInt(t.eq(1).children("td").eq(1).text(),10),parseInt(t.eq(2).children("td").first().text(),10),parseInt(t.eq(2).children("td").eq(1).text(),10)],r],a.seating})).catch((function(){return[new Array(4).fill("N/A"),r]})));case 5:return e.abrupt("return",this.seating);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Se=function e(t,n){Object(D.a)(this,e),this.label=void 0,this.calculateFactor=void 0,this.label=t,this.calculateFactor=n},Ne=function(){function e(t,n){var r=this;Object(D.a)(this,e),this.term=n,this.periods=void 0,this.dateRanges=void 0,this.scheduleTypes=void 0,this.campuses=void 0,this.attributes=void 0,this.gradeBases=void 0,this.locations=void 0,this.updatedAt=void 0,this.version=void 0,this.courses=void 0,this.courseMap=void 0,this.crnMap=void 0,this.sortingOptions=void 0;var c=t.courses,a=t.caches,s=t.updatedAt,i=t.version;this.periods=a.periods.map((function(e,t){if("TBA"!==e){var n=e.split(" - ");if(2===n.length){var c=n,a=Object(m.a)(c,2),s=a[0],i=a[1];return{start:z(s),end:z(i)}}W(new B({message:"period did not follow expected format",fields:{period:e,cacheIndex:t,term:r.term}}))}})),this.dateRanges=a.dateRanges.map((function(e,t){var n=e.split(" - ");2!==n.length&&(W(new B({message:"date range did not follow expected format",fields:{dateRange:e,cacheIndex:t,term:r.term}})),n=["Jan 1, 1970","Jan 2, 1970"]);var c=n.map((function(e){return new Date(e)})),a=Object(m.a)(c,2),s=a[0],i=a[1];return s.setHours(0),i.setHours(23,59,59,999),{from:s,to:i}})),this.scheduleTypes=a.scheduleTypes,this.campuses=a.campuses,this.attributes=a.attributes,this.gradeBases=a.gradeBases,this.locations=a.locations,this.updatedAt=new Date(s),this.version=i,this.courses=Object.entries(c).flatMap((function(e){var t=Object(m.a)(e,2),n=t[0],c=t[1];try{return[new xe(r,n,c)]}catch(a){return W(new B({message:"could not initialize Course bean",fields:{courseId:n,source:c,term:r.term}})),[]}})),this.courseMap={},this.crnMap={},this.courses.forEach((function(e){r.courseMap[e.id]=e,e.sections.forEach((function(e){r.crnMap[e.crn]=e}))})),this.sortingOptions=[new Se("Most Compact",(function(e){var t=e.startMap,n=e.endMap;return+Object.keys(t).map((function(e){var r=n[e],c=t[e];return null==r||null==c?0:r-c})).reduce((function(e,t){return e+t}),0)})),new Se("Earliest Ending",(function(e){var t=e.endMap,n=Object.values(t);return+(n.reduce((function(e,t){return e+(null!==t&&void 0!==t?t:0)}),0)/n.length)})),new Se("Latest Beginning",(function(e){var t=e.startMap,n=Object.values(t);return-(n.reduce((function(e,t){return e+(null!==t&&void 0!==t?t:0)}),0)/n.length)}))]}return Object(A.a)(e,[{key:"findCourse",value:function(e){return this.courseMap[e]}},{key:"findSection",value:function(e){return this.crnMap[e]}},{key:"getCombinations",value:function(e,t,n){var r=this,c=[];return function a(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(s!==e.length){var o=e[s];if(void 0!==o){var l=r.findCourse(o);if(void 0!==l){var u=function(e){return!n.includes(e.crn)},d=function(e){return t.includes(e.crn)},j=function(e){return[].concat(Object(h.a)(t),Object(h.a)(i)).some((function(t){var n=r.findSection(t);return void 0!==n&&X(n,e)}))};if(l.hasLab){var b,f,m,O=(null!==(b=l.onlyLectures)&&void 0!==b?b:[]).find(d),v=(null!==(f=l.onlyLabs)&&void 0!==f?f:[]).find(d),p=(null!==(m=l.allInOnes)&&void 0!==m?m:[]).find(d);if(O&&v||p)a(s+1,i);else if(O)O.associatedLabs.filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}));else if(v)v.associatedLectures.filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}));else{var g,x;(null!==(g=l.onlyLectures)&&void 0!==g?g:[]).filter(u).forEach((function(e){j(e)||e.associatedLabs.filter(u).forEach((function(t){j(t)||a(s+1,[].concat(Object(h.a)(i),[e.crn,t.crn]))}))})),(null!==(x=l.allInOnes)&&void 0!==x?x:[]).filter(u).forEach((function(e){j(e)||a(s+1,[].concat(Object(h.a)(i),[e.crn]))}))}}else if(l.sections.some(d))a(s+1,i);else{var y;Object.values(null!==(y=l.sectionGroups)&&void 0!==y?y:{}).forEach((function(e){if(null!=e){var t=e.sections.find(u);t&&!j(t)&&a(s+1,[].concat(Object(h.a)(i),[t.crn]))}}))}}}}else c.push(i)}(),c.map((function(e){var n={},c={};return r.iterateTimeBlocks([].concat(Object(h.a)(t),Object(h.a)(e)),(function(e,t){if(void 0!==t){var r=c[e],a=n[e];(null==a||a>t.start)&&(n[e]=t.start),(null==r||r<t.end)&&(c[e]=t.end)}})),{crns:e,startMap:n,endMap:c}}))}},{key:"sortCombinations",value:function(e,t){var n=this.sortingOptions[t];if(void 0===n)throw new B({message:"sorting option index was out of bounds",fields:{sortingOptionIndex:t,actualSortingOptionsLength:this.sortingOptions.length,term:this.term}});return e.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{factor:n.calculateFactor(e)})})).sort((function(e,t){return e.factor-t.factor}))}},{key:"iterateTimeBlocks",value:function(e,t){var n=this;e.forEach((function(e){var r=n.findSection(e);void 0!==r&&r.meetings.forEach((function(e){return e.period&&e.days.forEach((function(n){t(n,e.period)}))}))}))}}]),e}(),ke=new Ne({courses:{},caches:{periods:[],dateRanges:[],scheduleTypes:[],campuses:[],attributes:[],gradeBases:[],locations:[]},updatedAt:JSON.parse(JSON.stringify(new Date)),version:1},"197008"),Ee={terms:{},version:2},Te={versions:{}},De={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0},Ae=function(){return"sv_".concat(function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}(20))},_e=c.a.createContext([Object(d.a)({term:"",currentVersion:"",allVersionNames:[],oscar:ke},De),{setTerm:function(e){throw new B({message:"empty ScheduleContext.setTerm value being used",fields:{next:e}})},patchSchedule:function(e){throw new B({message:"empty ScheduleContext.patchSchedule value being used",fields:{patch:e}})},updateSchedule:function(){throw new B({message:"empty ScheduleContext.updateSchedule value being used"})},setCurrentVersion:function(e){throw new B({message:"empty ScheduleContext.setCurrentVersion value being used",fields:{next:e}})},addNewVersion:function(e,t){throw new B({message:"empty ScheduleContext.addNewVersion value being used",fields:{name:e,select:t}})},deleteVersion:function(e){throw new B({message:"empty ScheduleContext.deleteVersion value being used",fields:{id:e}})},renameVersion:function(e,t){throw new B({message:"empty ScheduleContext.renameVersion value being used",fields:{id:e,newName:t}})}}]),Ie=c.a.createContext([[],function(e){throw new B({message:"empty OverlayCrnsContext.setOverlayCrns value being used",fields:{next:e}})}]),Re=n(68);n(282);function Me(e){return[e.start,e.end].join("-")}function Fe(e){var t=e.className,n=e.crn,c=e.overlay,a=void 0!==c&&c,s=e.preview,i=e.capture,o=e.isAutosized,l=e.sizeInfo,u=Object(r.useContext)(_e),d=Object(m.a)(u,1)[0],j=d.oscar,b=d.colorMap,f=j.findSection(n);if(null==f)return null;var h=b[f.course.id],O=Q(h);return Object(G.jsxs)("div",{className:J("TimeBlocks",i&&"capture",a&&"overlay",t),children:[f.meetings.map((function(e,t){var r=e.period;if(null!=r){var c=Me(r);return e.days.map((function(a){var i=l[a];if(null!=i){var o=i[c];if(null!=o)return Object(G.jsx)("div",{className:J("meeting",O,"default",a),style:{top:"".concat((r.start-y)/780*100,"%"),height:"".concat((r.end-r.start)/780*100,"%"),width:"".concat(20/o.rowSize,"%"),left:"".concat(20*w.indexOf(a)+o.rowIndex*(20/o.rowSize),"%"),backgroundColor:h},"data-tip":!0,"data-for":n,children:!s&&Object(G.jsxs)("div",{className:"meeting-wrapper",children:[Object(G.jsxs)("div",{className:"ids",children:[Object(G.jsx)("span",{className:"course-id",children:f.course.id}),Object(G.jsxs)("span",{className:"section-id",children:["\xa0",f.id]})]}),Object(G.jsx)("span",{className:"period",children:Y(r)}),Object(G.jsx)("span",{className:"where",children:e.where}),Object(G.jsx)("span",{className:"instructors",children:e.instructors.join(", ")})]})},[t,a].join("-"))}}))}})),!o&&Object(G.jsx)(Re.a,{id:n,className:"tooltip",type:"dark",place:"top",effect:"solid",children:Object(G.jsx)("table",{children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Course Name"})}),Object(G.jsx)("td",{children:f.course.title})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Delivery Type"})}),Object(G.jsx)("td",{children:f.deliveryMode})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Course Number"})}),Object(G.jsx)("td",{children:f.crn})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Credit Hours"})}),Object(G.jsx)("td",{children:f.credits})]})]})})})]})}n(283);function Pe(e){var t=e.className,n=e.overlayCrns,c=e.preview,a=void 0!==c&&c,s=e.capture,i=void 0!==s&&s,o=e.isAutosized,l=void 0!==o&&o,u=Object(r.useContext)(_e),d=Object(m.a)(u,1)[0],j=d.pinnedCrns,b=d.oscar,f={},O=function e(t,n,r,c,a){n.has(r)||(n.add(r),t.filter((function(e){return e.period.start<c.end&&e.period.end>c.start})).forEach((function(r){r.rowSize=a,e(t,n,r.crn,r.period,a)})))},v=Array.from(new Set([].concat(Object(h.a)(j),Object(h.a)(n||[])))),p=function(e){var t=b.findSection(e);return null==t?0:Math.max.apply(Math,Object(h.a)(t.meetings.flatMap((function(e){var t=e.period;return null==t?[]:[t.end-t.start]}))))};return v.sort((function(e,t){return p(e)-p(t)})),v.forEach((function(e){var t=b.findSection(e);null!=t&&t.meetings.filter((function(e){return e.period})).forEach((function(t){var n=t.period;null!=n&&t.days.forEach((function(t){var r=Object.values(f).flatMap((function(e){var n;return null!=e?Object.values(null!==(n=e[t])&&void 0!==n?n:{}):[]})).flatMap((function(e){return null==e?[]:[e]})),c=r.filter((function(e){return e.period.start<n.end&&e.period.end>n.start})).reduce((function(e,t){return Math.max(e,t.rowSize+1)}),1);O(r,new Set,e,n,c);var a=f[e]||{};f[e]=a;var s=a[t]||{};a[t]=s,s[Me(n)]={period:n,crn:e,rowIndex:c-1,rowSize:c}}))}))})),Object(G.jsxs)("div",{className:J("Calendar",i&&"capture",a&&"preview",t),children:[!a&&Object(G.jsx)("div",{className:"times",children:new Array(13).fill(0).map((function(e,t){var n=y+60*t;return Object(G.jsx)("div",{className:"time",children:Object(G.jsx)("span",{className:"label",children:K(n)})},n)}))}),!a&&Object(G.jsx)("div",{className:"days",children:w.map((function(e){return Object(G.jsx)("div",{className:"day",children:Object(G.jsx)("span",{className:"label",children:e})},e)}))}),Object(G.jsxs)("div",{className:"meetings",children:[j.map((function(e){var t;return Object(G.jsx)(Fe,{crn:e,preview:a,capture:i,isAutosized:l,sizeInfo:null!==(t=f[e])&&void 0!==t?t:{}},e)})),n&&n.filter((function(e){return!j.includes(e)})).map((function(e){var t;return Object(G.jsx)(Fe,{crn:e,overlay:!a,preview:a,capture:i,isAutosized:!0,sizeInfo:null!==(t=f[e])&&void 0!==t?t:{}},e)}))]})]})}var Le=n(134);n(130),n(292);function Ve(){var e=Object(r.useContext)(_e),t=Object(m.a)(e,2),n=t[0],c=n.oscar,a=n.desiredCourses,s=n.pinnedCrns,i=n.excludedCrns,o=n.sortingOptionIndex,l=t[1].patchSchedule,u=Object(r.useContext)(Ie),d=Object(m.a)(u,2)[1],j=Object(r.useCallback)((function(){window.confirm("Are you sure to reset sections you selected?")&&l({pinnedCrns:[]})}),[l]),b=Object(r.useMemo)((function(){return c.getCombinations(a,s,i)}),[c,a,s,i]),f=Object(r.useMemo)((function(){return c.sortCombinations(b,o)}),[c,b,o]);return Object(G.jsxs)("div",{className:"CombinationContainer",children:[Object(G.jsx)($e,{onChange:function(e){return l({sortingOptionIndex:e})},current:o,options:c.sortingOptions.map((function(e,t){return{id:t,label:e.label}}))}),Object(G.jsx)(he,{className:"reset",onClick:j,disabled:0===s.length,children:"Reset Sections"}),Object(G.jsx)("div",{className:"scroller",children:Object(G.jsx)(Le.a,{children:function(e){var t=e.width,n=e.height;return Object(G.jsx)(Le.b,{width:t,height:n,style:{outline:"none"},rowCount:f.length,rowHeight:108,rowRenderer:function(e){var t=e.index,n=e.key,r=e.style,c=f[t].crns;return Object(G.jsx)("div",{className:"list-item",style:r,children:Object(G.jsxs)("div",{className:"combination",onMouseEnter:function(){return d(c)},onMouseLeave:function(){return d([])},onClick:function(){return l({pinnedCrns:[].concat(Object(h.a)(s),Object(h.a)(c))})},children:[Object(G.jsx)("div",{className:"number",children:t+1}),Object(G.jsx)(Pe,{className:"calendar-preview",overlayCrns:c,isAutosized:!0,preview:!0})]})},n)}})}})})]})}var Be=n(53),We=Symbol("__#Cancellable-cancelled-symbol"),He=function(){function e(){var t=this;Object(D.a)(this,e),this.isCancelled=void 0,this.cancel=void 0,this.promise=void 0,this.isCancelled=!1,this.cancel=function(){},this.promise=new Promise((function(e){t.cancel=function(){t.isCancelled=!0,e(We)}}))}return Object(A.a)(e,[{key:"perform",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([this.promise,t]);case 2:if((n=e.sent)!==We){e.next=5;break}return e.abrupt("return",{cancelled:!0});case 5:return e.abrupt("return",{cancelled:!1,value:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();n(293);function Ge(e){var t=e.className,n=e.courseId,c=e.onAddCourse,a=Object(r.useState)(!1),s=Object(m.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(!1),j=Object(m.a)(l,2),f=j[0],h=j[1],O=Object(r.useState)(!1),v=Object(m.a)(O,2),p=v[0],g=v[1],x=Object(r.useState)(null),y=Object(m.a)(x,2),w=y[0],C=y[1],S=Boolean(c),N=Object(r.useContext)(_e),k=Object(m.a)(N,2),E=k[0],T=E.oscar,D=E.term,A=E.desiredCourses,_=E.pinnedCrns,I=E.excludedCrns,R=E.colorMap,M=k[1].patchSchedule;Object(r.useEffect)((function(){var e=T.findCourse(n);if(null!=e&&!S){var t=new He;return function(){return r.apply(this,arguments)}().catch((function(t){W(new B({message:"error fetching course GPA",source:t,fields:{courseId:n,term:e.term}}))})),function(){t.cancel()}}function r(){return(r=Object(b.a)(u.a.mark((function n(){var r,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e){n.next=2;break}return n.abrupt("return");case 2:return r=e.fetchGpa(),n.next=5,t.perform(r);case 5:(c=n.sent).cancelled||C(c.value);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}),[S,T,n]);var F=Object(r.useCallback)((function(e){var t=Object(d.a)({},R);delete t[e.id],M({desiredCourses:A.filter((function(t){return t!==e.id})),pinnedCrns:_.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),excludedCrns:I.filter((function(t){return!e.sections.some((function(e){return e.crn===t}))})),colorMap:t})}),[A,_,I,R,M]),P=Object(r.useCallback)((function(e){var t=e.map((function(e){return e.crn}));M({excludedCrns:I.filter((function(e){return!t.includes(e)}))})}),[I,M]),L=T.findCourse(n);if(null==L)return null;var V,H=R[L.id],z=null!=H&&Q(H),U=T.version>1,K=null;U&&(K=null!==(V=L.prereqs)&&void 0!==V?V:[]);var Y={};L.sections.forEach((function(e){var t,n=Object(m.a)(e.instructors,1)[0],r=void 0===n?"Not Assigned":n,c=null!==(t=Y[r])&&void 0!==t?t:[];c.push(e),Y[r]=c}));var q=Object.keys(Y),X=q.filter((function(e){var t=Y[e];return null!=t&&t.every((function(e){return I.includes(e.crn)}))})),Z=q.filter((function(e){return!X.includes(e)})),$=function(e,t){h(e),o(t)},ee={icon:fe.u,styling:{transform:"rotate(90deg)"},onClick:function(){$(!0,!f||!i)}},te={icon:fe.o,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_"+"course_detail?cat_term_in=".concat(D,"&subj_code_in=")+"".concat(L.subject,"&crse_numb_in=").concat(L.number)},ne=L.sections.filter((function(e){return _.includes(e.crn)})),re=ne.reduce((function(e,t){return e+t.credits}),0);return Object(G.jsxs)("div",{className:J("Course",z,"default",t),style:{backgroundColor:H},children:[Object(G.jsxs)(ve,{label:[L.id,ne.map((function(e){return e.id})).join(", ")].join(" "),actions:S?[{icon:fe.t,onClick:c},U?ee:te]:[{icon:i?fe.c:fe.b,onClick:function(){return $(!1,!i)}},U?ee:te,{icon:fe.q,onClick:function(){return g(!p)}},{icon:fe.z,onClick:function(){return F(L)}}],children:[Object(G.jsxs)("div",{className:"course-row",children:[Object(G.jsx)("span",{className:"course-title",children:L.title}),Object(G.jsx)("span",{className:"section-crns",children:ne.map((function(e){return e.crn})).join(", ")})]}),!S&&Object(G.jsxs)("div",{className:"course-row",children:[Object(G.jsxs)("span",{className:"gpa",children:["Course GPA:"," ",null===w?"Loading...":w.averageGpa?w.averageGpa.toFixed(2):"N/A"]}),re>0&&Object(G.jsxs)("span",{className:"credits",children:[re," Credits"]})]}),p&&Object(G.jsx)(Jt,{className:"palette",onSelectColor:function(e){return M({colorMap:Object(d.a)(Object(d.a)({},R),{},Object(Be.a)({},n,e))})},color:null!==H&&void 0!==H?H:null,onMouseLeave:function(){return g(!1)}})]}),i&&!f&&Object(G.jsxs)("div",{className:J("hover-container","nested"),children:[Z.map((function(e){var t,n=0;return null!==w&&(n=w[e]),Object(G.jsx)(Wt,{color:H,name:e,sections:null!==(t=Y[e])&&void 0!==t?t:[],gpa:null===w?"Loading...":n?n.toFixed(2):"N/A"},e)})),X.length>0&&Object(G.jsx)("div",{className:"excluded-instructor-container",children:X.map((function(e){return Object(G.jsx)("span",{className:"excluded-instructor",onClick:function(){var t=Y[e];null!=t&&P(t)},children:e},e)}))})]}),i&&f&&null!==K&&Object(G.jsx)($t,{course:L,prereqs:K})]},L.id)}n(294);function ze(e){switch(e){case"deliveryMode":case"campus":return!0;default:return!1}}function Ue(e){var t=e.className,n=Object(r.useContext)(_e),c=Object(m.a)(n,2),a=c[0],s=a.oscar,i=a.desiredCourses,o=a.excludedCrns,l=a.colorMap,u=c[1].patchSchedule,j=Object(r.useState)(""),b=Object(m.a)(j,2),f=b[0],O=b[1],v=Object(r.useState)({deliveryMode:[],campus:[]}),p=Object(m.a)(v,2),g=p[0],x=p[1],y=Object(r.useState)(0),w=Object(m.a)(y,2),C=w[0],k=w[1],E=Object(r.useRef)(null),T=Object(r.useCallback)((function(e){var t=e.target.value.trim(),n=/^([A-Z]+)(\d.*)$/i.exec(t);if(null!=n){var r=n,c=Object(m.a)(r,3),a=c[1],s=c[2];t="".concat(a," ").concat(s)}O(t)}),[]),D=Object(r.useMemo)((function(){var e=/^([A-Z]+) ?((\d.*)?)$/i.exec(f.toUpperCase());if(!e)return[];var t=e,n=Object(m.a)(t,3),r=n[1],c=n[2];return k(0),s.courses.filter((function(e){var t=e.subject===r&&e.number.startsWith(c),n=function(e,t){return Object.entries(t).every((function(t){var n=Object(m.a)(t,2),r=n[0],c=n[1];return!ze(r)||0===c.length||e.sections.some((function(e){var t=e[r];return null!=t&&c.includes(t)}))}))}(e,g);return t&&n})).filter((function(e){return!i.includes(e.id)}))}),[s,f,g,i]),A=Object(r.useCallback)((function(e){var t;if(!i.includes(e.id)){var n=e.sections.filter((function(e){var t="Remote Asynchronous Course"===e.deliveryMode||e.meetings.length&&e.meetings.every((function(e){return e.days.length&&e.period})),n=function(e,t){return Object.entries(t).every((function(t){var n=Object(m.a)(t,2),r=n[0],c=n[1];if(0===c.length)return!0;if(!ze(r))return!0;var a=e[r];return null!=a&&c.includes(a)}))}(e,g);return!t||!n})).map((function(e){return e.crn}));u({desiredCourses:[].concat(Object(h.a)(i),[e.id]),excludedCrns:[].concat(Object(h.a)(o),Object(h.a)(n)),colorMap:Object(d.a)(Object(d.a)({},l),{},Object(Be.a)({},e.id,q()))}),O(""),null===(t=E.current)||void 0===t||t.focus()}}),[g,i,o,l,E,u]),_=Object(r.useCallback)((function(e){switch(e.key){case"Enter":var t=D[C];null!=t&&A(t);break;case"ArrowDown":k(Math.min(C+1,D.length-1));break;case"ArrowUp":k(Math.max(C-1,0));break;default:return}e.preventDefault()}),[D,A,C]),I=Object(r.useCallback)((function(e,t){var n=g[e];x(Object(d.a)(Object(d.a)({},g),{},Object(Be.a)({},e,n.includes(t)?n.filter((function(e){return e!==t})):[].concat(Object(h.a)(n),[t]))))}),[g]),R=Object(r.useCallback)((function(e){x(Object(d.a)(Object(d.a)({},g),{},Object(Be.a)({},e,[])))}),[g]),M=D[C];return Object(G.jsxs)("div",{className:J("CourseAdd",t),children:[Object(G.jsxs)("div",{className:"add",children:[Object(G.jsxs)("div",{className:"primary",children:[Object(G.jsx)(be.a,{className:J("icon",D.length>0&&"active"),fixedWidth:!0,icon:fe.t}),Object(G.jsxs)("div",{className:"keyword-wrapper",children:[M&&Object(G.jsx)("div",{className:J("keyword","autocomplete"),children:M.id}),Object(G.jsx)("input",{type:"text",ref:E,value:f,onChange:T,className:"keyword",placeholder:"XX 0000",onKeyDown:_})]})]}),[["Delivery Mode","deliveryMode",S],["Campus","campus",N]].map((function(e){var t=Object(m.a)(e,3),n=t[0],r=t[1],c=t[2];return Object(G.jsx)(Qe,{name:n,labels:c,selectedTags:g[r],onReset:function(){return R(r)},onToggle:function(e){return I(r,e)}},r)}))]}),D.length>0?D.map((function(e){return Object(G.jsx)(Ge,{className:J(e===M&&"active"),courseId:e.id,onAddCourse:function(){return A(e)}},e.id)})):Object(G.jsx)("div",{className:"disclaimer",children:"Disclaimer: GT Scheduler should be used as general reference only, and users are solely responsible for ensuring any information including registration restrictions."})]})}var Ke=n(181),Ye=n.n(Ke);n(295);function qe(){var e=Object(r.useContext)(_e),t=Object(m.a)(e,1)[0],n=t.oscar,c=t.desiredCourses;return Object(G.jsxs)("div",{className:"CourseContainer",children:[Object(G.jsxs)("div",{className:"scroller",children:[Object(G.jsx)("div",{className:"course-list",children:c.map((function(e){return Object(G.jsx)(Ge,{courseId:e},e)}))}),Object(G.jsx)(Ue,{className:"course-add"})]}),Object(G.jsxs)(he,{className:"updated-at",href:"https://github.com/gt-scheduler/crawler",children:["Course data fetched ",Ye()(n.updatedAt)]})]})}n(296);function Qe(e){var t=e.name,n=e.labels,c=e.selectedTags,a=e.onReset,s=e.onToggle,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return Object(G.jsxs)("div",{className:"CourseFilter",children:[Object(G.jsxs)("div",{className:J("header",c.length>0&&"active"),onClick:function(){return u(!l)},children:[!l&&c.length>0?Object(G.jsx)("div",{className:"name",children:ne(c.flatMap((function(e){var t=n[e];return null!=t?[t]:[]})),Object(G.jsx)("span",{className:"or",children:"or"}))}):Object(G.jsx)("div",{className:"name",children:t}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:l?fe.c:fe.b})]}),l&&Object(G.jsxs)("div",{className:"tag-container",children:[Object(G.jsx)("div",{className:J("tag",0===c.length&&"active"),onClick:a,children:"All"}),Object.keys(n).map((function(e){return Object(G.jsx)("div",{className:J("tag",c.includes(e)&&"active"),property:e,onClick:function(){return s(e)},children:n[e]},e)}))]})]})}function Xe(e){if(6!==e.length)return!1;var t=[e.substring(0,4),e.substring(4,6)],n=t[1],r=[Number(t[0]),Number(n)],c=r[0],a=r[1];return!(Number.isNaN(c)||c<1970||a>2100)&&!(Number.isNaN(a)||a<0||a>12)}function Je(e){if(!Xe(e))return"Unknown";var t=e.substring(0,4),n=function(){switch(Number.parseInt(e.substring(4),10)){case 1:return"Winter";case 2:case 3:return"Spring";case 5:case 6:return"Summer";case 8:case 9:return"Fall";default:return"Unknown"}}();return"".concat(n," ").concat(t)}n(297);function Ze(e){var t=e.style,n=e.className,c=e.size,a=void 0===c?"normal":c,s=-Object(r.useMemo)((function(){return Date.now()}),[])%800,i="number"===typeof a?a:{small:16,normal:40}[a];return Object(G.jsx)("svg",{className:J("spinner",n),style:Object(d.a)(Object(d.a)({},t),{},{"--size":"".concat(i,"px"),"--spinner-delay":"".concat(s.toFixed(3),"ms")}),viewBox:"0 0 50 50",children:Object(G.jsx)("circle",{cx:"25",cy:"25",r:"20"})})}n(298);function $e(e){var t=e.className,n=e.style,a=e.menuAnchor,s=void 0===a?"left":a,i=e.current,o=e.onChange,l=e.options,u=e.desiredItemWidth,d=void 0===u?null:u,j=e.onClickNew,b=e.newLabel,f=void 0===b?"New":b,h=Object(r.useState)(!1),O=Object(m.a)(h,2),v=O[0],p=O[1],g=l.find((function(e){return e.id===i})),x=g?g.label:"-",y=Object(r.useState)(null),w=Object(m.a)(y,2),C=w[0],S=w[1],N=Object(r.useState)(""),k=Object(m.a)(N,2),E=k[0],T=k[1],D=Object(r.useState)(null),A=Object(m.a)(D,2),_=A[0],I=A[1],R=function(){if(null===_)return!1;if(null===C)return!1;var e=E.trim();return!!_.onCommit(e,C)&&(S(null),T(""),I(null),!0)},M=function(){S(null),T(""),I(null)},F=function(e){null!==_&&null!==C&&("Enter"===e.key&&R()&&p(!1),"Escape"===e.key&&(M(),p(!1)))},P=function(e){(null===C||e)&&p(e)};return Object(G.jsxs)("div",{className:J("Button","Select",t,"anchor-".concat(s)),onClick:function(){return P(!v)},style:n,children:[Object(G.jsx)("div",{className:"text",children:x}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g}),v&&Object(G.jsx)("div",{className:"intercept",onClick:function(){return P(!1)}}),v&&Object(G.jsxs)("div",{className:"option-container",style:null!=d?{width:d}:{},children:[l.map((function(e){var t=e.id,n=e.label,r=e.actions,a=void 0===r?[]:r;return Object(G.jsxs)("div",{className:J("option",t===C&&"option--inputting"),children:[C===t?Object(G.jsx)(nt,{className:"option__input",value:E,onChange:function(e){return T(e.target.value)},placeholder:n,onKeyDown:F}):Object(G.jsx)(he,{className:"option__button",onClick:function(){return o(t)},children:n},t),a.map((function(e,r){return Object(G.jsx)(c.a.Fragment,{children:"button"===e.type?Object(G.jsx)(he,{className:"option__action-button",onClick:function(n){n.stopPropagation(),null!==C&&M(),e.onClick(t)},children:Object(G.jsx)(be.a,{fixedWidth:!0,icon:e.icon})}):Object(G.jsx)(G.Fragment,{children:t===C?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(he,{className:"option__action-button",onClick:function(e){e.stopPropagation(),R()},children:Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.i})}),Object(G.jsx)(he,{className:"option__action-button",onClick:function(e){e.stopPropagation(),M()},children:Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.y})})]}):Object(G.jsx)(he,{className:"option__action-button",onClick:function(r){r.stopPropagation(),S(t),T(n),I(e)},children:Object(G.jsx)(be.a,{fixedWidth:!0,icon:e.icon})})})},r)}))]},String(t))})),void 0!==j&&Object(G.jsx)("div",{className:"option",children:Object(G.jsxs)(he,{className:"option__button",onClick:j,children:[Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.t,style:{marginRight:8}}),f]})})]})]})}function et(e){var t=e.className,n=e.label,r=void 0===n?"Loading":n;return Object(G.jsxs)("div",{className:J("Button","Select",t,"disabled"),children:[Object(G.jsx)(Ze,{size:"small",style:{marginRight:12}}),Object(G.jsx)("div",{className:"text",children:r}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g})]})}function tt(e){var t=e.className,n=e.style,c=e.menuAnchor,a=void 0===c?"left":c,s=e.children,i=e.items,o=e.disabled,l=void 0!==o&&o,u=Object(r.useState)(!1),d=Object(m.a)(u,2),j=d[0],b=d[1];return Object(G.jsxs)("div",{className:J("Button","Select",l&&"disabled",t,"anchor-".concat(a)),onClick:function(){l||b(!j)},style:n,children:[s,j&&Object(G.jsx)("div",{className:"intercept",onClick:function(){return b(!1)}}),j&&Object(G.jsx)("div",{className:"option-container",children:i.map((function(e,t){var n=e.label,r=e.icon,c=e.onClick;return Object(G.jsx)("div",{className:J("option",null==c&&"option--text"),children:null!=c?Object(G.jsxs)(he,{className:"option__button",onClick:c,children:[null!=r&&Object(G.jsx)(be.a,{fixedWidth:!0,icon:r,style:{marginRight:8}}),n]}):Object(G.jsxs)("div",{className:"option__text",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[null!=r&&Object(G.jsx)(be.a,{fixedWidth:!0,icon:r,style:{marginRight:8}}),n]})},t)}))})]})}function nt(e){var t=e.className,n=e.style,c=e.value,a=e.onChange,s=e.placeholder,i=e.onKeyDown,o=Object(r.useRef)(null);return Object(r.useEffect)((function(){null!==o.current&&(o.current.focus(),o.current.select())}),[]),Object(G.jsx)("input",{className:t,style:n,value:c,onChange:a,placeholder:s,onKeyDown:i,ref:o,type:"text"})}function rt(e){var t=Object(r.useState)(!1),n=Object(m.a)(t,2),c=n[0],a=n[1];return Object(r.useLayoutEffect)((function(){try{var t=window.matchMedia(e);t.matches!==c&&a(t.matches);var n=function(){return a(t.matches)},r=null;return null!=t.addEventListener?(t.addEventListener("change",n),r="addEventListener"):null!=t.addListener?(t.addListener(n),r="addListener"):r=null,function(){try{switch(r){case"addEventListener":t.removeEventListener("change",n);break;case"addListener":t.removeListener(n)}}catch(a){W(new B({message:"could not run useMedia query cleanup in layout effect cleanup",source:a,fields:{previousQuery:e,previousMatches:c}}))}}}catch(s){return W(new B({message:"could not run useMedia query in layout effect",source:s,fields:{query:e,matches:c}})),function(){}}}),[c,e]),c}function ct(e){var t="number"===typeof e?"".concat(e,"px"):e;return rt("(min-width: ".concat(t,")"))}var at=n(185),st=n(182),it=n.n(st),ot=n(346),lt=n(347);function ut(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}n(308);var dt=["children"],jt=["children"];function bt(e){var t=e.children,n=e.buttons,c=void 0===n?[]:n,a=e.show,s=e.onHide,i=e.width,o=void 0===i?480:i,l=e.className,u=e.style,j=e.preserveChildrenWhileHiding,b=void 0===j||j,f=ut(null!==t&&void 0!==t?t:Object(G.jsx)(G.Fragment,{})),h=ut(a),m=t;return a||!0!==h||b&&null!=f&&(m=f),Object(G.jsx)(ot.a,{show:a,onHide:s,onBackdropClick:s,className:"modal-positioner",renderBackdrop:function(e){return Object(G.jsx)("div",Object(d.a)(Object(d.a)({},e),{},{className:"modal-backdrop"}))},transition:mt,backdropTransition:ht,children:Object(G.jsxs)("div",{className:J("modal",l),style:Object(d.a)({width:o},u),children:[Object(G.jsx)("div",{className:"modal__content",children:m}),c.length>0&&Object(G.jsx)("div",{className:"modal__footer",children:c.map((function(e,t){return Object(r.createElement)(ft,Object(d.a)(Object(d.a)({},e),{},{key:t}))}))})]})})}function ft(e){var t=e.label,n=e.onClick,r=e.cancel,c=e.className,a=e.style;return Object(G.jsx)("button",{className:J("modal__button",r&&"modal__button--cancel",!r&&"modal__button--normal",c),type:"button",onClick:n,style:a,children:t})}function ht(e){var t=e.children,n=Object(T.a)(e,dt);return Object(G.jsx)(lt.a,Object(d.a)(Object(d.a)({},n),{},{timeout:200,classNames:"modal-transition--fade",children:t}))}function mt(e){var t=e.children,n=Object(T.a)(e,jt);return Object(G.jsx)(lt.a,Object(d.a)(Object(d.a)({},n),{},{timeout:200,classNames:"modal-transition--fade-zoom",children:t}))}var Ot=n(10),vt=(n(170),n(337),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRY_VERSION:"f466af7e4a65917c7fa3e75a9d73c20703bdd336",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ"}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRY_VERSION:"f466af7e4a65917c7fa3e75a9d73c20703bdd336",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ"}).REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRY_VERSION:"f466af7e4a65917c7fa3e75a9d73c20703bdd336",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ"}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRY_VERSION:"f466af7e4a65917c7fa3e75a9d73c20703bdd336",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ"}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRY_VERSION:"f466af7e4a65917c7fa3e75a9d73c20703bdd336",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ"}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SENTRY_VERSION:"f466af7e4a65917c7fa3e75a9d73c20703bdd336",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ"}).REACT_APP_FIREBASE_APP_ID}),pt=null!=vt.apiKey&&""!==vt.apiKey,gt=null,xt=null,yt=null;if(pt){var wt=Ot.a.initializeApp(vt);gt=wt.auth(),xt=wt.firestore(),yt=xt.collection("schedules"),gt.setPersistence(Ot.a.auth.Auth.Persistence.LOCAL).catch((function(e){W(new B({message:"error when configuring firebase auth persistence",source:e}))}))}var Ct=[Ot.a.auth.EmailAuthProvider.PROVIDER_ID,Ot.a.auth.GoogleAuthProvider.PROVIDER_ID,Ot.a.auth.GithubAuthProvider.PROVIDER_ID],St=(n(309),{signInFlow:"popup",signInOptions:Ct,callbacks:{signInSuccessWithAuthResult:function(){return!1}}});function Nt(){var e=40*Ct.length;return Ct.length>=2&&(e+=15*(Ct.length-1)),Object(G.jsxs)("div",{className:"login-modal-content",children:[Object(G.jsx)("h1",{children:"Sign in"}),Object(G.jsx)("p",{className:"login-modal-content__body",children:"Sign in using one of the below identity providers to start syncing your schedules across devices."}),Object(G.jsx)("div",{style:{minHeight:e},children:Object(G.jsx)(it.a,{className:"login-modal-content__firebase-ui",uiConfig:St,firebaseAuth:Ot.a.auth()})})]})}function kt(e){var t=e.show,n=e.onHide;return Object(r.useEffect)((function(){if(t)return Ot.a.auth().onAuthStateChanged((function(e){null!==e&&n()}))}),[t,n]),Object(G.jsx)(bt,{show:t,onHide:n,buttons:[{label:"Cancel",onClick:function(){return n()},cancel:!0}],children:Object(G.jsx)(Nt,{})})}var Et=n(63);function Tt(e,t){var n="ff-".concat(e,"-").concat(t),r=Object(Et.a)(n,!1);return Object(m.a)(r,1)[0]}n(310);function Dt(e){var t,n,c,a=e.state,s=e.className,i=e.style,o=Object(r.useState)(!1),l=Object(m.a)(o,2),u=l[0],d=l[1],j=Object(r.useCallback)((function(){return d(!1)}),[]);if(!Tt("2021-10-26","account-sync"))return null;if(!pt)return null;switch(a.type){case"loading":t=[],n=Object(G.jsx)(Ze,{size:24}),c=!0;break;case"signedIn":t=[{label:Object(G.jsx)(_t,{state:a})},{label:"Sign out",icon:fe.w,onClick:function(){return a.signOut()}}],n=Object(G.jsx)(At,{state:a}),c=!1;break;case"signedOut":t=[{label:"Sign in",icon:fe.v,onClick:function(){d(!0)}}],n=Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.B,className:"account-dropdown__signed-out-icon"}),c=!1;break;default:return null}return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(tt,{disabled:c,menuAnchor:"right",items:t,className:J("account-dropdown",s),style:i,children:Object(G.jsxs)("div",{className:"account-dropdown__content",children:[Object(G.jsx)("div",{className:"account-dropdown__circle",children:n}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g})]})}),Object(G.jsx)(kt,{show:u,onHide:j})]})}function At(e){var t,n,r=e.state,c=function(e){var t=/\b\w/g,n=e.match(t);return null===n?"":n.join("")}(null!==(t=null!==(n=r.name)&&void 0!==n?n:r.email)&&void 0!==t?t:r.id);return Object(G.jsx)("span",{className:"account-dropdown__user-initials",style:{fontSize:c.length<=1?22:2===c.length?19:17},children:c.slice(0,3)})}function _t(e){var t,n=e.state;if(null!==n.name&&null!==n.email)t=Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("strong",{children:n.name})," (",n.email,")"]});else if(null!==n.name||null!==n.email){var r,c;t="".concat(null!==(r=null!==(c=n.name)&&void 0!==c?c:n.email)&&void 0!==r?r:"")}else t=n.id;var a="";return null!==n.provider&&(a=" via ".concat(n.provider)),Object(G.jsxs)("div",{children:[Object(G.jsx)("span",{className:"account-dropdown__signed-in-label-faded",children:"Signed in as:"}),Object(G.jsx)("br",{}),t,Object(G.jsx)("br",{}),Object(G.jsx)("span",{className:"account-dropdown__signed-in-label-faded",children:a})]})}n(311);function It(e){var t=e.className,n=e.style,c=e.accountState,a=e.onCopyCrns,s=void 0===a?function(){}:a,i=e.enableCopyCrns,o=void 0!==i&&i,l=e.onExportCalendar,u=void 0===l?function(){}:l,d=e.enableExportCalendar,j=void 0!==d&&d,b=e.onDownloadCalendar,f=void 0===b?function(){}:b,h=e.enableDownloadCalendar,O=void 0!==h&&h,v=Object(r.useContext)(pe),p=Object(m.a)(v,2),g=p[0],x=p[1],y=Object(r.useCallback)((function(){x("light"===g?"dark":"light")}),[g,x]),w=o||O||j,C=[];O&&C.push({label:"Download image",icon:fe.k,onClick:f}),j&&C.push({label:"ICS (Calendar) file",icon:fe.f,onClick:u}),o&&C.push({label:"Copy CRNs to clipboard",icon:fe.r,onClick:s});var S=rt("(min-width: ".concat(600,"px) and (max-width: ").concat(1200,"px)"));return Object(G.jsxs)("div",{className:J("header-action-bar",t),style:n,children:[Object(G.jsx)(tt,{disabled:!w,items:C,menuAnchor:S?"right":"left",className:"header-action-bar__button",children:Object(G.jsxs)("div",{className:"header-action-bar__export-dropdown-content",children:[Object(G.jsx)(be.a,{className:"header-action-bar__button-icon",fixedWidth:!0,icon:fe.k}),Object(G.jsx)("div",{className:"header-action-bar__button-text",children:"Export"}),Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g})]})}),Object(G.jsxs)(he,{onClick:y,className:"header-action-bar__button",children:[Object(G.jsx)(be.a,{className:"header-action-bar__button-icon",fixedWidth:!0,icon:fe.a}),Object(G.jsx)("div",{className:"header-action-bar__button-text",children:"Theme"})]}),Object(G.jsxs)(he,{href:"https://github.com/gt-scheduler/website",className:"header-action-bar__button",children:[Object(G.jsx)(be.a,{className:"header-action-bar__button-icon",fixedWidth:!0,icon:at.a}),Object(G.jsx)("div",{className:"header-action-bar__button-text",children:"GitHub"})]}),Object(G.jsx)(Dt,{state:c})]})}n(312);function Rt(e){var t=e.totalCredits,n=void 0===t?null:t,r=e.currentTab,c=e.onChangeTab,a=e.onToggleMenu,s=e.tabs,i=e.onCopyCrns,o=void 0===i?function(){}:i,l=e.enableCopyCrns,u=void 0!==l&&l,d=e.onExportCalendar,j=void 0===d?function(){}:d,b=e.enableExportCalendar,f=void 0!==b&&b,h=e.onDownloadCalendar,m=void 0===h?function(){}:h,O=e.enableDownloadCalendar,v=void 0!==O&&O,p=e.termsState,g=e.versionsState,x=e.accountState,y=!ct(E),w=ct(600);return Object(G.jsxs)("div",{className:"Header",children:[y&&Object(G.jsx)(he,{className:"nav-menu-button",onClick:a,children:Object(G.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.e})}),Object(G.jsxs)(he,{className:"logo",children:[Object(G.jsx)("span",{className:"gt",children:"GT "}),Object(G.jsx)("span",{className:"scheduler",children:"Scheduler"})]}),"loaded"===p.type?Object(G.jsx)($e,{onChange:p.onChangeTerm,current:p.currentTerm,options:p.terms.map((function(e){return{id:e,label:Je(e)}})),className:"semester"}):Object(G.jsx)(et,{}),Object(G.jsx)(Mt,{state:g}),Object(G.jsxs)("span",{className:"credits",children:[null===n?Object(G.jsx)(Ze,{size:"small",style:{marginRight:8}}):n," ","Credits"]}),!y&&Object(G.jsx)("div",{className:"tabs",children:s.map((function(e,t){return Object(G.jsx)(on,{active:t===r,onClick:function(){return c(t)},label:e},t)}))}),w&&Object(G.jsx)(It,{accountState:x,onCopyCrns:o,enableCopyCrns:u,onExportCalendar:j,enableExportCalendar:f,onDownloadCalendar:m,enableDownloadCalendar:v})]})}function Mt(e){var t,n=e.state,c=Object(r.useState)(null),a=Object(m.a)(c,2),s=a[0],i=a[1];return Tt("2021-09-14","schedule-versions")?"loading"===n.type?Object(G.jsx)(et,{}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)($e,{className:"version-switch",desiredItemWidth:260,newLabel:"New Schedule",onChange:n.setCurrentVersion,current:n.currentVersion,options:n.allVersionNames.map((function(e){var t=[];return t.push({type:"edit",icon:fe.s,onCommit:function(t){return n.renameVersion(e.id,t),!0}}),n.allVersionNames.length>=2&&t.push({type:"button",icon:fe.A,onClick:function(){i(e)}}),{id:e.id,label:e.name,actions:t}})),onClickNew:function(){n.addNewVersion(function(e){var t=new Set(e);if(0===t.size)return"Primary";var n,r=Object(j.a)(le);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(!t.has(c))return c}}catch(a){r.e(a)}finally{r.f()}return"New version"}(n.allVersionNames.map((function(e){return e.name}))),!0)}}),Object(G.jsx)(bt,{show:null!=s,onHide:function(){return i(null)},buttons:[{label:"Cancel",cancel:!0,onClick:function(){return i(null)}},{label:"Delete",onClick:function(){null!=s&&n.deleteVersion(s.id),i(null)}}],preserveChildrenWhileHiding:!0,children:Object(G.jsxs)("div",{style:{textAlign:"center"},children:[Object(G.jsx)("h2",{children:"Delete confirmation"}),Object(G.jsxs)("p",{children:["Are you sure you want to delete schedule \u201c",null!==(t=null===s||void 0===s?void 0:s.name)&&void 0!==t?t:"<unknown>","\u201d?"]})]})})]}):null}var Ft=n(186),Pt=n.n(Ft),Lt=c.a.createContext({type:"signedOut"});function Vt(e){var t=Object(r.useContext)(_e),n=Object(m.a)(t,1)[0],c=n.oscar,a=n.pinnedCrns,s=Object(r.useContext)(pe),i=Object(m.a)(s,1)[0],o=Object(r.useContext)(Lt),l=Object(r.useCallback)((function(){try{!function(e,t){var n=H();if(null==n)return window.alert("This browser does not support calendar export"),void W(new B({message:"ics() returned null or undefined"}));t.forEach((function(t){var r=e.findSection(t);null!=r&&r.meetings.forEach((function(e){if(e.period&&e.days.length){for(var t=e.dateRange,c=t.from,a=t.to,s=r.course.id,i=r.course.title,o=e.where,l=new Date(c.getTime());!e.days.includes(null!==(u=["-","M","T","W","R","F","-"][l.getDay()])&&void 0!==u?u:"-");){var u;l.setDate(l.getDate()+1)}l.setHours(e.period.start/60,e.period.start%60);var d=new Date(l.getTime());d.setHours(e.period.end/60,e.period.end%60);var j={freq:"WEEKLY",until:a,byday:e.days.map((function(e){var t;return null!==(t={M:"MO",T:"TU",W:"WE",R:"TH",F:"FR"}[e])&&void 0!==t?t:null})).filter((function(e){return!!e}))};n.addEvent(s,i,o,l,d,j)}}))})),n.download("gt-scheduler")}(c,a)}catch(e){W(new B({message:"exporting courses to calendar failed",fields:{pinnedCrns:a,term:c.term}}))}}),[c,a]),u=Object(r.useCallback)((function(){var t=e.current;if(null!=t)try{!function(e,t){var n=window.getComputedStyle(e).getPropertyValue("left");g.a.toBlob(e,{width:2*e.offsetWidth,height:2*e.offsetHeight,style:{transform:"scale(".concat(2,")"),"transform-origin":"".concat(n," 0px"),"background-color":"light"===t?"#FFFFFF":"#333333"}}).then((function(e){return Object(x.saveAs)(e,"schedule.png")})).catch((function(e){return W(new B({message:"could not take screenshot of shadow calendar for schedule export",source:e}))}))}(t,i)}catch(n){W(new B({message:"downloading shadow calendar as PNG failed",fields:{pinnedCrns:a,theme:i,term:c.term}}))}}),[e,i,a,c.term]);return{onCopyCrns:Object(r.useCallback)((function(){try{Pt()(a.join(", "))}catch(e){W(new B({message:"copying CRNs to clipboard failed",fields:{pinnedCrns:a,term:c.term}}))}}),[a,c.term]),enableCopyCrns:a.length>0,onExportCalendar:l,enableDownloadCalendar:a.length>0,onDownloadCalendar:u,enableExportCalendar:a.length>0,accountState:o}}n(314);function Bt(e){var t=e.currentTab,n=e.onChangeTab,c=e.onToggleMenu,a=e.tabs,s=e.captureRef,i=Object(r.useContext)(_e),o=Object(m.a)(i,2),l=o[0],u=l.term,j=l.oscar,b=l.pinnedCrns,f=l.allVersionNames,h=l.currentVersion,O=o[1],v=O.setTerm,p=O.setCurrentVersion,g=O.addNewVersion,x=O.deleteVersion,y=O.renameVersion,w=Object(r.useContext)(ge),C=Object(r.useMemo)((function(){return b.reduce((function(e,t){var n=j.findSection(t);return e+(null!=n?n.credits:0)}),0)}),[b,j]),S=Vt(s);return Object(G.jsx)(Rt,Object(d.a)(Object(d.a)({totalCredits:C,currentTab:t,onChangeTab:n,onToggleMenu:c,tabs:a},S),{},{termsState:{type:"loaded",terms:w,currentTerm:u,onChangeTerm:v},versionsState:{type:"loaded",allVersionNames:f,currentVersion:h,setCurrentVersion:p,addNewVersion:g,deleteVersion:x,renameVersion:y}}))}n(315);function Wt(e){var t=e.className,n=e.color,c=e.name,a=e.sections,s=e.gpa,i=Object(r.useContext)(_e),o=Object(m.a)(i,2),l=o[0],u=l.pinnedCrns,d=l.excludedCrns,j=o[1].patchSchedule,b=Object(r.useState)(!0),f=Object(m.a)(b,2),O=f[0],v=f[1],p=Object(r.useCallback)((function(e){j({excludedCrns:d.filter((function(t){return t!==e.crn}))})}),[d,j]),g=Object(r.useCallback)((function(e){var t=e.map((function(e){return e.crn}));j({excludedCrns:$([].concat(Object(h.a)(d),Object(h.a)(t))),pinnedCrns:u.filter((function(e){return!t.includes(e)}))})}),[d,u,j]),x=a.some((function(e){return u.includes(e.crn)})),y=a.filter((function(e){return!d.includes(e.crn)})),w=a.filter((function(e){return d.includes(e.crn)})),C="exclude-instructor-".concat(c.replace(" ","-"));return Object(G.jsxs)("div",{className:J("Instructor",!O&&"divider-bottom",t),children:[Object(G.jsx)(ve,{label:c||"Not Assigned",actions:[{icon:O?fe.c:fe.b,onClick:function(){return v(!O)}},["TBA","Not Assigned"].includes(c)?null:{icon:fe.n,href:"http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=".concat(encodeURIComponent(Z(c)))},{icon:fe.d,dataTip:!0,dataFor:C,onClick:function(){return g(a)}}],style:x?{backgroundColor:n}:void 0,children:Object(G.jsx)("div",{className:"instructor-row",children:Object(G.jsxs)("span",{className:"gpa",children:["Instructor GPA: ",s||"N/A"]})})}),Object(G.jsx)(Re.a,{id:C,type:"dark",place:"bottom",effect:"solid",children:"Exclude from Combinations"}),O&&Object(G.jsxs)("div",{className:J("section-container","nested"),children:[y.map((function(e){var t=u.includes(e.crn);return Object(G.jsx)(sn,{className:"divider-bottom",section:e,color:n,pinned:t},e.id)})),w.length>0&&Object(G.jsx)("div",{className:"excluded-section-container",children:w.map((function(e){return Object(G.jsx)("span",{className:"excluded-section",onClick:function(){return p(e)},children:e.id},e.id)}))})]})]})}var Ht=n(112);n(316),n(317);function Gt(e){var t,n=e.locations,c=Object(r.useState)({latitude:33.7765,longitude:-84.3963,zoom:15}),a=Object(m.a)(c,2),s=a[0],i=a[1],o=[],l=new Map;n.forEach((function(e){if(null===e.coords)o.push(e);else if(l.has(e.coords)){var t;null===(t=l.get(e.coords))||void 0===t||t.push(e)}else l.set(e.coords,[e])}));var u=Object(r.useContext)(pe),d="dark"===Object(m.a)(u,1)[0]?"mapbox://styles/gt-scheduler/cktc4yzhm018w17ql65xa802o":"mapbox://styles/gt-scheduler/cktc4y61t018918qjynvngozg";return Object(G.jsx)("div",{className:"mapbox",children:Object(G.jsxs)(Ht.c,{height:"100%",width:"100%",viewState:s,mapStyle:d,mapboxApiAccessToken:null!==(t="pk.eyJ1IjoiZ3Qtc2NoZWR1bGVyIiwiYSI6ImNrdGhyNHh1ajA5MzMydXBkNGF4MDd2em8ifQ.SX-p-U0LOfmEgu5nHu52SQ")?t:"",onViewStateChange:function(e){var t=e.viewState;return i(t)},children:[Array.from(l.entries()).map((function(e,t){var n=Object(m.a)(e,2),r=n[0],c=n[1];return Object(G.jsxs)(Ht.a,{latitude:r.lat,longitude:r.long,children:[Object(G.jsx)(be.a,{icon:fe.p,className:"pin-icon"}),Object(G.jsx)("div",{className:"pin-text",children:c.map((function(e){return Object(G.jsxs)("div",{children:[e.id," ",e.section]},e.id+e.section)}))})]},t)})),o.length>0&&Object(G.jsxs)("div",{className:"unknown-container",children:[Object(G.jsx)("b",{children:"Undetermined"}),o.map((function(e,t){return Object(G.jsxs)("div",{className:"class",children:[e.id," ",e.section]},t)}))]}),Object(G.jsx)("div",{className:"navigation",children:Object(G.jsx)(Ht.b,{showZoom:!0,showCompass:!0})})]})})}n(318);function zt(e){switch(e){case"M":case"T":case"W":case"R":case"F":return!0;default:return!1}}var Ut=["#FCB9AA","#FFDBCC","#ECEAE4","#A2E1DB","#55CBCD"],Kt=["#5e3931","#704737","#685a30","#3c6962","#286061"];function Yt(e){var t=e.courseDateMap,n=e.activeDay,c=e.setActiveDay,a=["Monday","Tuesday","Wednesday","Thursday","Friday"],s=Object(r.useContext)(pe),i="dark"===Object(m.a)(s,1)[0]?Kt:Ut,o=function(e){if(Math.floor(e/60)>=12){var t=Math.floor(e/60)%12,n=0===t?"12":t,r=String(e%60).padStart(2,"0");return"".concat(n,":").concat(r,"pm")}var c=Math.floor(e/60),a=String(e%60).padStart(2,"0");return"".concat(c,":").concat(a,"am")};return Object(G.jsx)("div",{className:"date-container",children:Object.keys(t).map((function(e,r){var s;if(!zt(e))return null;var l=t[e];return Object(G.jsxs)("div",{className:J("date",Q(i[r]),"default"),style:{backgroundColor:i[r]},children:[Object(G.jsx)(ve,{label:null!==(s=a[r])&&void 0!==s?s:"",className:"day-select",actions:[{icon:e===n?fe.c:fe.b,onClick:function(){return c(e!==n?e:"")}}]}),n===e&&Object(G.jsx)("div",{className:"dropdown-content",children:null==l||0===l.length?Object(G.jsx)("div",{className:"course-content",style:{padding:8},children:"No classes this day!"}):l.map((function(e){var t="TBA",n=e.times;if(null!=n){var r=n.start,c=n.end;t="".concat(o(r)," - ").concat(o(c))}return Object(G.jsxs)("div",{className:"course-content",children:[Object(G.jsx)("div",{className:"course-id",children:e.id}),Object(G.jsx)("span",{className:"course-row",children:e.title}),Object(G.jsxs)("span",{className:"course-row",children:[e.daysOfWeek," ",t]})]},e.id)}))})]},e)}))})}n(319);function qt(){var e=Object(r.useContext)(_e),t=Object(m.a)(e,1)[0],n=t.oscar,c=t.pinnedCrns,a=Object(r.useState)("M"),s=Object(m.a)(a,2),i=s[0],o=s[1],l={M:[],T:[],W:[],R:[],F:[]};c.forEach((function(e){var t=n.findSection(e);if(null!=t){var r=t.meetings;if(0!==r.length){var c=r[0];c.days.forEach((function(e){var n;if(zt(e)){var r=null!==(n=l[e])&&void 0!==n?n:[];r.push({id:t.course.id,title:t.course.title,times:c.period,daysOfWeek:c.days,section:t.id,coords:c.location}),l[e]=r}}))}}}));var u={M:[],T:[],W:[],R:[],F:[]};Object.entries(l).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];zt(n)&&(u[n]=r.sort((function(e,t){var n,r,c,a;return(null!==(n=null===(r=e.times)||void 0===r?void 0:r.start)&&void 0!==n?n:0)-(null!==(c=null===(a=t.times)||void 0===a?void 0:a.start)&&void 0!==c?c:0)})))}));var d=[];return""!==i&&(d=u[i]),Object(G.jsxs)("div",{className:"map-content",children:[Object(G.jsx)(Yt,{courseDateMap:u,activeDay:i,setActiveDay:o}),Object(G.jsx)(Gt,{locations:d})]})}n(320);function Qt(e){var t=e.open,n=e.onClose,r=e.children;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:J("drawer-overlay",t&&"open"),tabIndex:-1,onClick:n,role:"presentation"}),Object(G.jsxs)("div",{className:J("drawer-outer",t&&"open"),children:[Object(G.jsx)("div",{className:"drawer-header",children:Object(G.jsx)(he,{className:"drawer-close",onClick:n,children:Object(G.jsx)(be.a,{className:"icon",fixedWidth:!0,icon:fe.y})})}),r]})]})}n(321);function Xt(e){var t=e.items,n=e.currentItem,r=e.onChangeItem,c=e.className,a=e.style;return Object(G.jsx)("div",{className:J("nav-menu",c),style:a,children:t.map((function(e,t){return Object(G.jsx)(he,{className:J("nav-button",n===t&&"active"),onClick:function(){return r(t)},children:e},t)}))})}n(322);function Jt(e){var t=e.className,n=e.color,r=e.onSelectColor,c=e.onMouseLeave;return Object(G.jsx)("div",{className:J("Palette",t),onMouseLeave:c,children:C.map((function(e,t){return Object(G.jsx)("div",{className:"palette-row",children:e.map((function(e){return Object(G.jsx)("div",{className:J("color",e===n&&"frame"),style:{backgroundColor:e},onClick:function(){return r(e)}},e)}))},t)}))})}var Zt={fontSize:"0.9em",padding:"8px"};function $t(e){var t,n=e.course,r=e.prereqs;if(0===r.length)t=Object(G.jsx)(cn,{});else{var c=r,a=Object(f.a)(c),s=a[0],i=a.slice(1);switch(s){case"and":t=Object(G.jsx)(nn,{clause:["and"].concat(Object(h.a)(i))});break;case"or":t=1===i.length?Object(G.jsx)(nn,{clause:i[0]}):Object(G.jsx)(G.Fragment,{children:i.map((function(e,t){return Object(G.jsx)(tn,{clause:e,index:t},t)}))});break;default:W(new B({message:"invalid operator found in top-level prereqs",fields:{courseId:n.id,operator:s,term:n.term}})),t=null}}return Object(G.jsxs)("div",{className:J("hover-container","nested"),children:[Object(G.jsx)(en,{course:n}),Object(G.jsx)("div",{className:J("nested"),children:t})]})}function en(e){var t=e.course,n=Object(r.useContext)(_e),c=Object(m.a)(n,1)[0].term;return Object(G.jsx)(ve,{className:J("hover-container"),label:"Prerequisites",actions:[{icon:fe.o,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_"+"course_detail?cat_term_in=".concat(c,"&subj_code_in=")+"".concat(t.subject,"&crse_numb_in=").concat(t.number)}]})}function tn(e){var t=e.clause,n=e.index,c=Object(r.useState)(!0),a=Object(m.a)(c,2),s=a[0],i=a[1];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ve,{className:J("hover-container"),label:"Option ".concat(n+1),actions:[{icon:s?fe.c:fe.b,onClick:function(){return i(!s)}}]}),s&&Object(G.jsx)("div",{className:J("nested"),children:Object(G.jsx)(nn,{clause:t})})]})}function nn(e){var t=e.clause;if(!Array.isArray(t))return Object(G.jsx)(rn,{clause:t,operator:"and",isLast:!0});var n=Object(f.a)(t),r=n[0],c=n.slice(1);return Object(G.jsx)(G.Fragment,{children:c.map((function(e,t){return Object(G.jsx)(rn,{clause:e,operator:r,isLast:t===c.length-1},t)}))})}function rn(e){var t=e.clause,n=e.operator,r=e.isLast;return Object(G.jsxs)("div",{className:J("divider-bottom"),style:Zt,children:[re(t)," ",!r&&Object(G.jsx)("strong",{children:n})]})}function cn(){return Object(G.jsx)("div",{style:Zt,children:"No prerequisites. You're good to go!"})}function an(){var e=!ct(E),t=Object(r.useState)([]),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(0),i=Object(m.a)(s,2),o=i[0],l=i[1],u=Object(r.useMemo)((function(){return[c,a]}),[c,a]);return Object(G.jsxs)(G.Fragment,{children:[e&&Object(G.jsx)("div",{className:"tab-container",children:["Courses","Combinations","Calendar"].map((function(e,t){return Object(G.jsx)(he,{className:J("tab",o===t&&"active"),onClick:function(){return l(t)},children:e},e)}))}),Object(G.jsx)(Ie.Provider,{value:u,children:Object(G.jsxs)("div",{className:"main",children:[(!e||0===o)&&Object(G.jsx)(qe,{}),(!e||1===o)&&Object(G.jsx)(Ve,{}),(!e||2===o)&&Object(G.jsx)("div",{className:"calendar-container",children:Object(G.jsx)(Pe,{className:"calendar",overlayCrns:c})})]})})]})}n(323);function sn(e){var t,n,c,a,s=e.className,i=e.section,o=e.pinned,l=e.color,u=Object(r.useContext)(_e),d=Object(m.a)(u,2),j=d[0],b=j.term,f=j.pinnedCrns,O=j.excludedCrns,v=d[1].patchSchedule,p=Object(r.useContext)(Ie),g=Object(m.a)(p,2)[1],x=Object(r.useState)([[],0]),y=Object(m.a)(x,2),w=y[0],C=y[1],N=!1,k=Object(r.useCallback)((function(e){v({excludedCrns:[].concat(Object(h.a)(O),[e.crn]),pinnedCrns:f.filter((function(t){return t!==e.crn}))})}),[f,O,v]),E=Object(r.useCallback)((function(e){f.includes(e.crn)?v({pinnedCrns:f.filter((function(t){return t!==e.crn}))}):v({pinnedCrns:[].concat(Object(h.a)(f),[e.crn]),excludedCrns:O.filter((function(t){return t!==e.crn}))})}),[f,O,v]),T="section-exclude-".concat(i.id);return Object(G.jsxs)(ve,{label:i.id,className:J("Section",s),onMouseEnter:function(){return g([i.crn])},onMouseLeave:function(){return g([])},actions:[{icon:o?fe.y:fe.x,onClick:function(){return E(i)}},{icon:fe.h,dataTip:!0,dataFor:i.id,href:"https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=".concat(b,"&crn_in=").concat(i.crn)},{icon:fe.d,dataTip:!0,dataFor:T,onClick:function(){return k(i)}}],style:o?{backgroundColor:l}:void 0,children:[Object(G.jsx)(Re.a,{id:T,className:"tooltip",type:"dark",place:"right",effect:"solid",children:"Exclude from Combinations"}),Object(G.jsxs)("div",{className:"section-details",children:[Object(G.jsx)("div",{className:"delivery-mode",children:null!=i.deliveryMode?S[i.deliveryMode]:""}),Object(G.jsx)("div",{className:"meeting-container",children:i.meetings.map((function(e,t){return Object(G.jsxs)("div",{className:"meeting",children:[Object(G.jsx)("span",{className:"days",children:e.days.join("")}),Object(G.jsx)("span",{className:"period",children:Y(e.period)})]},t)}))}),Object(G.jsx)(Re.a,{id:i.id,className:"tooltip",type:"dark",place:"right",effect:"solid",afterShow:function(){return N=!0,void setTimeout((function(){N&&i.fetchSeating(b).then((function(e){C(e)})).catch((function(e){return W(new B({message:"error while fetching seating",source:e,fields:{crn:i.crn,term:i.term}}))}))}),333)},afterHide:function(){N=!1},children:Object(G.jsx)("table",{children:Object(G.jsxs)("tbody",{children:[Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Seats Filled"})}),Object(G.jsx)("td",{children:0===w[0].length?"Loading...":"number"===typeof w[0][1]?"".concat(null!==(t=w[0][1])&&void 0!==t?t:"<unknown>"," of ").concat(null!==(n=w[0][0])&&void 0!==n?n:"<unknown>"):"N/A"})]}),Object(G.jsxs)("tr",{children:[Object(G.jsx)("td",{children:Object(G.jsx)("b",{children:"Waitlist Filled"})}),Object(G.jsx)("td",{children:0===w[0].length?"Loading...":"number"===typeof w[0][1]?"".concat(null!==(c=w[0][3])&&void 0!==c?c:"<unknown>"," of ").concat(null!==(a=w[0][2])&&void 0!==a?a:"<unknown>"):"N/A"})]})]})})})]})]})}n(324);function on(e){var t=e.label,n=e.active,r=void 0!==n&&n,c=e.onClick,a=e.className,s=e.style;return Object(G.jsx)("button",{className:J("Tab",r&&"active",a),style:s,onClick:c,type:"button",children:t})}n(325);function ln(){var e=!ct(E);return Object(G.jsx)("div",{className:J("Attribution"),children:Object(G.jsxs)("p",{children:["Copyright (c) 2021 with"," ",Object(G.jsx)("span",{role:"img","aria-label":"love",children:"\u2764\ufe0f"})," ","by ",Object(G.jsx)("a",{href:"https://jasonpark.me",children:"Jinseo Park"}),","," ",Object(G.jsx)("a",{href:"https://bitsofgood.org",children:"Bits of Good"}),", and"," ",Object(G.jsx)("a",{href:"https://github.com/gt-scheduler/website/graphs/contributors",children:e?"others":"the GT Scheduler contributors"}),"."]})})}n(326);function un(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),s=Object(m.a)(a,2),i=s[0],o=s[1],l=Object(r.useState)(null),u=Object(m.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(""),f=Object(m.a)(b,2),h=f[0],O=f[1],v=Object(r.useState)(!1),p=Object(m.a)(v,2),g=p[0],x=p[1];return Object(G.jsxs)(G.Fragment,{children:[!n&&Object(G.jsx)("div",{className:"FeedbackButtonWrapper",children:Object(G.jsx)(he,{className:"FeedbackButton",onClick:function(){return c(!0)},children:Object(G.jsx)(be.a,{icon:fe.j,size:"2x"})})}),n&&Object(G.jsx)("div",{children:Object(G.jsx)("form",{className:"FeedbackForm",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)(be.a,{icon:fe.y,className:"CloseIcon",onClick:function(){return c(!1)}}),Object(G.jsx)("h3",{className:"FeedbackTitle",children:"Feedback"}),!i&&Object(G.jsxs)("div",{children:[Object(G.jsx)("p",{className:"text",children:"How would you rate your experience?"}),Object(G.jsx)("div",{className:"FormButtons",children:[1,2,3,4,5].map((function(e){return Object(G.jsx)(he,{className:J("FormButton",d===e-1&&"active"),onClick:function(){return j(e-1)},children:e},e)}))}),Object(G.jsxs)("div",{className:"ScoreLabels",children:[Object(G.jsx)("span",{className:"score",style:{marginLeft:"4px"},children:"Poor"}),Object(G.jsx)("span",{className:"score",style:{marginRight:"4px"},children:"Great"})]}),Object(G.jsx)("textarea",{className:"FeedbackTextArea",placeholder:"Please let us know if you have any more feedback!",onChange:function(e){return O(e.target.value)},value:h}),Object(G.jsx)(he,{className:"SubmitButton",onClick:function(){x(!0),function(e){return dn.apply(this,arguments)}({rating:(null!==d&&void 0!==d?d:0)+1,feedback:h}).then((function(){o(!0),x(!1)})).catch((function(){o(!0),x(!1)}))},disabled:null==d||g,children:"Submit"})]}),i&&Object(G.jsxs)("div",{className:"submitted",children:[Object(G.jsx)("p",{className:"submitted-thanks text",children:Object(G.jsx)("span",{children:"Thank you for your feedback!"})}),Object(G.jsx)("div",{children:Object(G.jsx)(he,{className:"SubmitButton",onClick:function(){return c(!1)},children:"Close"})})]})]})})})]})}function dn(){return(dn=Object(b.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rating,r=t.feedback,c="".concat(k,"/feedback"),e.next=4,je()({method:"post",url:c,data:{rating:n,feedback:r},headers:{"Content-Type":"application/json;charset=UTF-8"}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jn=n(80),bn=n.n(jn),fn="visited-merge-notice";function hn(){return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("img",{style:{width:"175px",margin:"0 auto",display:"block"},alt:"GT Scheduler Logo",src:"/mascot.png"}),Object(G.jsx)("h1",{children:"GT Scheduler"}),Object(G.jsxs)("p",{children:["Hey there, yellow jackets!"," ",Object(G.jsx)("a",{href:"https://github.com/gt-scheduler",children:"GT Scheduler"})," is a new collaboration between ",Object(G.jsx)("a",{href:"https://bitsofgood.org/",children:"Bits of Good"})," ","and ",Object(G.jsx)("a",{href:"https://jasonpark.me/",children:"Jason (Jinseo) Park"})," aimed at making class registration easier for everybody! Now, you can access course prerequisites, instructor GPAs, live seating information, and more all in one location."]}),Object(G.jsxs)("p",{children:["If you enjoy our work and are interested in contributing, feel free to"," ",Object(G.jsx)("a",{href:"https://github.com/gt-scheduler/website/pulls",children:"open a pull request"})," ","with your improvements. Thank you and enjoy!"]})]})}function mn(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(Et.a)(fn,(function(){return"true"===bn.a.get(fn)})),s=Object(m.a)(a,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){i||(c(!0),o(!0))}),[i,o]),Object(G.jsx)(bt,{show:n,onHide:function(){return c(!1)},buttons:[{label:"Got it!",onClick:function(){return c(!1)}}],children:Object(G.jsx)(hn,{})})}var On=function(e){Object(I.a)(n,e);var t=Object(R.a)(n);function n(e){var r;return Object(D.a)(this,n),(r=t.call(this,e)).state={error:null,info:null},r}return Object(A.a)(n,[{key:"componentDidCatch",value:function(e,t){W(new B({message:"ErrorBoundary caught error from further in render tree",source:e,fields:{reactErrorInfo:t}})),this.setState({info:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.fallback,r=this.state,c=r.error,a=r.info;return null!==c?null!=n?Object(G.jsx)(G.Fragment,{children:n(c,a)}):null:Object(G.jsx)(G.Fragment,{children:t})}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e,info:null}}}]),n}(c.a.Component);function vn(e){var t=e.name,n=e.children,r=e.style,c=e.className;return Object(G.jsxs)("div",{className:J(c,"error-details-field"),style:r,children:[Object(G.jsx)("strong",{children:t}),": ",n]})}function pn(e){var t=e.error,n=e.errorInfo;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(xn,{error:t}),null!==n&&Object(G.jsx)(vn,{name:"Component stacktrace",children:Object(G.jsx)("pre",{children:Object(G.jsx)("code",{children:n.componentStack.replace(/^[\n\r]+/,"")})})})]})}function gn(e){var t=e.error,n=e.overview,r=e.name;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(xn,{error:t}),Object(G.jsxs)(vn,{name:"Operation name",children:["(loading) ",r]}),Object(G.jsx)(vn,{name:"Overview",children:n})]})}function xn(e){var t,n=e.error;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(vn,{name:"Name",children:n.name}),Object(G.jsx)(vn,{name:"Message",children:n.message}),Object(G.jsx)(vn,{name:"Version",children:"f466af7e4a65917c7fa3e75a9d73c20703bdd336"}),n instanceof B&&Object(G.jsx)(vn,{name:"Fields",children:Object(G.jsx)("pre",{children:Object(G.jsx)("code",{children:Object.entries(n.getAllFields()).map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return"    ".concat(n,": ").concat(L()(r))})).join("\n")})})}),Object(G.jsx)(vn,{name:"Stacktrace",children:Object(G.jsx)("pre",{children:Object(G.jsx)("code",{children:null!==(t=n.stack)&&void 0!==t?t:"~"})})})]})}n(327);function yn(e){var t=e.children,n=e.label,c=void 0===n?"Details":n,a=e.className,s=e.style,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return Object(G.jsxs)("div",{className:J("expandable-card",a),style:s,children:[Object(G.jsxs)("button",{className:"expandable-card-button",onClick:function(){return u(!l)},type:"button",children:[Object(G.jsx)(be.a,{fixedWidth:!0,icon:fe.g,style:{transform:l?"rotate(-90deg)":"none",marginRight:8}}),c]}),l&&t]})}n(328);function wn(e){var t=e.errorDetails,n=e.children;return Object(G.jsxs)("div",{className:"error-display-outer",children:[n,Object(G.jsxs)("div",{children:["If the issue keeps happening, please consider filing"," ",Object(G.jsx)("a",{href:"https://github.com/gt-scheduler/website/issues/new?assignees=&labels=bug&template=bug-report----.md&title=",target:"_blank",rel:"noreferrer noopener",children:"a new issue on the gt-scheduler GitHub"}),", and include the information below under \u201cError Details\u201d in addition to what you were doing when the error occurred."]}),Object(G.jsx)("div",{children:"The error has already been logged, but filing an issue lets you provide more information about what happened and makes it a lot easier for us to fix the bug. Thanks \u2764"}),Object(G.jsx)(yn,{label:"Error Details",children:t})]})}n(329);function Cn(){return Object(G.jsxs)("div",{className:"error-header",children:[Object(G.jsx)(be.a,{icon:fe.m}),Object(G.jsx)("h4",{children:"An error occurred :("})]})}var Sn=["Scheduler","Map"],Nn=c.a.createContext({currentTabIndex:0,setTabIndex:function(){throw new B({message:"empty AppNavigationContext.setTabIndex value being used"})},isDrawerOpen:!1,openDrawer:function(){throw new B({message:"empty AppNavigationContext.openDrawer value being used"})},closeDrawer:function(){throw new B({message:"empty AppNavigationContext.closeDrawer value being used"})}});function kn(e){var t=e.children,n=!ct(E),c=Object(r.useState)(0),a=Object(m.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(!1),l=Object(m.a)(o,2),u=l[0],d=l[1],j=Object(r.useCallback)((function(){return d(!0)}),[]),b=Object(r.useCallback)((function(){return d(!1)}),[]);Object(r.useEffect)((function(){u&&!n&&d(!1)}),[u,n]);var f=Object(r.useMemo)((function(){return{currentTabIndex:s,setTabIndex:i,isDrawerOpen:u,openDrawer:j,closeDrawer:b}}),[s,i,u,j,b]);return Object(G.jsx)(Nn.Provider,{value:f,children:t})}function En(e){var t=Vt(e.captureRef);return Object(G.jsx)(Tn,Object(d.a)({},t))}function Tn(e){var t=e.onCopyCrns,n=void 0===t?function(){}:t,c=e.enableCopyCrns,a=void 0!==c&&c,s=e.onExportCalendar,i=void 0===s?function(){}:s,o=e.enableExportCalendar,l=void 0!==o&&o,u=e.onDownloadCalendar,d=void 0===u?function(){}:u,j=e.enableDownloadCalendar,b=void 0!==j&&j,f=e.accountState,h=void 0===f?{type:"loading"}:f,m=!ct(E),O=ct(600),v=Object(r.useContext)(Nn),p=v.currentTabIndex,g=v.setTabIndex,x=v.isDrawerOpen,y=v.closeDrawer;return m?Object(G.jsxs)(Qt,{open:x,onClose:y,children:[!O&&Object(G.jsx)(It,{accountState:h,onCopyCrns:n,enableCopyCrns:a,onExportCalendar:i,enableExportCalendar:l,onDownloadCalendar:d,enableDownloadCalendar:b}),Object(G.jsx)(Xt,{items:Sn,currentItem:p,onChangeItem:g})]}):null}var Dn=n(29);var An="https://api.github.com/repos/".concat("gt-scheduler/crawler","/contents?ref=").concat("gh-pages");n(330);function _n(e){var t,n=e.state,r=e.name;if("loading"===n.type)t=Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Ze,{size:"normal",style:{opacity:.6}}),Object(G.jsx)("h4",{children:"Loading"}),Object(G.jsx)("div",{children:r})]});else{if("custom"===n.type)return Object(G.jsx)(G.Fragment,{children:n.contents});t=n.stillLoading?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Ze,{size:"normal",style:{opacity:.6}}),Object(G.jsx)("h4",{children:"Loading"}),Object(G.jsxs)(wn,{errorDetails:Object(G.jsx)(gn,{error:n.error,overview:n.overview,name:r}),children:[Object(G.jsxs)("div",{children:["An error ocurred while loading ",r,": ",n.overview]}),Object(G.jsx)("div",{children:"The application is retrying in the background, so the issue may resolve itself. If it doesn't, try refreshing the page."})]})]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Cn,{}),Object(G.jsxs)(wn,{errorDetails:Object(G.jsx)(gn,{error:n.error,overview:n.overview,name:r}),children:[Object(G.jsxs)("div",{children:["An unrecoverable error ocurred while loading ",r,":"," ",n.overview]}),Object(G.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})}return Object(G.jsx)("div",{className:"loading-display",children:t})}function In(){var e=Object(r.useContext)(Nn),t=e.currentTabIndex,n=e.setTabIndex,c=e.openDrawer,a=Object(r.useRef)(null);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(En,{captureRef:a}),Object(G.jsx)(Bt,{currentTab:t,onChangeTab:n,onToggleMenu:c,tabs:Sn,captureRef:a}),Object(G.jsxs)(On,{fallback:function(e,n){var r;return Object(G.jsxs)(Fn,{children:[Object(G.jsx)(Cn,{}),Object(G.jsxs)(wn,{errorDetails:Object(G.jsx)(pn,{error:e,errorInfo:n}),children:[Object(G.jsxs)("div",{children:["There was en error somewhere somewhere in the"," ",null!==(r=Sn[t])&&void 0!==r?r:"?"," tab and it can't continue."]}),Object(G.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})},children:[0===t&&Object(G.jsx)(an,{}),1===t&&Object(G.jsx)(qt,{}),Object(G.jsx)("div",{className:"capture-container",ref:a,children:Object(G.jsx)(Pe,{className:"fake-calendar",capture:!0,overlayCrns:[]})})]}),Object(G.jsx)(ln,{})]})}var Rn=c.a.memo(In);function Mn(e){var t=e.children,n=e.accountState,c=e.termsState,a=Object(r.useContext)(Nn),s=a.currentTabIndex,i=a.setTabIndex,o=a.openDrawer;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(Tn,{}),Object(G.jsx)(Rt,{currentTab:s,onChangeTab:i,onToggleMenu:o,tabs:Sn,accountState:null!==n&&void 0!==n?n:{type:"loading"},termsState:null==c?{type:"loading"}:Object(d.a)({type:"loaded"},c),versionsState:{type:"loading"}}),t,Object(G.jsx)(ln,{})]})}function Fn(e){var t=e.children;return Object(G.jsx)("div",{className:J("main","skeleton"),children:Object(G.jsx)("div",{className:"skeleton-content",children:Object(G.jsx)("div",{className:"skeleton-content-inner",children:t})})})}n(331);function Pn(){return Object(G.jsxs)("div",{className:"warning-header",children:[Object(G.jsx)(be.a,{icon:fe.l}),Object(G.jsx)("h4",{children:"Warning"})]})}n(332);function Ln(e){var t=e.onAccept;return Object(G.jsxs)("div",{className:"data-not-persistent-notification",children:[Object(G.jsx)(Pn,{}),Object(G.jsx)("p",{children:"Your browser doesn't support storing data using local storage, which gt-scheduler relies on to persist schedule data between sessions."}),Object(G.jsx)("p",{children:"Reasons this might be the case:"}),Object(G.jsxs)("ul",{children:[Object(G.jsx)("li",{children:"You're using an outdated browser that doesn't support local storage"}),Object(G.jsx)("li",{children:"You're using Mobile Safari with private mode enabled"}),Object(G.jsx)("li",{children:"You're using Safari with cookies disabled"})]}),Object(G.jsx)("p",{children:Object(G.jsx)("strong",{children:"Would you like to continue using gt-scheduler? Your schedules will not be saved once you close this tab."})}),Object(G.jsx)("button",{className:"data-not-persistent-notification--button",onClick:t,type:"button",children:"Accept"})]})}var Vn="schedule-data";function Bn(e,t){return""!==e&&"undefined"!==e&&t.includes(e)}function Wn(e){var t={version:2,terms:{}};return Object.entries(e.terms).forEach((function(e){var n=Object(m.a)(e,2),r=n[0],c=n[1],a=new Date,s={versions:{}},i=c.versions.map((function(e,t){var n=Ae(),r=function(e){return new Date(a.getTime()+1e3*e)}(t);return[n,{name:e.name,createdAt:r.toISOString(),schedule:e.schedule}]}));s.versions=Object.fromEntries(i),t.terms[r]=s})),t}var Hn={desiredCourses:[],pinnedCrns:[],excludedCrns:[],colorMap:{},sortingOptionIndex:0};var Gn=function(e){return null!=e&&Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))};function zn(e,t){try{if(null==e||"object"!==typeof e||Array.isArray(e))return{type:"error",fallback:Hn,errors:[new B({message:"term data is the wrong type",fields:{rawTermData:t,termDataType:typeof e,termData:e}})]};var n=Object(d.a)({},Hn),r=e,c=[],a=r.desiredCourses,s=r.pinnedCrns,i=r.excludedCrns,o=r.colorMap,l=r.sortingOptionIndex;return Gn(a)?n.desiredCourses=a:c.push(new B({message:"termData.desiredCourses was not a string array",fields:{rawTermData:t,termData:e,desiredCourses:a,fallback:n.desiredCourses}})),Gn(s)?n.pinnedCrns=s:c.push(new B({message:"termData.pinnedCrns was not a string array",fields:{rawTermData:t,termData:e,pinnedCrns:s,fallback:n.pinnedCrns}})),Gn(i)?n.excludedCrns=i:c.push(new B({message:"termData.excludedCrns was not a string array",fields:{rawTermData:t,termData:e,excludedCrns:i,fallback:n.excludedCrns}})),"object"===typeof(u=o)&&null!=u&&Object.keys(u).every((function(e){return"string"===typeof e}))&&Object.values(u).every((function(e){return"string"===typeof e}))?n.colorMap=o:c.push(new B({message:"termData.colorMap was not a string/string map",fields:{rawTermData:t,termData:e,colorMap:o,fallback:n.colorMap}})),"number"===typeof l?n.sortingOptionIndex=l:c.push(new B({message:"termData.sortingOptionIndex was not a number",fields:{rawTermData:t,termData:e,sortingOptionIndex:l,fallback:n.sortingOptionIndex}})),c.length>0?{type:"error",fallback:n,errors:c}:{type:"valid",termData:n}}catch(j){return j instanceof Error?{type:"error",fallback:Hn,errors:[new B({message:"an unexpected error occurred when parsing term data",source:j,fields:{rawTermData:t}})]}:{type:"error",fallback:Hn,errors:[new B({message:"an unexpected error occurred when parsing term data",fields:{rawTermData:t,originalError:j}})]}}var u}var Un={terms:{},currentTerm:"",version:1};function Kn(e){var t,n=null!==(t=e.term)&&void 0!==t?t:"",r=Math.floor(1e5*Math.random()),c={};return Object.entries(e).forEach((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];if(Xe(n)){var s=function(e){if(""===e||"undefined"===e)return{type:"error",error:new B({message:'raw term data was empty or "undefined"',fields:{rawTermData:e}})};try{return{type:"parsed",parsed:JSON.parse(e)}}catch(t){return{type:"error",error:new B({message:"raw term data was not valid JSON data",source:t,fields:{rawTermData:e}})}}}(a);if("error"===s.type)return void W(new B({message:"parsing error for guessed term data when migrating",source:s.error,fields:{cookieKey:n,cookieValue:a,userNumber:r}}));var i=zn(s.parsed,a);"error"===i.type?(i.errors.forEach((function(e){W(new B({message:"validation error for guessed term data when migrating",source:e,fields:{cookieKey:n,cookieValue:a,userNumber:r}}))})),c[n]={versions:[{name:"Primary",schedule:i.fallback}],currentIndex:0}):c[n]={versions:[{name:"Primary",schedule:i.termData}],currentIndex:0}}})),{terms:c,currentTerm:n,version:1}}function Yn(e){var t;if(null===e)try{t=Kn(bn.a.get())}catch(n){W(new B({source:n,message:"an error occurred when sourcing schedule data from cookies"})),t=Un}else t=e;return 1===t.version?Wn(t):t}var qn={currentTerm:"",versionStates:{}};function Qn(){var e,t,n=function(e,t){var n=Object(r.useState)((function(){var n=null;try{return(n=window.localStorage.getItem(e))?JSON.parse(n):t}catch(r){return W(new B({message:"useLocalStorageNoSync load local storage failed",source:r,fields:{key:e}})),t}})),c=Object(m.a)(n,2),a=c[0],s=c[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;s(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(r){W(new B({message:"useLocalStorageNoSync setValue call failed",source:r,fields:{key:e}}))}}]}("ui-state",qn),c=Object(m.a)(n,2),a=c[0],s=a.currentTerm,i=a.versionStates,o=c[1];return{currentTerm:s,setTerm:Object(r.useCallback)((function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{currentTerm:e})}))}),[o]),currentVersion:null!==(e=null===(t=i[s])||void 0===t?void 0:t.currentVersion)&&void 0!==e?e:"",setVersion:Object(r.useCallback)((function(e){o((function(t){return Object(d.a)(Object(d.a)({},t),{},{versionStates:Object(d.a)(Object(d.a)({},t.versionStates),{},Object(Be.a)({},t.currentTerm,{currentVersion:e}))})}))}),[o])}}function Xn(e){var t=Object(r.useState)({type:"loading"}),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(null),i=Object(m.a)(s,2),o=i[0],l=i[1];Object(r.useEffect)((function(){if(pt){var t=yt.doc(e.id).onSnapshot({includeMetadataChanges:!1},(function(e){var t=e.data();a(null==t?{type:"nonExistant"}:{type:"exists",data:e.data()})}));return function(){return t()}}}),[e.id]);var d=Object(r.useCallback)((function(t){var n;"function"===typeof t?n=t("exists"===c.type?c.data:null):n=t;null!==n&&(a({type:"exists",data:n}),yt.doc(e.id).set(n).catch((function(t){W(new B({message:"error when updating remote document",source:t,fields:{accountId:e.id}}))})))}),[e.id,c]);return Object(r.useEffect)((function(){if(pt&&"nonExistant"===c.type){var t;try{var n;t=null!==(n=function(){var e=function(){var e=window.localStorage.getItem(Vn);return null===e?null:JSON.parse(e)}();return null===e?null:Yn(e)}())&&void 0!==n?n:Ee}catch(r){W(new B({message:"failed to imperatively get current schedule data during account seeding",source:r,fields:{accountId:e.id}})),t=Ee}xt.runTransaction(function(){var n=Object(b.a)(u.a.mark((function n(r){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.get(yt.doc(e.id));case 2:if(!n.sent.exists){n.next=5;break}return n.abrupt("return");case 5:r.set(yt.doc(e.id),Object(Dn.a)(t));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(t){var n=new B({message:"an error occurred while initializing account schedule data",source:t,fields:{account:e.id}});W(n),l({type:"error",error:n,stillLoading:!1,overview:String(t)})}))}}),[e.id,c.type]),pt?null!==o?o:"loading"===c.type||"nonExistant"===c.type?{type:"loading"}:{type:"loaded",result:{rawScheduleData:Object(Dn.b)(c.data),setRawScheduleData:d}}:{type:"error",error:new B({message:"cannot obtain data from firebase: authentication is disabled"}),stillLoading:!1,overview:"authentication is not enabled"}}function Jn(e){var t=e.children,n=Qn();return Object(G.jsx)(G.Fragment,{children:t(Object(d.a)({},n))})}function Zn(e){var t=e.skeletonProps,n=e.terms,c=e.currentTermRaw,a=e.setTerm,s=e.children,i=function(e){var t=e.terms,n=e.setTerm,c=e.currentTermRaw;return Object(r.useEffect)((function(){var e=t[0],r=Bn(c,t)?c:e;r!==c&&n(r)}),[c,t,n]),Bn(c,t)?{type:"loaded",result:{currentTerm:c}}:{type:"loading"}}({terms:n,currentTermRaw:c,setTerm:a});return"loaded"!==i.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:i,name:"current term"})})})):Object(G.jsx)(G.Fragment,{children:s(Object(d.a)({},i.result))})}function $n(e){var t=e.skeletonProps,n=e.children,c=function(){var e,t=Object(Et.a)(Vn,null),n=Object(m.a)(t,3),c=n[0],a=n[1],s=n[2].isPersistent,i=Object(r.useState)(!1),o=Object(m.a)(i,2),l=o[0],u=o[1];return s||l?{type:"loaded",result:{rawScheduleData:c,setRawScheduleData:a}}:{type:"custom",contents:(e={onAccept:function(){u(!0)}},Object(G.jsx)(Ln,Object(d.a)({},e)))}}();return"loaded"!==c.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:c,name:"local schedule data"})})})):Object(G.jsx)(G.Fragment,{children:n(Object(d.a)({},c.result))})}function er(e){var t=e.skeletonProps,n=e.rawScheduleData,c=e.setRawScheduleData,a=e.children,s=function(e){var t=e.rawScheduleData,n=e.setRawScheduleData,c=Object(r.useState)(null),a=Object(m.a)(c,2),s=a[0],i=a[1];Object(r.useEffect)((function(){if(null===t||2!==t.version){if(null!==t&&t.version>2){var e=new B({message:"schedule data version is greater than max supported version",fields:{version:t.version,maxSupportedVersion:2}});return W(e),void i({type:"error",error:e,stillLoading:!1,overview:"could not load stored schedule data: unknown format"})}try{var r=Yn(t);n(r)}catch(e){var c=new B({source:e,message:"an error occurred when loading schedule data"});W(c),i({type:"error",error:c,stillLoading:!1,overview:"could not convert stored schedule data to latest version"})}}}),[t,n]);var o=Object(r.useCallback)((function(e){n("function"!==typeof e?e:function(t){var n;return null===t||2!==t.version?(W(new B({message:"setScheduleData called when schedule data isn't fully migrated",fields:{versionOrNull:null!==(n=null===t||void 0===t?void 0:t.version)&&void 0!==n?n:null}})),t):e(t)})}),[n]);return null!==s?s:null===t||2!==t.version?{type:"loading"}:{type:"loaded",result:{scheduleData:t,setScheduleData:o}}}({rawScheduleData:Object(Dn.a)(n),setRawScheduleData:c});return"loaded"!==s.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:s,name:"schema migrations to schedule data"})})})):Object(G.jsx)(G.Fragment,{children:a(Object(d.a)({},s.result))})}function tr(e){var t=e.skeletonProps,n=e.accountState,r=e.children;return"signedIn"===n.type?Object(G.jsx)(nr,{skeletonProps:t,accountState:n,children:r}):Object(G.jsx)($n,{skeletonProps:t,children:r})}function nr(e){var t=e.skeletonProps,n=e.accountState,r=e.children,c=Xn(n);return"loaded"!==c.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:c,name:"schedule data from the cloud"})})})):Object(G.jsx)(G.Fragment,{children:r(Object(d.a)({},c.result))})}function rr(e){var t=e.skeletonProps,n=e.children,c=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){if(pt){var e=Ot.a.auth().onAuthStateChanged((function(e){if(null===e)c({type:"signedOut"});else{var t=null;if(null!=e.providerData){var n=e.providerData[0];null!=n&&(t=n.providerId)}c({type:"signedIn",name:e.displayName,email:e.email,id:e.uid,provider:t,signOut:function(){Ot.a.auth().signOut().catch((function(e){W(new B({message:"call to firebase.auth().signOut() failed",source:e}))}))}})}}));return function(){return e()}}}),[]),pt?null===n?{type:"loading"}:{type:"loaded",result:n}:{type:"loaded",result:{type:"signedOut"}}}();return"loaded"!==c.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:c,name:"account"})})})):Object(G.jsx)(G.Fragment,{children:n({accountState:c.result})})}function cr(e){var t=e.setScheduleData,n=e.children,c=function(e){var t=e.setScheduleData;return{updateScheduleData:Object(r.useCallback)((function(e){return t((function(t){return Object(Dn.c)(t,e)}))}),[t])}}({setScheduleData:t}).updateScheduleData;return Object(G.jsx)(G.Fragment,{children:n({updateScheduleData:c})})}function ar(e){var t=e.skeletonProps,n=e.children,c=function(){var e=Object(r.useState)({type:"loading"}),t=Object(m.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=new He;function t(){return(t=Object(b.a)(u.a.mark((function t(){var n,r,a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=1;case 1:if(e.isCancelled){t.next=25;break}return t.prev=2,r=je.a.get(An),t.next=6,e.perform(r);case 6:if(!(a=t.sent).cancelled){t.next=9;break}return t.abrupt("return");case 9:if(0!==(s=a.value.data.map((function(e){return e.name})).filter((function(e){return/\d{6}\.json/.test(e)})).map((function(e){return e.replace(/\.json$/,"")})).sort().reverse()).length){t.next=12;break}throw new B({message:"fetched list of terms is empty; cannot continue"});case 12:return c({type:"loaded",result:s}),t.abrupt("return");case 16:t.prev=16,t.t0=t.catch(2),ce(t.t0)||W(new B({message:"error fetching list of terms",source:t.t0,fields:{url:An}})),c({type:"error",error:t.t0 instanceof Error?t.t0:new B({message:"an error occurred while fetching terms",source:t.t0}),stillLoading:!0,overview:String(t.t0)});case 20:return t.next=22,ae(n);case 22:n+=1,t.next=1;break;case 25:case"end":return t.stop()}}),t,null,[[2,16]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}().catch((function(){})),function(){e.cancel()}}),[c]),n}();return"loaded"!==c.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:c,name:"list of current terms"})})})):Object(G.jsx)(G.Fragment,{children:n({terms:c.result})})}function sr(e){var t=e.skeletonProps,n=e.currentTerm,c=e.scheduleData,a=e.updateScheduleData,s=e.children,i=function(e){var t=e.currentTerm,n=e.scheduleData,c=e.updateScheduleData;Object(r.useEffect)((function(){var e=n.terms[t],r=void 0===e?Te:e;r!==e&&c((function(e){e.terms[t]=Object(Dn.a)(r)}))}),[t,n.terms,c]);var a=n.terms[t],s=Object(r.useCallback)((function(e){c((function(n){var r=n.terms[t];void 0!==r?n.terms[t]=Object(Dn.c)(r,(function(t){return Object(Dn.a)(e(t))})):W(new B({message:"updateTermScheduleData called on term that does not exist",fields:{currentTerm:t,currentTermScheduleData:a,allTermsInData:Object.keys(n.terms)}}))}))}),[t,a,c]);return void 0===a?{type:"loading"}:{type:"loaded",result:{termScheduleData:a,updateTermScheduleData:s}}}({currentTerm:n,scheduleData:c,updateScheduleData:a});return"loaded"!==i.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:i,name:"schedule data for the current term"})})})):Object(G.jsx)(G.Fragment,{children:s(Object(d.a)({},i.result))})}function ir(e){var t=e.skeletonProps,n=e.term,c=e.children,a=function(e){var t=Object(r.useState)({type:"loading"}),n=Object(m.a)(t,2),c=n[0],a=n[1],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=new He,n=function(e){return"https://gt-scheduler.github.io/crawler/".concat(e,".json")}(e);function r(){return(r=Object(b.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0;case 1:if(t.isCancelled){e.next=15;break}return e.next=4,c({initialLoad:n});case 4:if(!t.isCancelled){e.next=6;break}return e.abrupt("return");case 6:return r=ie({amount_ms:9e5}),e.next=9,t.perform(r);case 9:if(!e.sent.cancelled){e.next=12;break}return e.abrupt("return");case 12:n=!1,e.next=1;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return i.apply(this,arguments)}function i(){return(i=Object(b.a)(u.a.mark((function r(c){var i,o,l,d,j,b,f;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(i=c.initialLoad)&&a({type:"loading"}),o=1;case 3:if(t.isCancelled){r.next=29;break}return r.prev=4,d=je.a.get(n),r.next=8,t.perform(d);case 8:if(!(j=r.sent).cancelled){r.next=11;break}return r.abrupt("return");case 11:if(b=j.value.data,null===s.current||new Date(b.updatedAt).getTime()!==(null===(l=s.current)||void 0===l?void 0:l.updatedAt.getTime())){r.next=14;break}return r.abrupt("return");case 14:return f=new Ne(b,e),a({type:"loaded",result:f}),s.current=f,r.abrupt("return");case 20:r.prev=20,r.t0=r.catch(4),ce(r.t0)||W(new B({message:"error fetching crawler data",source:r.t0,fields:{term:e,url:n}})),i&&a({type:"error",error:r.t0 instanceof Error?r.t0:new B({message:"an error occurred while fetching crawler data",source:r.t0}),stillLoading:!0,overview:String(r.t0)});case 24:return r.next=26,ae(o);case 26:o+=1,r.next=3;break;case 29:case"end":return r.stop()}}),r,null,[[4,20]])})))).apply(this,arguments)}return function(){return r.apply(this,arguments)}().catch((function(t){W(new B({message:"error loading and refreshing oscar data",source:t,fields:{term:e,url:n}}))})),function(){t.cancel()}}),[e,a]),"loaded"===c.type&&c.result.term!==e?{type:"loading"}:c}(n);return"loaded"!==a.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:a,name:"Oscar course data for the current term"})})})):Object(G.jsx)(G.Fragment,{children:c({oscar:a.result})})}function or(e){var t=e.skeletonProps,n=e.currentVersionRaw,c=e.setVersion,a=e.termScheduleData,s=e.updateTermScheduleData,i=e.children,o=function(e){var t,n=e.termScheduleData,c=e.updateTermScheduleData,a=e.currentVersionRaw,s=e.setVersion,i=null!==(t=n.versions[a])&&void 0!==t?t:null;Object(r.useEffect)((function(){null===i&&c((function(e){if(null==e.versions[a])if(0===Object.keys(e.versions).length){var t=Ae();e.versions[t]={name:"Primary",createdAt:(new Date).toISOString(),schedule:Object(Dn.a)(De)},s(t)}else{var n,r=Object.entries(e.versions).sort((function(e,t){var n=Object(m.a)(e,2)[1],r=Object(m.a)(t,2)[1];return ue(n.createdAt,r.createdAt)}));s(null===(n=r[0])||void 0===n?void 0:n[0])}}))}),[a,i,c,s]);var o=Object(r.useCallback)((function(e){c((function(t){var n,r=null!==(n=t.versions[a])&&void 0!==n?n:null;null!==r?t.versions[a]=Object(Dn.c)(r,(function(t){return Object(Dn.a)(e(t))})):W(new B({message:"updateScheduleVersion called with invalid current schedule version; ignoring",fields:{currentVersionRaw:a,currentScheduleVersion:null}}))}))}),[c,a]);return null===i?{type:"loading"}:{type:"loaded",result:{currentVersion:a,scheduleVersion:i,updateScheduleVersion:o}}}({termScheduleData:a,updateTermScheduleData:s,currentVersionRaw:n,setVersion:c});return"loaded"!==o.type?Object(G.jsx)(Mn,Object(d.a)(Object(d.a)({},t),{},{children:Object(G.jsx)(Fn,{children:Object(G.jsx)(_n,{state:o,name:"current schedule version"})})})):Object(G.jsx)(G.Fragment,{children:i(Object(d.a)({},o.result))})}function lr(e){var t=e.children;return Object(G.jsx)(Jn,{children:function(e){var n=e.currentTerm,r=e.setTerm,c=e.currentVersion,a=e.setVersion;return Object(G.jsx)(ar,{children:function(e){var s=e.terms;return Object(G.jsx)(Zn,{terms:s,setTerm:r,currentTermRaw:n,children:function(e){var n=e.currentTerm,i={terms:s,onChangeTerm:r,currentTerm:n};return Object(G.jsx)(rr,{skeletonProps:{termsState:i},children:function(e){var o=e.accountState;return Object(G.jsx)(ur,{accountState:o,skeletonProps:{termsState:i,accountState:o},children:function(e){var l=e.scheduleData,u=e.updateScheduleData;return Object(G.jsx)(sr,{skeletonProps:{termsState:i,accountState:o},currentTerm:n,scheduleData:l,updateScheduleData:u,children:function(e){var l=e.termScheduleData,u=e.updateTermScheduleData;return Object(G.jsx)(ir,{skeletonProps:{termsState:i,accountState:o},term:n,children:function(e){var d=e.oscar;return Object(G.jsx)(or,{skeletonProps:{termsState:i,accountState:o},currentVersionRaw:c,setVersion:a,termScheduleData:l,updateTermScheduleData:u,children:function(e){var c=e.currentVersion,i=e.scheduleVersion,j=e.updateScheduleVersion;return Object(G.jsx)(dr,{terms:s,currentTerm:n,setTerm:r,currentVersion:c,setVersion:a,oscar:d,scheduleVersion:i,updateScheduleVersion:j,termScheduleData:l,updateTermScheduleData:u,accountState:o,children:t})}})}})}})}})}})}})}})}})}function ur(e){var t=e.skeletonProps,n=e.accountState,r=e.children;return Object(G.jsx)(tr,{skeletonProps:t,accountState:n,children:function(e){var n=e.rawScheduleData,c=e.setRawScheduleData;return Object(G.jsx)(er,{skeletonProps:t,rawScheduleData:n,setRawScheduleData:c,children:function(e){var t=e.scheduleData,n=e.setScheduleData;return Object(G.jsx)(cr,{setScheduleData:n,children:function(e){var n=e.updateScheduleData;return Object(G.jsx)(G.Fragment,{children:r({scheduleData:t,updateScheduleData:n})})}})}})}})}function dr(e){var t=e.terms,n=e.currentTerm,c=e.setTerm,a=e.currentVersion,s=e.setVersion,i=e.oscar,o=e.scheduleVersion,l=e.updateScheduleVersion,u=e.termScheduleData,j=e.updateTermScheduleData,b=e.accountState,f=e.children,h=Object(r.useCallback)((function(e){l((function(t){t.schedule=Object(Dn.c)(t.schedule,(function(t){return Object(Dn.a)(e(t))}))}))}),[l]),O=Object(r.useCallback)((function(e){h((function(t){var n;return Object(d.a)(Object(d.a)({},null!==(n=Object(Dn.d)(t))&&void 0!==n?n:De),e)}))}),[h]),v=Object(r.useMemo)((function(){var e=Object.entries(u.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}}));return e.sort((function(e,t){var n,r,c,a;return ue(null!==(n=null===(r=u.versions[e.id])||void 0===r?void 0:r.createdAt)&&void 0!==n?n:"",null!==(c=null===(a=u.versions[t.id])||void 0===a?void 0:a.createdAt)&&void 0!==c?c:"")})),e}),[u.versions]),p=function(e){var t=e.updateTermScheduleData,n=e.setVersion,c=e.currentVersion;return{addNewVersion:Object(r.useCallback)((function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=Ae();t((function(t){t.versions[c]={name:e,schedule:Object(Dn.a)(De),createdAt:(new Date).toISOString()}})),r&&n(c)}),[t,n]),deleteVersion:Object(r.useCallback)((function(e){t((function(t){if(null!=t.versions[e])if(c===e){var r,a,s=Object.entries(t.versions);if(delete t.versions[e],0===s.length||0===Object.keys(t.versions).length){var i=Ae();return t.versions[i]={name:"Primary",createdAt:(new Date).toISOString(),schedule:Object(Dn.a)(De)},void n(i)}var o=s.sort((function(e,t){var n=Object(m.a)(e,2)[1],r=Object(m.a)(t,2)[1];return n.createdAt>r.createdAt?0:1})),l=o.findIndex((function(t){return Object(m.a)(t,1)[0]===e}));if(-1===l)return;var u=Math.max(l-1,0);n(null!==(r=null===(a=o[u])||void 0===a?void 0:a[0])&&void 0!==r?r:"")}else delete t.versions[e];else W(new B({message:"deleteVersion called with non-existent version id; ignoring",fields:{allVersionNames:Object.entries(t.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}})),versionCount:Object.keys(t.versions).length,id:e}}))}))}),[t,n,c]),renameVersion:Object(r.useCallback)((function(e,n){t((function(t){var r=t.versions[e];void 0!==r?r.name=n:W(new B({message:"renameVersion called with current version name that doesn't exist; ignoring",fields:{allVersionNames:Object.entries(t.versions).map((function(e){var t=Object(m.a)(e,2);return{id:t[0],name:t[1].name}})),id:e,versionCount:Object.keys(t.versions).length,newName:n}}))}))}),[t])}}({updateTermScheduleData:j,setVersion:s,currentVersion:a}),g=p.addNewVersion,x=p.deleteVersion,y=p.renameVersion,w=Object(r.useMemo)((function(){return[Object(d.a)({term:n,oscar:i,currentVersion:a,allVersionNames:v},Object(Dn.a)(o.schedule)),{setTerm:c,patchSchedule:O,updateSchedule:h,setCurrentVersion:s,addNewVersion:g,deleteVersion:x,renameVersion:y}]}),[n,i,a,v,o.schedule,c,O,h,s,g,x,y]);return Object(G.jsx)(ge.Provider,{value:t,children:Object(G.jsx)(_e.Provider,{value:w,children:Object(G.jsx)(Lt.Provider,{value:b,children:f})})})}var jr="theme";n(333);function br(){var e,t=function(){var e=Object(Et.a)(jr,(function(){var e=bn.a.get(jr);return void 0!==e?e:"dark"})),t=Object(m.a)(e,2),n=t[0],c=t[1],a=function(e){switch(e){case"light":case"dark":return!0;default:return!1}}(n)?n:"dark";return Object(r.useEffect)((function(){n!==a&&c(a)}),[n,a,c]),Object(r.useMemo)((function(){return[a,c]}),[a,c])}();return e=t[0],Object(r.useLayoutEffect)((function(){var t;return"string"===typeof e?document.body.classList.add(e):(t=document.body.classList).add.apply(t,Object(h.a)(e)),function(){var t;"string"===typeof e?document.body.classList.remove(e):(t=document.body.classList).remove.apply(t,Object(h.a)(e))}}),[e]),Object(G.jsx)(pe.Provider,{value:t,children:Object(G.jsx)(fr,{children:Object(G.jsxs)(On,{fallback:function(e,t){return Object(G.jsx)(Mn,{children:Object(G.jsxs)(Fn,{children:[Object(G.jsx)(Cn,{}),Object(G.jsxs)(wn,{errorDetails:Object(G.jsx)(pn,{error:e,errorInfo:t}),children:[Object(G.jsx)("div",{children:"There was en error somewhere in the core application logic and it can't continue."}),Object(G.jsx)("div",{children:"Try refreshing the page to see if it fixes the issue."})]})]})})},children:[Object(G.jsx)(kn,{children:Object(G.jsx)(lr,{children:Object(G.jsx)(Rn,{})})}),Object(G.jsx)(un,{}),Object(G.jsx)(mn,{})]})})})}function fr(e){var t=e.children,n=!ct(E);return Object(G.jsx)("div",{className:J("App",n&&"mobile"),children:t})}n(334),n(335);console.log("Initializing Sentry"),i.a({dsn:"https://8955ef982197469e97c7644a8c090db1@o552970.ingest.sentry.io/5679614",integrations:[new o.a.BrowserTracing],tracesSampleRate:1,ignoreErrors:["ResizeObserver loop limit exceeded"],release:"f466af7e4a65917c7fa3e75a9d73c20703bdd336"}),s.a.render(Object(G.jsx)(br,{}),document.getElementById("root"))}},[[336,1,2]]]);
//# sourceMappingURL=main.ec0b3f24.chunk.js.map